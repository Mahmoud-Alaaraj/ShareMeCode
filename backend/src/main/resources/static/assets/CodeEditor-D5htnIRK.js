import{r as U,W as Ee,a as ro,g as Jo,b as Go,d as pr,e as P,j as M}from"./bootstrap.bundle.min-kXvpM-2A.js";function Yo(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Cr(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function xr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Cr(Object(t),!0).forEach(function(r){Yo(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Cr(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ko(n,e){if(n==null)return{};var t={},r=Object.keys(n),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function Qo(n,e){if(n==null)return{};var t=Ko(n,e),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Zo(n,e){return ei(n)||ti(n,e)||ri(n,e)||ni()}function ei(n){if(Array.isArray(n))return n}function ti(n,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(n)))){var t=[],r=!0,o=!1,i=void 0;try{for(var a=n[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(t.push(s.value),!(e&&t.length===e));r=!0);}catch(h){o=!0,i=h}finally{try{!r&&a.return!=null&&a.return()}finally{if(o)throw i}}return t}}function ri(n,e){if(n){if(typeof n=="string")return Er(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Er(n,e)}}function Er(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function ni(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oi(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Or(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Rr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Or(Object(t),!0).forEach(function(r){oi(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Or(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ii(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return e.reduceRight(function(o,i){return i(o)},r)}}function ke(n){return function e(){for(var t=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=n.length?n.apply(this,o):function(){for(var a=arguments.length,s=new Array(a),h=0;h<a;h++)s[h]=arguments[h];return e.apply(t,[].concat(o,s))}}}function Ze(n){return{}.toString.call(n).includes("Object")}function si(n){return!Object.keys(n).length}function De(n){return typeof n=="function"}function ai(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ci(n,e){return Ze(e)||ge("changeType"),Object.keys(e).some(function(t){return!ai(n,t)})&&ge("changeField"),e}function ui(n){De(n)||ge("selectorType")}function li(n){De(n)||Ze(n)||ge("handlerType"),Ze(n)&&Object.values(n).some(function(e){return!De(e)})&&ge("handlersType")}function fi(n){n||ge("initialIsRequired"),Ze(n)||ge("initialType"),si(n)&&ge("initialContent")}function di(n,e){throw new Error(n[e]||n.default)}var hi={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ge=ke(di)(hi),$e={changes:ci,selector:ui,handler:li,initial:fi};function pi(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$e.initial(n),$e.handler(e);var t={current:n},r=ke(gi)(t,e),o=ke(vi)(t),i=ke($e.changes)(n),a=ke(mi)(t);function s(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return $e.selector(f),f(t.current)}function h(f){ii(r,o,i,a)(f)}return[s,h]}function mi(n,e){return De(e)?e(n.current):e}function vi(n,e){return n.current=Rr(Rr({},n.current),e),e}function gi(n,e,t){return De(e)?e(n.current):Object.keys(t).forEach(function(r){var o;return(o=e[r])===null||o===void 0?void 0:o.call(e,n.current[r])}),t}var bi={create:pi},yi={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function _i(n){return function e(){for(var t=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=n.length?n.apply(this,o):function(){for(var a=arguments.length,s=new Array(a),h=0;h<a;h++)s[h]=arguments[h];return e.apply(t,[].concat(o,s))}}}function wi(n){return{}.toString.call(n).includes("Object")}function Si(n){return n||Tr("configIsRequired"),wi(n)||Tr("configType"),n.urls?(Ci(),{paths:{vs:n.urls.monacoBase}}):n}function Ci(){console.warn(no.deprecation)}function xi(n,e){throw new Error(n[e]||n.default)}var no={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Tr=_i(xi)(no),Ei={config:Si},Oi=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(o){return t.reduceRight(function(i,a){return a(i)},o)}};function oo(n,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&n[t]&&Object.assign(e[t],oo(n[t],e[t]))}),xr(xr({},n),e)}var Ri={type:"cancelation",msg:"operation is manually canceled"};function at(n){var e=!1,t=new Promise(function(r,o){n.then(function(i){return e?o(Ri):r(i)}),n.catch(o)});return t.cancel=function(){return e=!0},t}var Ti=bi.create({config:yi,isInitialized:!1,resolve:null,reject:null,monaco:null}),io=Zo(Ti,2),Pe=io[0],tt=io[1];function Ni(n){var e=Ei.config(n),t=e.monaco,r=Qo(e,["monaco"]);tt(function(o){return{config:oo(o.config,r),monaco:t}})}function ki(){var n=Pe(function(e){var t=e.monaco,r=e.isInitialized,o=e.resolve;return{monaco:t,isInitialized:r,resolve:o}});if(!n.isInitialized){if(tt({isInitialized:!0}),n.monaco)return n.resolve(n.monaco),at(ct);if(window.monaco&&window.monaco.editor)return so(window.monaco),n.resolve(window.monaco),at(ct);Oi(Ii,Mi)(Di)}return at(ct)}function Ii(n){return document.body.appendChild(n)}function ji(n){var e=document.createElement("script");return n&&(e.src=n),e}function Mi(n){var e=Pe(function(r){var o=r.config,i=r.reject;return{config:o,reject:i}}),t=ji("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return n()},t.onerror=e.reject,t}function Di(){var n=Pe(function(t){var r=t.config,o=t.resolve,i=t.reject;return{config:r,resolve:o,reject:i}}),e=window.require;e.config(n.config),e(["vs/editor/editor.main"],function(t){so(t),n.resolve(t)},function(t){n.reject(t)})}function so(n){Pe().monaco||tt({monaco:n})}function Ai(){return Pe(function(n){var e=n.monaco;return e})}var ct=new Promise(function(n,e){return tt({resolve:n,reject:e})}),ao={config:Ni,init:ki,__getMonacoInstance:Ai},Pi={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},ut=Pi,Li={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},qi=Li;function Ui({children:n}){return Ee.createElement("div",{style:qi.container},n)}var $i=Ui,Hi=$i;function Wi({width:n,height:e,isEditorReady:t,loading:r,_ref:o,className:i,wrapperProps:a}){return Ee.createElement("section",{style:{...ut.wrapper,width:n,height:e},...a},!t&&Ee.createElement(Hi,null,r),Ee.createElement("div",{ref:o,style:{...ut.fullWidth,...!t&&ut.hide},className:i}))}var Fi=Wi,co=U.memo(Fi);function Bi(n){U.useEffect(n,[])}var uo=Bi;function Vi(n,e,t=!0){let r=U.useRef(!0);U.useEffect(r.current||!t?()=>{r.current=!1}:n,e)}var te=Vi;function Me(){}function xe(n,e,t,r){return Xi(n,r)||zi(n,e,t,r)}function Xi(n,e){return n.editor.getModel(lo(n,e))}function zi(n,e,t,r){return n.editor.createModel(e,t,r?lo(n,r):void 0)}function lo(n,e){return n.Uri.parse(e)}function Ji({original:n,modified:e,language:t,originalLanguage:r,modifiedLanguage:o,originalModelPath:i,modifiedModelPath:a,keepCurrentOriginalModel:s=!1,keepCurrentModifiedModel:h=!1,theme:f="light",loading:u="Loading...",options:c={},height:p="100%",width:S="100%",className:I,wrapperProps:D={},beforeMount:H=Me,onMount:W=Me}){let[v,T]=U.useState(!1),[m,g]=U.useState(!0),N=U.useRef(null),x=U.useRef(null),y=U.useRef(null),O=U.useRef(W),R=U.useRef(H),E=U.useRef(!1);uo(()=>{let l=ao.init();return l.then(b=>(x.current=b)&&g(!1)).catch(b=>(b==null?void 0:b.type)!=="cancelation"&&console.error("Monaco initialization: error:",b)),()=>N.current?_():l.cancel()}),te(()=>{if(N.current&&x.current){let l=N.current.getOriginalEditor(),b=xe(x.current,n||"",r||t||"text",i||"");b!==l.getModel()&&l.setModel(b)}},[i],v),te(()=>{if(N.current&&x.current){let l=N.current.getModifiedEditor(),b=xe(x.current,e||"",o||t||"text",a||"");b!==l.getModel()&&l.setModel(b)}},[a],v),te(()=>{let l=N.current.getModifiedEditor();l.getOption(x.current.editor.EditorOption.readOnly)?l.setValue(e||""):e!==l.getValue()&&(l.executeEdits("",[{range:l.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),l.pushUndoStop())},[e],v),te(()=>{var l,b;(b=(l=N.current)==null?void 0:l.getModel())==null||b.original.setValue(n||"")},[n],v),te(()=>{let{original:l,modified:b}=N.current.getModel();x.current.editor.setModelLanguage(l,r||t||"text"),x.current.editor.setModelLanguage(b,o||t||"text")},[t,r,o],v),te(()=>{var l;(l=x.current)==null||l.editor.setTheme(f)},[f],v),te(()=>{var l;(l=N.current)==null||l.updateOptions(c)},[c],v);let A=U.useCallback(()=>{var d;if(!x.current)return;R.current(x.current);let l=xe(x.current,n||"",r||t||"text",i||""),b=xe(x.current,e||"",o||t||"text",a||"");(d=N.current)==null||d.setModel({original:l,modified:b})},[t,e,o,n,r,i,a]),C=U.useCallback(()=>{var l;!E.current&&y.current&&(N.current=x.current.editor.createDiffEditor(y.current,{automaticLayout:!0,...c}),A(),(l=x.current)==null||l.editor.setTheme(f),T(!0),E.current=!0)},[c,f,A]);U.useEffect(()=>{v&&O.current(N.current,x.current)},[v]),U.useEffect(()=>{!m&&!v&&C()},[m,v,C]);function _(){var b,d,w,L;let l=(b=N.current)==null?void 0:b.getModel();s||((d=l==null?void 0:l.original)==null||d.dispose()),h||((w=l==null?void 0:l.modified)==null||w.dispose()),(L=N.current)==null||L.dispose()}return Ee.createElement(co,{width:S,height:p,isEditorReady:v,loading:u,_ref:y,className:I,wrapperProps:D})}var Gi=Ji;U.memo(Gi);function Yi(n){let e=U.useRef();return U.useEffect(()=>{e.current=n},[n]),e.current}var Ki=Yi,He=new Map;function Qi({defaultValue:n,defaultLanguage:e,defaultPath:t,value:r,language:o,path:i,theme:a="light",line:s,loading:h="Loading...",options:f={},overrideServices:u={},saveViewState:c=!0,keepCurrentModel:p=!1,width:S="100%",height:I="100%",className:D,wrapperProps:H={},beforeMount:W=Me,onMount:v=Me,onChange:T,onValidate:m=Me}){let[g,N]=U.useState(!1),[x,y]=U.useState(!0),O=U.useRef(null),R=U.useRef(null),E=U.useRef(null),A=U.useRef(v),C=U.useRef(W),_=U.useRef(),l=U.useRef(r),b=Ki(i),d=U.useRef(!1),w=U.useRef(!1);uo(()=>{let j=ao.init();return j.then($=>(O.current=$)&&y(!1)).catch($=>($==null?void 0:$.type)!=="cancelation"&&console.error("Monaco initialization: error:",$)),()=>R.current?q():j.cancel()}),te(()=>{var $,B,z,J;let j=xe(O.current,n||r||"",e||o||"",i||t||"");j!==(($=R.current)==null?void 0:$.getModel())&&(c&&He.set(b,(B=R.current)==null?void 0:B.saveViewState()),(z=R.current)==null||z.setModel(j),c&&((J=R.current)==null||J.restoreViewState(He.get(i))))},[i],g),te(()=>{var j;(j=R.current)==null||j.updateOptions(f)},[f],g),te(()=>{!R.current||r===void 0||(R.current.getOption(O.current.editor.EditorOption.readOnly)?R.current.setValue(r):r!==R.current.getValue()&&(w.current=!0,R.current.executeEdits("",[{range:R.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),R.current.pushUndoStop(),w.current=!1))},[r],g),te(()=>{var $,B;let j=($=R.current)==null?void 0:$.getModel();j&&o&&((B=O.current)==null||B.editor.setModelLanguage(j,o))},[o],g),te(()=>{var j;s!==void 0&&((j=R.current)==null||j.revealLine(s))},[s],g),te(()=>{var j;(j=O.current)==null||j.editor.setTheme(a)},[a],g);let L=U.useCallback(()=>{var j;if(!(!E.current||!O.current)&&!d.current){C.current(O.current);let $=i||t,B=xe(O.current,r||n||"",e||o||"",$||"");R.current=(j=O.current)==null?void 0:j.editor.create(E.current,{model:B,automaticLayout:!0,...f},u),c&&R.current.restoreViewState(He.get($)),O.current.editor.setTheme(a),s!==void 0&&R.current.revealLine(s),N(!0),d.current=!0}},[n,e,t,r,o,i,f,u,c,a,s]);U.useEffect(()=>{g&&A.current(R.current,O.current)},[g]),U.useEffect(()=>{!x&&!g&&L()},[x,g,L]),l.current=r,U.useEffect(()=>{var j,$;g&&T&&((j=_.current)==null||j.dispose(),_.current=($=R.current)==null?void 0:$.onDidChangeModelContent(B=>{w.current||T(R.current.getValue(),B)}))},[g,T]),U.useEffect(()=>{if(g){let j=O.current.editor.onDidChangeMarkers($=>{var z;let B=(z=R.current.getModel())==null?void 0:z.uri;if(B&&$.find(J=>J.path===B.path)){let J=O.current.editor.getModelMarkers({resource:B});m==null||m(J)}});return()=>{j==null||j.dispose()}}return()=>{}},[g,m]);function q(){var j,$;(j=_.current)==null||j.dispose(),p?c&&He.set(i,R.current.saveViewState()):($=R.current.getModel())==null||$.dispose(),R.current.dispose()}return Ee.createElement(co,{width:S,height:I,isEditorReady:g,loading:h,_ref:E,className:D,wrapperProps:H})}var Zi=Qi,es=U.memo(Zi),ts=es,We={exports:{}},pe={},lt={exports:{}},ft,Nr;function rs(){if(Nr)return ft;Nr=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ft=n,ft}var dt,kr;function ns(){if(kr)return dt;kr=1;var n=rs();function e(){}function t(){}return t.resetWarningCache=e,dt=function(){function r(a,s,h,f,u,c){if(c!==n){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function o(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return i.PropTypes=i,i},dt}var Ir;function fo(){return Ir||(Ir=1,lt.exports=ns()()),lt.exports}var Fe={exports:{}},re={},Be={exports:{}},jr;function ho(){return jr||(jr=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var t="none",r="contents",o=/^(input|select|textarea|button|object|iframe)$/;function i(c,p){return p.getPropertyValue("overflow")!=="visible"||c.scrollWidth<=0&&c.scrollHeight<=0}function a(c){var p=c.offsetWidth<=0&&c.offsetHeight<=0;if(p&&!c.innerHTML)return!0;try{var S=window.getComputedStyle(c),I=S.getPropertyValue("display");return p?I!==r&&i(c,S):I===t}catch{return console.warn("Failed to inspect element style"),!1}}function s(c){for(var p=c,S=c.getRootNode&&c.getRootNode();p&&p!==document.body;){if(S&&p===S&&(p=S.host.parentNode),a(p))return!1;p=p.parentNode}return!0}function h(c,p){var S=c.nodeName.toLowerCase(),I=o.test(S)&&!c.disabled||S==="a"&&c.href||p;return I&&s(c)}function f(c){var p=c.getAttribute("tabindex");p===null&&(p=void 0);var S=isNaN(p);return(S||p>=0)&&h(c,!S)}function u(c){var p=[].slice.call(c.querySelectorAll("*"),0).reduce(function(S,I){return S.concat(I.shadowRoot?u(I.shadowRoot):[I])},[]);return p.filter(f)}n.exports=e.default}(Be,Be.exports)),Be.exports}var Mr;function os(){if(Mr)return re;Mr=1,Object.defineProperty(re,"__esModule",{value:!0}),re.resetState=a,re.log=s,re.handleBlur=h,re.handleFocus=f,re.markForFocusLater=u,re.returnFocus=c,re.popWithoutFocus=p,re.setupScopedFocus=S,re.teardownScopedFocus=I;var n=ho(),e=t(n);function t(D){return D&&D.__esModule?D:{default:D}}var r=[],o=null,i=!1;function a(){r=[]}function s(){}function h(){i=!0}function f(){if(i){if(i=!1,!o)return;setTimeout(function(){if(!o.contains(document.activeElement)){var D=(0,e.default)(o)[0]||o;D.focus()}},0)}}function u(){r.push(document.activeElement)}function c(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,H=null;try{r.length!==0&&(H=r.pop(),H.focus({preventScroll:D}));return}catch{console.warn(["You tried to return focus to",H,"but it is not in the DOM anymore"].join(" "))}}function p(){r.length>0&&r.pop()}function S(D){o=D,window.addEventListener?(window.addEventListener("blur",h,!1),document.addEventListener("focus",f,!0)):(window.attachEvent("onBlur",h),document.attachEvent("onFocus",f))}function I(){o=null,window.addEventListener?(window.removeEventListener("blur",h),document.removeEventListener("focus",f)):(window.detachEvent("onBlur",h),document.detachEvent("onFocus",f))}return re}var Ve={exports:{}},Dr;function is(){return Dr||(Dr=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=ho(),r=o(t);function o(s){return s&&s.__esModule?s:{default:s}}function i(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return s.activeElement.shadowRoot?i(s.activeElement.shadowRoot):s.activeElement}function a(s,h){var f=(0,r.default)(s);if(!f.length){h.preventDefault();return}var u=void 0,c=h.shiftKey,p=f[0],S=f[f.length-1],I=i();if(s===I){if(!c)return;u=S}if(S===I&&!c&&(u=p),p===I&&c&&(u=S),u){h.preventDefault(),u.focus();return}var D=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),H=D!=null&&D[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(H){var W=f.indexOf(I);if(W>-1&&(W+=c?-1:1),u=f[W],typeof u>"u"){h.preventDefault(),u=c?S:p,u.focus();return}h.preventDefault(),u.focus()}}n.exports=e.default}(Ve,Ve.exports)),Ve.exports}var se={},ht,Ar;function ss(){if(Ar)return ht;Ar=1;var n=function(){};return ht=n,ht}var le={},pt={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var Pr;function as(){return Pr||(Pr=1,function(n){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};n.exports?n.exports=t:window.ExecutionEnvironment=t})()}(pt)),pt.exports}var Lr;function mr(){if(Lr)return le;Lr=1,Object.defineProperty(le,"__esModule",{value:!0}),le.canUseDOM=le.SafeNodeList=le.SafeHTMLCollection=void 0;var n=as(),e=t(n);function t(i){return i&&i.__esModule?i:{default:i}}var r=e.default,o=r.canUseDOM?window.HTMLElement:{};return le.SafeHTMLCollection=r.canUseDOM?window.HTMLCollection:{},le.SafeNodeList=r.canUseDOM?window.NodeList:{},le.canUseDOM=r.canUseDOM,le.default=o,le}var qr;function po(){if(qr)return se;qr=1,Object.defineProperty(se,"__esModule",{value:!0}),se.resetState=i,se.log=a,se.assertNodeList=s,se.setElement=h,se.validateElement=f,se.hide=u,se.show=c,se.documentNotReadyOrSSRTesting=p;var n=ss(),e=r(n),t=mr();function r(S){return S&&S.__esModule?S:{default:S}}var o=null;function i(){o&&(o.removeAttribute?o.removeAttribute("aria-hidden"):o.length!=null?o.forEach(function(S){return S.removeAttribute("aria-hidden")}):document.querySelectorAll(o).forEach(function(S){return S.removeAttribute("aria-hidden")})),o=null}function a(){}function s(S,I){if(!S||!S.length)throw new Error("react-modal: No elements were found for selector "+I+".")}function h(S){var I=S;if(typeof I=="string"&&t.canUseDOM){var D=document.querySelectorAll(I);s(D,I),I=D}return o=I||o,o}function f(S){var I=S||o;return I?Array.isArray(I)||I instanceof HTMLCollection||I instanceof NodeList?I:[I]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function u(S){var I=!0,D=!1,H=void 0;try{for(var W=f(S)[Symbol.iterator](),v;!(I=(v=W.next()).done);I=!0){var T=v.value;T.setAttribute("aria-hidden","true")}}catch(m){D=!0,H=m}finally{try{!I&&W.return&&W.return()}finally{if(D)throw H}}}function c(S){var I=!0,D=!1,H=void 0;try{for(var W=f(S)[Symbol.iterator](),v;!(I=(v=W.next()).done);I=!0){var T=v.value;T.removeAttribute("aria-hidden")}}catch(m){D=!0,H=m}finally{try{!I&&W.return&&W.return()}finally{if(D)throw H}}}function p(){o=null}return se}var we={},Ur;function cs(){if(Ur)return we;Ur=1,Object.defineProperty(we,"__esModule",{value:!0}),we.resetState=r,we.log=o;var n={},e={};function t(f,u){f.classList.remove(u)}function r(){var f=document.getElementsByTagName("html")[0];for(var u in n)t(f,n[u]);var c=document.body;for(var p in e)t(c,e[p]);n={},e={}}function o(){}var i=function(u,c){return u[c]||(u[c]=0),u[c]+=1,c},a=function(u,c){return u[c]&&(u[c]-=1),c},s=function(u,c,p){p.forEach(function(S){i(c,S),u.add(S)})},h=function(u,c,p){p.forEach(function(S){a(c,S),c[S]===0&&u.remove(S)})};return we.add=function(u,c){return s(u.classList,u.nodeName.toLowerCase()=="html"?n:e,c.split(" "))},we.remove=function(u,c){return h(u.classList,u.nodeName.toLowerCase()=="html"?n:e,c.split(" "))},we}var Ce={},$r;function mo(){if($r)return Ce;$r=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.log=r,Ce.resetState=o;function n(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}var e=function i(){var a=this;n(this,i),this.register=function(s){a.openInstances.indexOf(s)===-1&&(a.openInstances.push(s),a.emit("register"))},this.deregister=function(s){var h=a.openInstances.indexOf(s);h!==-1&&(a.openInstances.splice(h,1),a.emit("deregister"))},this.subscribe=function(s){a.subscribers.push(s)},this.emit=function(s){a.subscribers.forEach(function(h){return h(s,a.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},t=new e;function r(){console.log("portalOpenInstances ----------"),console.log(t.openInstances.length),t.openInstances.forEach(function(i){return console.log(i)}),console.log("end portalOpenInstances ----------")}function o(){t=new e}return Ce.default=t,Ce}var Ne={},Hr;function us(){if(Hr)return Ne;Hr=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.resetState=a,Ne.log=s;var n=mo(),e=t(n);function t(u){return u&&u.__esModule?u:{default:u}}var r=void 0,o=void 0,i=[];function a(){for(var u=[r,o],c=0;c<u.length;c++){var p=u[c];p&&p.parentNode&&p.parentNode.removeChild(p)}r=o=null,i=[]}function s(){console.log("bodyTrap ----------"),console.log(i.length);for(var u=[r,o],c=0;c<u.length;c++){var p=u[c],S=p||{};console.log(S.nodeName,S.className,S.id)}console.log("edn bodyTrap ----------")}function h(){i.length!==0&&i[i.length-1].focusContent()}function f(u,c){!r&&!o&&(r=document.createElement("div"),r.setAttribute("data-react-modal-body-trap",""),r.style.position="absolute",r.style.opacity="0",r.setAttribute("tabindex","0"),r.addEventListener("focus",h),o=r.cloneNode(),o.addEventListener("focus",h)),i=c,i.length>0?(document.body.firstChild!==r&&document.body.insertBefore(r,document.body.firstChild),document.body.lastChild!==o&&document.body.appendChild(o)):(r.parentElement&&r.parentElement.removeChild(r),o.parentElement&&o.parentElement.removeChild(o))}return e.default.subscribe(f),Ne}var Wr;function ls(){return Wr||(Wr=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Object.assign||function(_){for(var l=1;l<arguments.length;l++){var b=arguments[l];for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(_[d]=b[d])}return _},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},o=function(){function _(l,b){for(var d=0;d<b.length;d++){var w=b[d];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(l,w.key,w)}}return function(l,b,d){return b&&_(l.prototype,b),d&&_(l,d),l}}(),i=ro(),a=fo(),s=g(a),h=os(),f=m(h),u=is(),c=g(u),p=po(),S=m(p),I=cs(),D=m(I),H=mr(),W=g(H),v=mo(),T=g(v);us();function m(_){if(_&&_.__esModule)return _;var l={};if(_!=null)for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(l[b]=_[b]);return l.default=_,l}function g(_){return _&&_.__esModule?_:{default:_}}function N(_,l){if(!(_ instanceof l))throw new TypeError("Cannot call a class as a function")}function x(_,l){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:_}function y(_,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);_.prototype=Object.create(l&&l.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(_,l):_.__proto__=l)}var O={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},R=function(l){return l.code==="Tab"||l.keyCode===9},E=function(l){return l.code==="Escape"||l.keyCode===27},A=0,C=function(_){y(l,_);function l(b){N(this,l);var d=x(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,b));return d.setOverlayRef=function(w){d.overlay=w,d.props.overlayRef&&d.props.overlayRef(w)},d.setContentRef=function(w){d.content=w,d.props.contentRef&&d.props.contentRef(w)},d.afterClose=function(){var w=d.props,L=w.appElement,q=w.ariaHideApp,j=w.htmlOpenClassName,$=w.bodyOpenClassName,B=w.parentSelector,z=B&&B().ownerDocument||document;$&&D.remove(z.body,$),j&&D.remove(z.getElementsByTagName("html")[0],j),q&&A>0&&(A-=1,A===0&&S.show(L)),d.props.shouldFocusAfterRender&&(d.props.shouldReturnFocusAfterClose?(f.returnFocus(d.props.preventScroll),f.teardownScopedFocus()):f.popWithoutFocus()),d.props.onAfterClose&&d.props.onAfterClose(),T.default.deregister(d)},d.open=function(){d.beforeOpen(),d.state.afterOpen&&d.state.beforeClose?(clearTimeout(d.closeTimer),d.setState({beforeClose:!1})):(d.props.shouldFocusAfterRender&&(f.setupScopedFocus(d.node),f.markForFocusLater()),d.setState({isOpen:!0},function(){d.openAnimationFrame=requestAnimationFrame(function(){d.setState({afterOpen:!0}),d.props.isOpen&&d.props.onAfterOpen&&d.props.onAfterOpen({overlayEl:d.overlay,contentEl:d.content})})}))},d.close=function(){d.props.closeTimeoutMS>0?d.closeWithTimeout():d.closeWithoutTimeout()},d.focusContent=function(){return d.content&&!d.contentHasFocus()&&d.content.focus({preventScroll:!0})},d.closeWithTimeout=function(){var w=Date.now()+d.props.closeTimeoutMS;d.setState({beforeClose:!0,closesAt:w},function(){d.closeTimer=setTimeout(d.closeWithoutTimeout,d.state.closesAt-Date.now())})},d.closeWithoutTimeout=function(){d.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},d.afterClose)},d.handleKeyDown=function(w){R(w)&&(0,c.default)(d.content,w),d.props.shouldCloseOnEsc&&E(w)&&(w.stopPropagation(),d.requestClose(w))},d.handleOverlayOnClick=function(w){d.shouldClose===null&&(d.shouldClose=!0),d.shouldClose&&d.props.shouldCloseOnOverlayClick&&(d.ownerHandlesClose()?d.requestClose(w):d.focusContent()),d.shouldClose=null},d.handleContentOnMouseUp=function(){d.shouldClose=!1},d.handleOverlayOnMouseDown=function(w){!d.props.shouldCloseOnOverlayClick&&w.target==d.overlay&&w.preventDefault()},d.handleContentOnClick=function(){d.shouldClose=!1},d.handleContentOnMouseDown=function(){d.shouldClose=!1},d.requestClose=function(w){return d.ownerHandlesClose()&&d.props.onRequestClose(w)},d.ownerHandlesClose=function(){return d.props.onRequestClose},d.shouldBeClosed=function(){return!d.state.isOpen&&!d.state.beforeClose},d.contentHasFocus=function(){return document.activeElement===d.content||d.content.contains(document.activeElement)},d.buildClassName=function(w,L){var q=(typeof L>"u"?"undefined":r(L))==="object"?L:{base:O[w],afterOpen:O[w]+"--after-open",beforeClose:O[w]+"--before-close"},j=q.base;return d.state.afterOpen&&(j=j+" "+q.afterOpen),d.state.beforeClose&&(j=j+" "+q.beforeClose),typeof L=="string"&&L?j+" "+L:j},d.attributesFromObject=function(w,L){return Object.keys(L).reduce(function(q,j){return q[w+"-"+j]=L[j],q},{})},d.state={afterOpen:!1,beforeClose:!1},d.shouldClose=null,d.moveFromContentToOverlay=null,d}return o(l,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(d,w){this.props.isOpen&&!d.isOpen?this.open():!this.props.isOpen&&d.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!w.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var d=this.props,w=d.appElement,L=d.ariaHideApp,q=d.htmlOpenClassName,j=d.bodyOpenClassName,$=d.parentSelector,B=$&&$().ownerDocument||document;j&&D.add(B.body,j),q&&D.add(B.getElementsByTagName("html")[0],q),L&&(A+=1,S.hide(w)),T.default.register(this)}},{key:"render",value:function(){var d=this.props,w=d.id,L=d.className,q=d.overlayClassName,j=d.defaultStyles,$=d.children,B=L?{}:j.content,z=q?{}:j.overlay;if(this.shouldBeClosed())return null;var J={ref:this.setOverlayRef,className:this.buildClassName("overlay",q),style:t({},z,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},ce=t({id:w,ref:this.setContentRef,style:t({},B,this.props.style.content),className:this.buildClassName("content",L),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",t({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),ue=this.props.contentElement(ce,$);return this.props.overlayElement(J,ue)}}]),l}(i.Component);C.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},C.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(W.default),s.default.instanceOf(H.SafeHTMLCollection),s.default.instanceOf(H.SafeNodeList),s.default.arrayOf(s.default.instanceOf(W.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},e.default=C,n.exports=e.default}(Fe,Fe.exports)),Fe.exports}function vo(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function go(n){function e(t){var r=this.constructor.getDerivedStateFromProps(n,t);return r??null}this.setState(e.bind(this))}function bo(n,e){try{var t=this.props,r=this.state;this.props=n,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,r)}finally{this.props=t,this.state=r}}vo.__suppressDeprecationWarning=!0;go.__suppressDeprecationWarning=!0;bo.__suppressDeprecationWarning=!0;function fs(n){var e=n.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return n;var t=null,r=null,o=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?o="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),t!==null||r!==null||o!==null){var i=n.displayName||n.name,a=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+a+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(r!==null?`
  `+r:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(e.componentWillMount=vo,e.componentWillReceiveProps=go),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=bo;var s=e.componentDidUpdate;e.componentDidUpdate=function(f,u,c){var p=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:c;s.call(this,f,u,p)}}return n}const ds=Object.freeze(Object.defineProperty({__proto__:null,polyfill:fs},Symbol.toStringTag,{value:"Module"})),hs=Jo(ds);var Fr;function ps(){if(Fr)return pe;Fr=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.bodyOpenClassName=pe.portalClassName=void 0;var n=Object.assign||function(E){for(var A=1;A<arguments.length;A++){var C=arguments[A];for(var _ in C)Object.prototype.hasOwnProperty.call(C,_)&&(E[_]=C[_])}return E},e=function(){function E(A,C){for(var _=0;_<C.length;_++){var l=C[_];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(A,l.key,l)}}return function(A,C,_){return C&&E(A.prototype,C),_&&E(A,_),A}}(),t=ro(),r=H(t),o=Go(),i=H(o),a=fo(),s=H(a),h=ls(),f=H(h),u=po(),c=D(u),p=mr(),S=H(p),I=hs;function D(E){if(E&&E.__esModule)return E;var A={};if(E!=null)for(var C in E)Object.prototype.hasOwnProperty.call(E,C)&&(A[C]=E[C]);return A.default=E,A}function H(E){return E&&E.__esModule?E:{default:E}}function W(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}function v(E,A){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:E}function T(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(E,A):E.__proto__=A)}var m=pe.portalClassName="ReactModalPortal",g=pe.bodyOpenClassName="ReactModal__Body--open",N=p.canUseDOM&&i.default.createPortal!==void 0,x=function(A){return document.createElement(A)},y=function(){return N?i.default.createPortal:i.default.unstable_renderSubtreeIntoContainer};function O(E){return E()}var R=function(E){T(A,E);function A(){var C,_,l,b;W(this,A);for(var d=arguments.length,w=Array(d),L=0;L<d;L++)w[L]=arguments[L];return b=(_=(l=v(this,(C=A.__proto__||Object.getPrototypeOf(A)).call.apply(C,[this].concat(w))),l),l.removePortal=function(){!N&&i.default.unmountComponentAtNode(l.node);var q=O(l.props.parentSelector);q&&q.contains(l.node)?q.removeChild(l.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},l.portalRef=function(q){l.portal=q},l.renderPortal=function(q){var j=y(),$=j(l,r.default.createElement(f.default,n({defaultStyles:A.defaultStyles},q)),l.node);l.portalRef($)},_),v(l,b)}return e(A,[{key:"componentDidMount",value:function(){if(p.canUseDOM){N||(this.node=x("div")),this.node.className=this.props.portalClassName;var _=O(this.props.parentSelector);_.appendChild(this.node),!N&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(_){var l=O(_.parentSelector),b=O(this.props.parentSelector);return{prevParent:l,nextParent:b}}},{key:"componentDidUpdate",value:function(_,l,b){if(p.canUseDOM){var d=this.props,w=d.isOpen,L=d.portalClassName;_.portalClassName!==L&&(this.node.className=L);var q=b.prevParent,j=b.nextParent;j!==q&&(q.removeChild(this.node),j.appendChild(this.node)),!(!_.isOpen&&!w)&&!N&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!p.canUseDOM||!this.node||!this.portal)){var _=this.portal.state,l=Date.now(),b=_.isOpen&&this.props.closeTimeoutMS&&(_.closesAt||l+this.props.closeTimeoutMS);b?(_.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,b-l)):this.removePortal()}}},{key:"render",value:function(){if(!p.canUseDOM||!N)return null;!this.node&&N&&(this.node=x("div"));var _=y();return _(r.default.createElement(f.default,n({ref:this.portalRef,defaultStyles:A.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(_){c.setElement(_)}}]),A}(t.Component);return R.propTypes={isOpen:s.default.bool.isRequired,style:s.default.shape({content:s.default.object,overlay:s.default.object}),portalClassName:s.default.string,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,className:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),overlayClassName:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),appElement:s.default.oneOfType([s.default.instanceOf(S.default),s.default.instanceOf(p.SafeHTMLCollection),s.default.instanceOf(p.SafeNodeList),s.default.arrayOf(s.default.instanceOf(S.default))]),onAfterOpen:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,ariaHideApp:s.default.bool,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,parentSelector:s.default.func,aria:s.default.object,data:s.default.object,role:s.default.string,contentLabel:s.default.string,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func},R.defaultProps={isOpen:!1,portalClassName:m,bodyOpenClassName:g,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(A,C){return r.default.createElement("div",A,C)},contentElement:function(A,C){return r.default.createElement("div",A,C)}},R.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,I.polyfill)(R),pe.default=R,pe}var Br;function ms(){return Br||(Br=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0});var t=ps(),r=o(t);function o(i){return i&&i.__esModule?i:{default:i}}e.default=r.default,n.exports=e.default}(We,We.exports)),We.exports}var vs=ms();const Ie=pr(vs);var mt={exports:{}},Xe={},Vr;function gs(){return Vr||(Vr=1,P.crypto&&P.crypto.getRandomValues?Xe.randomBytes=function(n){var e=new Uint8Array(n);return P.crypto.getRandomValues(e),e}:Xe.randomBytes=function(n){for(var e=new Array(n),t=0;t<n;t++)e[t]=Math.floor(Math.random()*256);return e}),Xe}var vt,Xr;function Oe(){if(Xr)return vt;Xr=1;var n=gs(),e="abcdefghijklmnopqrstuvwxyz012345";return vt={string:function(t){for(var r=e.length,o=n.randomBytes(t),i=[],a=0;a<t;a++)i.push(e.substr(o[a]%r,1));return i.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var r=(""+(t-1)).length,o=new Array(r+1).join("0");return(o+this.number(t)).slice(-r)}},vt}var zr;function be(){return zr||(zr=1,function(n){var e=Oe(),t={},r=!1,o=P.chrome&&P.chrome.app&&P.chrome.app.runtime;n.exports={attachEvent:function(a,s){typeof P.addEventListener<"u"?P.addEventListener(a,s,!1):P.document&&P.attachEvent&&(P.document.attachEvent("on"+a,s),P.attachEvent("on"+a,s))},detachEvent:function(a,s){typeof P.addEventListener<"u"?P.removeEventListener(a,s,!1):P.document&&P.detachEvent&&(P.document.detachEvent("on"+a,s),P.detachEvent("on"+a,s))},unloadAdd:function(a){if(o)return null;var s=e.string(8);return t[s]=a,r&&setTimeout(this.triggerUnloadCallbacks,0),s},unloadDel:function(a){a in t&&delete t[a]},triggerUnloadCallbacks:function(){for(var a in t)t[a](),delete t[a]}};var i=function(){r||(r=!0,n.exports.triggerUnloadCallbacks())};o||n.exports.attachEvent("unload",i)}(mt)),mt.exports}var gt,Jr;function bs(){return Jr||(Jr=1,gt=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}),gt}var ze={},Gr;function ys(){if(Gr)return ze;Gr=1;var n=Object.prototype.hasOwnProperty,e;function t(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch{return null}}function r(a){try{return encodeURIComponent(a)}catch{return null}}function o(a){for(var s=/([^=?#&]+)=?([^&]*)/g,h={},f;f=s.exec(a);){var u=t(f[1]),c=t(f[2]);u===null||c===null||u in h||(h[u]=c)}return h}function i(a,s){s=s||"";var h=[],f,u;typeof s!="string"&&(s="?");for(u in a)if(n.call(a,u)){if(f=a[u],!f&&(f===null||f===e||isNaN(f))&&(f=""),u=r(u),f=r(f),u===null||f===null)continue;h.push(u+"="+f)}return h.length?s+h.join("&"):""}return ze.stringify=i,ze.parse=o,ze}var bt,Yr;function yo(){if(Yr)return bt;Yr=1;var n=bs(),e=ys(),t=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,r=/[\n\r\t]/g,o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,i=/:\d+$/,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,s=/^[a-zA-Z]:/;function h(v){return(v||"").toString().replace(t,"")}var f=[["#","hash"],["?","query"],function(T,m){return p(m.protocol)?T.replace(/\\/g,"/"):T},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],u={hash:1,query:1};function c(v){var T;typeof window<"u"?T=window:typeof P<"u"?T=P:typeof self<"u"?T=self:T={};var m=T.location||{};v=v||m;var g={},N=typeof v,x;if(v.protocol==="blob:")g=new D(unescape(v.pathname),{});else if(N==="string"){g=new D(v,{});for(x in u)delete g[x]}else if(N==="object"){for(x in v)x in u||(g[x]=v[x]);g.slashes===void 0&&(g.slashes=o.test(v.href))}return g}function p(v){return v==="file:"||v==="ftp:"||v==="http:"||v==="https:"||v==="ws:"||v==="wss:"}function S(v,T){v=h(v),v=v.replace(r,""),T=T||{};var m=a.exec(v),g=m[1]?m[1].toLowerCase():"",N=!!m[2],x=!!m[3],y=0,O;return N?x?(O=m[2]+m[3]+m[4],y=m[2].length+m[3].length):(O=m[2]+m[4],y=m[2].length):x?(O=m[3]+m[4],y=m[3].length):O=m[4],g==="file:"?y>=2&&(O=O.slice(2)):p(g)?O=m[4]:g?N&&(O=O.slice(2)):y>=2&&p(T.protocol)&&(O=m[4]),{protocol:g,slashes:N||p(g),slashesCount:y,rest:O}}function I(v,T){if(v==="")return T;for(var m=(T||"/").split("/").slice(0,-1).concat(v.split("/")),g=m.length,N=m[g-1],x=!1,y=0;g--;)m[g]==="."?m.splice(g,1):m[g]===".."?(m.splice(g,1),y++):y&&(g===0&&(x=!0),m.splice(g,1),y--);return x&&m.unshift(""),(N==="."||N==="..")&&m.push(""),m.join("/")}function D(v,T,m){if(v=h(v),v=v.replace(r,""),!(this instanceof D))return new D(v,T,m);var g,N,x,y,O,R,E=f.slice(),A=typeof T,C=this,_=0;for(A!=="object"&&A!=="string"&&(m=T,T=null),m&&typeof m!="function"&&(m=e.parse),T=c(T),N=S(v||"",T),g=!N.protocol&&!N.slashes,C.slashes=N.slashes||g&&T.slashes,C.protocol=N.protocol||T.protocol||"",v=N.rest,(N.protocol==="file:"&&(N.slashesCount!==2||s.test(v))||!N.slashes&&(N.protocol||N.slashesCount<2||!p(C.protocol)))&&(E[3]=[/(.*)/,"pathname"]);_<E.length;_++){if(y=E[_],typeof y=="function"){v=y(v,C);continue}x=y[0],R=y[1],x!==x?C[R]=v:typeof x=="string"?(O=x==="@"?v.lastIndexOf(x):v.indexOf(x),~O&&(typeof y[2]=="number"?(C[R]=v.slice(0,O),v=v.slice(O+y[2])):(C[R]=v.slice(O),v=v.slice(0,O)))):(O=x.exec(v))&&(C[R]=O[1],v=v.slice(0,O.index)),C[R]=C[R]||g&&y[3]&&T[R]||"",y[4]&&(C[R]=C[R].toLowerCase())}m&&(C.query=m(C.query)),g&&T.slashes&&C.pathname.charAt(0)!=="/"&&(C.pathname!==""||T.pathname!=="")&&(C.pathname=I(C.pathname,T.pathname)),C.pathname.charAt(0)!=="/"&&p(C.protocol)&&(C.pathname="/"+C.pathname),n(C.port,C.protocol)||(C.host=C.hostname,C.port=""),C.username=C.password="",C.auth&&(O=C.auth.indexOf(":"),~O?(C.username=C.auth.slice(0,O),C.username=encodeURIComponent(decodeURIComponent(C.username)),C.password=C.auth.slice(O+1),C.password=encodeURIComponent(decodeURIComponent(C.password))):C.username=encodeURIComponent(decodeURIComponent(C.auth)),C.auth=C.password?C.username+":"+C.password:C.username),C.origin=C.protocol!=="file:"&&p(C.protocol)&&C.host?C.protocol+"//"+C.host:"null",C.href=C.toString()}function H(v,T,m){var g=this;switch(v){case"query":typeof T=="string"&&T.length&&(T=(m||e.parse)(T)),g[v]=T;break;case"port":g[v]=T,n(T,g.protocol)?T&&(g.host=g.hostname+":"+T):(g.host=g.hostname,g[v]="");break;case"hostname":g[v]=T,g.port&&(T+=":"+g.port),g.host=T;break;case"host":g[v]=T,i.test(T)?(T=T.split(":"),g.port=T.pop(),g.hostname=T.join(":")):(g.hostname=T,g.port="");break;case"protocol":g.protocol=T.toLowerCase(),g.slashes=!m;break;case"pathname":case"hash":if(T){var N=v==="pathname"?"/":"#";g[v]=T.charAt(0)!==N?N+T:T}else g[v]=T;break;case"username":case"password":g[v]=encodeURIComponent(T);break;case"auth":var x=T.indexOf(":");~x?(g.username=T.slice(0,x),g.username=encodeURIComponent(decodeURIComponent(g.username)),g.password=T.slice(x+1),g.password=encodeURIComponent(decodeURIComponent(g.password))):g.username=encodeURIComponent(decodeURIComponent(T))}for(var y=0;y<f.length;y++){var O=f[y];O[4]&&(g[O[1]]=g[O[1]].toLowerCase())}return g.auth=g.password?g.username+":"+g.password:g.username,g.origin=g.protocol!=="file:"&&p(g.protocol)&&g.host?g.protocol+"//"+g.host:"null",g.href=g.toString(),g}function W(v){(!v||typeof v!="function")&&(v=e.stringify);var T,m=this,g=m.host,N=m.protocol;N&&N.charAt(N.length-1)!==":"&&(N+=":");var x=N+(m.protocol&&m.slashes||p(m.protocol)?"//":"");return m.username?(x+=m.username,m.password&&(x+=":"+m.password),x+="@"):m.password?(x+=":"+m.password,x+="@"):m.protocol!=="file:"&&p(m.protocol)&&!g&&m.pathname!=="/"&&(x+="@"),(g[g.length-1]===":"||i.test(m.hostname)&&!m.port)&&(g+=":"),x+=g+m.pathname,T=typeof m.query=="object"?v(m.query):m.query,T&&(x+=T.charAt(0)!=="?"?"?"+T:T),m.hash&&(x+=m.hash),x}return D.prototype={set:H,toString:W},D.extractProtocol=S,D.location=c,D.trimLeft=h,D.qs=e,bt=D,bt}var yt,Kr;function ne(){if(Kr)return yt;Kr=1;var n=yo();return yt={getOrigin:function(e){if(!e)return null;var t=new n(e);if(t.protocol==="file:")return null;var r=t.port;return r||(r=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+r},isOriginEqual:function(e,t){var r=this.getOrigin(e)===this.getOrigin(t);return r},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var r=e.split("?");return r[0]+t+(r[1]?"?"+r[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},yt}var Je={exports:{}},Qr;function X(){return Qr||(Qr=1,typeof Object.create=="function"?Je.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Je.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}),Je.exports}var _t={},wt,Zr;function _o(){if(Zr)return wt;Zr=1;function n(){this._listeners={}}return n.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];r.indexOf(t)===-1&&(r=r.concat([t])),this._listeners[e]=r},n.prototype.removeEventListener=function(e,t){var r=this._listeners[e];if(r){var o=r.indexOf(t);if(o!==-1){r.length>1?this._listeners[e]=r.slice(0,o).concat(r.slice(o+1)):delete this._listeners[e];return}}},n.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,r=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,r),t in this._listeners)for(var o=this._listeners[t],i=0;i<o.length;i++)o[i].apply(this,r)},wt=n,wt}var en;function Z(){if(en)return _t;en=1;var n=X(),e=_o();function t(){e.call(this)}return n(t,e),t.prototype.removeAllListeners=function(r){r?delete this._listeners[r]:this._listeners={}},t.prototype.once=function(r,o){var i=this,a=!1;function s(){i.removeListener(r,s),a||(a=!0,o.apply(this,arguments))}this.on(r,s)},t.prototype.emit=function(){var r=arguments[0],o=this._listeners[r];if(o){for(var i=arguments.length,a=new Array(i-1),s=1;s<i;s++)a[s-1]=arguments[s];for(var h=0;h<o.length;h++)o[h].apply(this,a)}},t.prototype.on=t.prototype.addListener=e.prototype.addEventListener,t.prototype.removeListener=e.prototype.removeEventListener,_t.EventEmitter=t,_t}var Ge={exports:{}},tn;function _s(){if(tn)return Ge.exports;tn=1;var n=P.WebSocket||P.MozWebSocket;return n?Ge.exports=function(t){return new n(t)}:Ge.exports=void 0,Ge.exports}var St,rn;function ws(){if(rn)return St;rn=1;var n=be(),e=ne(),t=X(),r=Z().EventEmitter,o=_s(),i=function(){};function a(s,h,f){if(!a.enabled())throw new Error("Transport created when disabled");r.call(this);var u=this,c=e.addPath(s,"/websocket");c.slice(0,5)==="https"?c="wss"+c.slice(5):c="ws"+c.slice(4),this.url=c,this.ws=new o(this.url,[],f),this.ws.onmessage=function(p){i("message event",p.data),u.emit("message",p.data)},this.unloadRef=n.unloadAdd(function(){u.ws.close()}),this.ws.onclose=function(p){i("close event",p.code,p.reason),u.emit("close",p.code,p.reason),u._cleanup()},this.ws.onerror=function(p){u.emit("close",1006,"WebSocket connection broken"),u._cleanup()}}return t(a,r),a.prototype.send=function(s){var h="["+s+"]";this.ws.send(h)},a.prototype.close=function(){var s=this.ws;this._cleanup(),s&&s.close()},a.prototype._cleanup=function(){var s=this.ws;s&&(s.onmessage=s.onclose=s.onerror=null),n.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},a.enabled=function(){return!!o},a.transportName="websocket",a.roundTrips=2,St=a,St}var Ct,nn;function Ss(){if(nn)return Ct;nn=1;var n=X(),e=Z().EventEmitter,t=function(){};function r(o,i){e.call(this),this.sendBuffer=[],this.sender=i,this.url=o}return n(r,e),r.prototype.send=function(o){this.sendBuffer.push(o),this.sendStop||this.sendSchedule()},r.prototype.sendScheduleWait=function(){var o=this,i;this.sendStop=function(){o.sendStop=null,clearTimeout(i)},i=setTimeout(function(){o.sendStop=null,o.sendSchedule()},25)},r.prototype.sendSchedule=function(){t("sendSchedule",this.sendBuffer.length);var o=this;if(this.sendBuffer.length>0){var i="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,i,function(a){o.sendStop=null,a?(o.emit("close",a.code||1006,"Sending error: "+a),o.close()):o.sendScheduleWait()}),this.sendBuffer=[]}},r.prototype._cleanup=function(){this.removeAllListeners()},r.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},Ct=r,Ct}var xt,on;function Cs(){if(on)return xt;on=1;var n=X(),e=Z().EventEmitter,t=function(){};function r(o,i,a){e.call(this),this.Receiver=o,this.receiveUrl=i,this.AjaxObject=a,this._scheduleReceiver()}return n(r,e),r.prototype._scheduleReceiver=function(){var o=this,i=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);i.on("message",function(a){o.emit("message",a)}),i.once("close",function(a,s){t("close",a,s,o.pollIsClosing),o.poll=i=null,o.pollIsClosing||(s==="network"?o._scheduleReceiver():(o.emit("close",a||1006,s),o.removeAllListeners()))})},r.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},xt=r,xt}var Et,sn;function wo(){if(sn)return Et;sn=1;var n=X(),e=ne(),t=Ss(),r=Cs();function o(i,a,s,h,f){var u=e.addPath(i,a),c=this;t.call(this,i,s),this.poll=new r(h,u,f),this.poll.on("message",function(p){c.emit("message",p)}),this.poll.once("close",function(p,S){c.poll=null,c.emit("close",p,S),c.close()})}return n(o,t),o.prototype.close=function(){t.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},Et=o,Et}var Ot,an;function Re(){if(an)return Ot;an=1;var n=X(),e=ne(),t=wo();function r(i){return function(a,s,h){var f={};typeof s=="string"&&(f.headers={"Content-type":"text/plain"});var u=e.addPath(a,"/xhr_send"),c=new i("POST",u,s,f);return c.once("finish",function(p){if(c=null,p!==200&&p!==204)return h(new Error("http status "+p));h()}),function(){c.close(),c=null;var p=new Error("Aborted");p.code=1e3,h(p)}}}function o(i,a,s,h){t.call(this,i,a,r(h),s,h)}return n(o,t),Ot=o,Ot}var Rt,cn;function rt(){if(cn)return Rt;cn=1;var n=X(),e=Z().EventEmitter;function t(r,o){e.call(this);var i=this;this.bufferPosition=0,this.xo=new o("POST",r,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(a,s){i._chunkHandler(a,s),i.xo=null;var h=a===200?"network":"permanent";i.emit("close",null,h),i._cleanup()})}return n(t,e),t.prototype._chunkHandler=function(r,o){if(!(r!==200||!o))for(var i=-1;;this.bufferPosition+=i+1){var a=o.slice(this.bufferPosition);if(i=a.indexOf(`
`),i===-1)break;var s=a.slice(0,i);s&&this.emit("message",s)}},t.prototype._cleanup=function(){this.removeAllListeners()},t.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},Rt=t,Rt}var Tt,un;function So(){if(un)return Tt;un=1;var n=Z().EventEmitter,e=X(),t=be(),r=ne(),o=P.XMLHttpRequest,i=function(){};function a(f,u,c,p){var S=this;n.call(this),setTimeout(function(){S._start(f,u,c,p)},0)}e(a,n),a.prototype._start=function(f,u,c,p){var S=this;try{this.xhr=new o}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}u=r.addQuery(u,"t="+ +new Date),this.unloadRef=t.unloadAdd(function(){S._cleanup(!0)});try{this.xhr.open(f,u,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){i("xhr timeout"),S.emit("finish",0,""),S._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!p||!p.noCredentials)&&a.supportsCORS&&(this.xhr.withCredentials=!0),p&&p.headers)for(var I in p.headers)this.xhr.setRequestHeader(I,p.headers[I]);this.xhr.onreadystatechange=function(){if(S.xhr){var D=S.xhr,H,W;switch(i("readyState",D.readyState),D.readyState){case 3:try{W=D.status,H=D.responseText}catch{}W===1223&&(W=204),W===200&&H&&H.length>0&&S.emit("chunk",W,H);break;case 4:W=D.status,W===1223&&(W=204),(W===12005||W===12029)&&(W=0),i("finish",W,D.responseText),S.emit("finish",W,D.responseText),S._cleanup(!1);break}}};try{S.xhr.send(c)}catch{S.emit("finish",0,""),S._cleanup(!1)}},a.prototype._cleanup=function(f){if(this.xhr){if(this.removeAllListeners(),t.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),f)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}},a.prototype.close=function(){this._cleanup(!0)},a.enabled=!!o;var s=["Active"].concat("Object").join("X");!a.enabled&&s in P&&(o=function(){try{return new P[s]("Microsoft.XMLHTTP")}catch{return null}},a.enabled=!!new o);var h=!1;try{h="withCredentials"in new o}catch{}return a.supportsCORS=h,Tt=a,Tt}var Nt,ln;function nt(){if(ln)return Nt;ln=1;var n=X(),e=So();function t(r,o,i,a){e.call(this,r,o,i,a)}return n(t,e),t.enabled=e.enabled&&e.supportsCORS,Nt=t,Nt}var kt,fn;function Le(){if(fn)return kt;fn=1;var n=X(),e=So();function t(r,o,i){e.call(this,r,o,i,{noCredentials:!0})}return n(t,e),t.enabled=e.enabled,kt=t,kt}var It,dn;function qe(){return dn||(dn=1,It={isOpera:function(){return P.navigator&&/opera/i.test(P.navigator.userAgent)},isKonqueror:function(){return P.navigator&&/konqueror/i.test(P.navigator.userAgent)},hasDomain:function(){if(!P.document)return!0;try{return!!P.document.domain}catch{return!1}}}),It}var jt,hn;function xs(){if(hn)return jt;hn=1;var n=X(),e=Re(),t=rt(),r=nt(),o=Le(),i=qe();function a(s){if(!o.enabled&&!r.enabled)throw new Error("Transport created when disabled");e.call(this,s,"/xhr_streaming",t,r)}return n(a,e),a.enabled=function(s){return s.nullOrigin||i.isOpera()?!1:r.enabled},a.transportName="xhr-streaming",a.roundTrips=2,a.needBody=!!P.document,jt=a,jt}var Mt,pn;function vr(){if(pn)return Mt;pn=1;var n=Z().EventEmitter,e=X(),t=be(),r=qe(),o=ne(),i=function(){};function a(s,h,f){var u=this;n.call(this),setTimeout(function(){u._start(s,h,f)},0)}return e(a,n),a.prototype._start=function(s,h,f){var u=this,c=new P.XDomainRequest;h=o.addQuery(h,"t="+ +new Date),c.onerror=function(){u._error()},c.ontimeout=function(){u._error()},c.onprogress=function(){i("progress",c.responseText),u.emit("chunk",200,c.responseText)},c.onload=function(){u.emit("finish",200,c.responseText),u._cleanup(!1)},this.xdr=c,this.unloadRef=t.unloadAdd(function(){u._cleanup(!0)});try{this.xdr.open(s,h),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(f)}catch{this._error()}},a.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},a.prototype._cleanup=function(s){if(this.xdr){if(this.removeAllListeners(),t.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,s)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}},a.prototype.close=function(){this._cleanup(!0)},a.enabled=!!(P.XDomainRequest&&r.hasDomain()),Mt=a,Mt}var Dt,mn;function Co(){if(mn)return Dt;mn=1;var n=X(),e=Re(),t=rt(),r=vr();function o(i){if(!r.enabled)throw new Error("Transport created when disabled");e.call(this,i,"/xhr_streaming",t,r)}return n(o,e),o.enabled=function(i){return i.cookie_needed||i.nullOrigin?!1:r.enabled&&i.sameScheme},o.transportName="xdr-streaming",o.roundTrips=2,Dt=o,Dt}var At,vn;function xo(){return vn||(vn=1,At=P.EventSource),At}var Pt,gn;function Es(){if(gn)return Pt;gn=1;var n=X(),e=Z().EventEmitter,t=xo(),r=function(){};function o(i){e.call(this);var a=this,s=this.es=new t(i);s.onmessage=function(h){r("message",h.data),a.emit("message",decodeURI(h.data))},s.onerror=function(h){r("error",s.readyState);var f=s.readyState!==2?"network":"permanent";a._cleanup(),a._close(f)}}return n(o,e),o.prototype.abort=function(){this._cleanup(),this._close("user")},o.prototype._cleanup=function(){var i=this.es;i&&(i.onmessage=i.onerror=null,i.close(),this.es=null)},o.prototype._close=function(i){var a=this;setTimeout(function(){a.emit("close",null,i),a.removeAllListeners()},200)},Pt=o,Pt}var Lt,bn;function yn(){if(bn)return Lt;bn=1;var n=X(),e=Re(),t=Es(),r=nt(),o=xo();function i(a){if(!i.enabled())throw new Error("Transport created when disabled");e.call(this,a,"/eventsource",t,r)}return n(i,e),i.enabled=function(){return!!o},i.transportName="eventsource",i.roundTrips=2,Lt=i,Lt}var qt,_n;function Eo(){return _n||(_n=1,qt="1.6.1"),qt}var Ut={exports:{}},wn;function Ue(){return wn||(wn=1,function(n){var e=be(),t=qe();n.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){n.exports.WPrefix in P||(P[n.exports.WPrefix]={})},postMessage:function(r,o){P.parent!==P&&P.parent.postMessage(JSON.stringify({windowId:n.exports.currentWindowId,type:r,data:o||""}),"*")},createIframe:function(r,o){var i=P.document.createElement("iframe"),a,s,h=function(){clearTimeout(a);try{i.onload=null}catch{}i.onerror=null},f=function(){i&&(h(),setTimeout(function(){i&&i.parentNode.removeChild(i),i=null},0),e.unloadDel(s))},u=function(p){i&&(f(),o(p))},c=function(p,S){setTimeout(function(){try{i&&i.contentWindow&&i.contentWindow.postMessage(p,S)}catch{}},0)};return i.src=r,i.style.display="none",i.style.position="absolute",i.onerror=function(){u("onerror")},i.onload=function(){clearTimeout(a),a=setTimeout(function(){u("onload timeout")},2e3)},P.document.body.appendChild(i),a=setTimeout(function(){u("timeout")},15e3),s=e.unloadAdd(f),{post:c,cleanup:f,loaded:h}},createHtmlfile:function(r,o){var i=["Active"].concat("Object").join("X"),a=new P[i]("htmlfile"),s,h,f,u=function(){clearTimeout(s),f.onerror=null},c=function(){a&&(u(),e.unloadDel(h),f.parentNode.removeChild(f),f=a=null,CollectGarbage())},p=function(D){a&&(c(),o(D))},S=function(D,H){try{setTimeout(function(){f&&f.contentWindow&&f.contentWindow.postMessage(D,H)},0)}catch{}};a.open(),a.write('<html><script>document.domain="'+P.document.domain+'";<\/script></html>'),a.close(),a.parentWindow[n.exports.WPrefix]=P[n.exports.WPrefix];var I=a.createElement("div");return a.body.appendChild(I),f=a.createElement("iframe"),I.appendChild(f),f.src=r,f.onerror=function(){p("onerror")},s=setTimeout(function(){p("timeout")},15e3),h=e.unloadAdd(c),{post:S,cleanup:c,loaded:u}}},n.exports.iframeEnabled=!1,P.document&&(n.exports.iframeEnabled=(typeof P.postMessage=="function"||typeof P.postMessage=="object")&&!t.isKonqueror())}(Ut)),Ut.exports}var $t,Sn;function Oo(){if(Sn)return $t;Sn=1;var n=X(),e=Z().EventEmitter,t=Eo(),r=ne(),o=Ue(),i=be(),a=Oe(),s=function(){};function h(f,u,c){if(!h.enabled())throw new Error("Transport created when disabled");e.call(this);var p=this;this.origin=r.getOrigin(c),this.baseUrl=c,this.transUrl=u,this.transport=f,this.windowId=a.string(8);var S=r.addPath(c,"/iframe.html")+"#"+this.windowId;this.iframeObj=o.createIframe(S,function(I){p.emit("close",1006,"Unable to load an iframe ("+I+")"),p.close()}),this.onmessageCallback=this._message.bind(this),i.attachEvent("message",this.onmessageCallback)}return n(h,e),h.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){i.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},h.prototype._message=function(f){if(s("message",f.data),!r.isOriginEqual(f.origin,this.origin)){s("not same origin",f.origin,this.origin);return}var u;try{u=JSON.parse(f.data)}catch{s("bad json",f.data);return}if(u.windowId!==this.windowId){s("mismatched window id",u.windowId,this.windowId);return}switch(u.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([t,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",u.data);break;case"c":var c;try{c=JSON.parse(u.data)}catch{s("bad json",u.data);return}this.emit("close",c[0],c[1]),this.close();break}},h.prototype.postMessage=function(f,u){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:f,data:u||""}),this.origin)},h.prototype.send=function(f){this.postMessage("m",f)},h.enabled=function(){return o.iframeEnabled},h.transportName="iframe",h.roundTrips=2,$t=h,$t}var Ht,Cn;function gr(){return Cn||(Cn=1,Ht={isObject:function(n){var e=typeof n;return e==="function"||e==="object"&&!!n},extend:function(n){if(!this.isObject(n))return n;for(var e,t,r=1,o=arguments.length;r<o;r++){e=arguments[r];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}return n}}),Ht}var Wt,xn;function Ft(){if(xn)return Wt;xn=1;var n=X(),e=Oo(),t=gr();return Wt=function(r){function o(i,a){e.call(this,r.transportName,i,a)}return n(o,e),o.enabled=function(i,a){if(!P.document)return!1;var s=t.extend({},a);return s.sameOrigin=!0,r.enabled(s)&&e.enabled()},o.transportName="iframe-"+r.transportName,o.needBody=!0,o.roundTrips=e.roundTrips+r.roundTrips-1,o.facadeTransport=r,o},Wt}var Bt,En;function Os(){if(En)return Bt;En=1;var n=X(),e=Ue(),t=ne(),r=Z().EventEmitter,o=Oe(),i=function(){};function a(h){r.call(this);var f=this;e.polluteGlobalNamespace(),this.id="a"+o.string(6),h=t.addQuery(h,"c="+decodeURIComponent(e.WPrefix+"."+this.id)),i("using htmlfile",a.htmlfileEnabled);var u=a.htmlfileEnabled?e.createHtmlfile:e.createIframe;P[e.WPrefix][this.id]={start:function(){f.iframeObj.loaded()},message:function(c){f.emit("message",c)},stop:function(){f._cleanup(),f._close("network")}},this.iframeObj=u(h,function(){f._cleanup(),f._close("permanent")})}n(a,r),a.prototype.abort=function(){this._cleanup(),this._close("user")},a.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete P[e.WPrefix][this.id]},a.prototype._close=function(h){this.emit("close",null,h),this.removeAllListeners()},a.htmlfileEnabled=!1;var s=["Active"].concat("Object").join("X");if(s in P)try{a.htmlfileEnabled=!!new P[s]("htmlfile")}catch{}return a.enabled=a.htmlfileEnabled||e.iframeEnabled,Bt=a,Bt}var Vt,On;function Rn(){if(On)return Vt;On=1;var n=X(),e=Os(),t=Le(),r=Re();function o(i){if(!e.enabled)throw new Error("Transport created when disabled");r.call(this,i,"/htmlfile",e,t)}return n(o,r),o.enabled=function(i){return e.enabled&&i.sameOrigin},o.transportName="htmlfile",o.roundTrips=2,Vt=o,Vt}var Xt,Tn;function Nn(){if(Tn)return Xt;Tn=1;var n=X(),e=Re(),t=rt(),r=nt(),o=Le();function i(a){if(!o.enabled&&!r.enabled)throw new Error("Transport created when disabled");e.call(this,a,"/xhr",t,r)}return n(i,e),i.enabled=function(a){return a.nullOrigin?!1:o.enabled&&a.sameOrigin?!0:r.enabled},i.transportName="xhr-polling",i.roundTrips=2,Xt=i,Xt}var zt,kn;function Rs(){if(kn)return zt;kn=1;var n=X(),e=Re(),t=Co(),r=rt(),o=vr();function i(a){if(!o.enabled)throw new Error("Transport created when disabled");e.call(this,a,"/xhr",r,o)}return n(i,e),i.enabled=t.enabled,i.transportName="xdr-polling",i.roundTrips=2,zt=i,zt}var Jt,In;function Ts(){if(In)return Jt;In=1;var n=Ue(),e=Oe(),t=qe(),r=ne(),o=X(),i=Z().EventEmitter,a=function(){};function s(h){var f=this;i.call(this),n.polluteGlobalNamespace(),this.id="a"+e.string(6);var u=r.addQuery(h,"c="+encodeURIComponent(n.WPrefix+"."+this.id));P[n.WPrefix][this.id]=this._callback.bind(this),this._createScript(u),this.timeoutId=setTimeout(function(){f._abort(new Error("JSONP script loaded abnormally (timeout)"))},s.timeout)}return o(s,i),s.prototype.abort=function(){if(P[n.WPrefix][this.id]){var h=new Error("JSONP user aborted read");h.code=1e3,this._abort(h)}},s.timeout=35e3,s.scriptErrorTimeout=1e3,s.prototype._callback=function(h){this._cleanup(),!this.aborting&&(h&&this.emit("message",h),this.emit("close",null,"network"),this.removeAllListeners())},s.prototype._abort=function(h){this._cleanup(),this.aborting=!0,this.emit("close",h.code,h.message),this.removeAllListeners()},s.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var h=this.script;h.parentNode.removeChild(h),h.onreadystatechange=h.onerror=h.onload=h.onclick=null,this.script=null}delete P[n.WPrefix][this.id]},s.prototype._scriptError=function(){var h=this;this.errorTimer||(this.errorTimer=setTimeout(function(){h.loadedOkay||h._abort(new Error("JSONP script loaded abnormally (onerror)"))},s.scriptErrorTimeout))},s.prototype._createScript=function(h){var f=this,u=this.script=P.document.createElement("script"),c;if(u.id="a"+e.string(8),u.src=h,u.type="text/javascript",u.charset="UTF-8",u.onerror=this._scriptError.bind(this),u.onload=function(){f._abort(new Error("JSONP script loaded abnormally (onload)"))},u.onreadystatechange=function(){if(a("onreadystatechange",u.readyState),/loaded|closed/.test(u.readyState)){if(u&&u.htmlFor&&u.onclick){f.loadedOkay=!0;try{u.onclick()}catch{}}u&&f._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof u.async>"u"&&P.document.attachEvent)if(t.isOpera())c=this.script2=P.document.createElement("script"),c.text="try{var a = document.getElementById('"+u.id+"'); if(a)a.onerror();}catch(x){};",u.async=c.async=!1;else{try{u.htmlFor=u.id,u.event="onclick"}catch{}u.async=!0}typeof u.async<"u"&&(u.async=!0);var p=P.document.getElementsByTagName("head")[0];p.insertBefore(u,p.firstChild),c&&p.insertBefore(c,p.firstChild)},Jt=s,Jt}var Gt,jn;function Ns(){if(jn)return Gt;jn=1;var n=Oe(),e=ne(),t=function(){},r,o;function i(s){try{return P.document.createElement('<iframe name="'+s+'">')}catch{var h=P.document.createElement("iframe");return h.name=s,h}}function a(){r=P.document.createElement("form"),r.style.display="none",r.style.position="absolute",r.method="POST",r.enctype="application/x-www-form-urlencoded",r.acceptCharset="UTF-8",o=P.document.createElement("textarea"),o.name="d",r.appendChild(o),P.document.body.appendChild(r)}return Gt=function(s,h,f){r||a();var u="a"+n.string(8);r.target=u,r.action=e.addQuery(e.addPath(s,"/jsonp_send"),"i="+u);var c=i(u);c.id=u,c.style.display="none",r.appendChild(c);try{o.value=h}catch{}r.submit();var p=function(S){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,setTimeout(function(){c.parentNode.removeChild(c),c=null},500),o.value="",f(S))};return c.onerror=function(){p()},c.onload=function(){p()},c.onreadystatechange=function(S){t("onreadystatechange",u,c.readyState),c.readyState==="complete"&&p()},function(){p(new Error("Aborted"))}},Gt}var Yt,Mn;function ks(){if(Mn)return Yt;Mn=1;var n=X(),e=wo(),t=Ts(),r=Ns();function o(i){if(!o.enabled())throw new Error("Transport created when disabled");e.call(this,i,"/jsonp",r,t)}return n(o,e),o.enabled=function(){return!!P.document},o.transportName="jsonp-polling",o.roundTrips=1,o.needBody=!0,Yt=o,Yt}var Kt,Dn;function Is(){return Dn||(Dn=1,Kt=[ws(),xs(),Co(),yn(),Ft()(yn()),Rn(),Ft()(Rn()),Nn(),Rs(),Ft()(Nn()),ks()]),Kt}var An={},Pn;function js(){if(Pn)return An;Pn=1;var n=Array.prototype,e=Object.prototype,t=Function.prototype,r=String.prototype,o=n.slice,i=e.toString,a=function(x){return e.toString.call(x)==="[object Function]"},s=function(y){return i.call(y)==="[object Array]"},h=function(y){return i.call(y)==="[object String]"},f=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),u;f?u=function(x,y,O,R){!R&&y in x||Object.defineProperty(x,y,{configurable:!0,enumerable:!1,writable:!0,value:O})}:u=function(x,y,O,R){!R&&y in x||(x[y]=O)};var c=function(x,y,O){for(var R in y)e.hasOwnProperty.call(y,R)&&u(x,R,y[R],O)},p=function(x){if(x==null)throw new TypeError("can't convert "+x+" to object");return Object(x)};function S(x){var y=+x;return y!==y?y=0:y!==0&&y!==1/0&&y!==-1/0&&(y=(y>0||-1)*Math.floor(Math.abs(y))),y}function I(x){return x>>>0}function D(){}c(t,{bind:function(y){var O=this;if(!a(O))throw new TypeError("Function.prototype.bind called on incompatible "+O);for(var R=o.call(arguments,1),E=function(){if(this instanceof l){var b=O.apply(this,R.concat(o.call(arguments)));return Object(b)===b?b:this}else return O.apply(y,R.concat(o.call(arguments)))},A=Math.max(0,O.length-R.length),C=[],_=0;_<A;_++)C.push("$"+_);var l=Function("binder","return function ("+C.join(",")+"){ return binder.apply(this, arguments); }")(E);return O.prototype&&(D.prototype=O.prototype,l.prototype=new D,D.prototype=null),l}}),c(Array,{isArray:s});var H=Object("a"),W=H[0]!=="a"||!(0 in H),v=function(y){var O=!0,R=!0;return y&&(y.call("foo",function(E,A,C){typeof C!="object"&&(O=!1)}),y.call([1],function(){R=typeof this=="string"},"x")),!!y&&O&&R};c(n,{forEach:function(y){var O=p(this),R=W&&h(this)?this.split(""):O,E=arguments[1],A=-1,C=R.length>>>0;if(!a(y))throw new TypeError;for(;++A<C;)A in R&&y.call(E,R[A],A,O)}},!v(n.forEach));var T=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;c(n,{indexOf:function(y){var O=W&&h(this)?this.split(""):p(this),R=O.length>>>0;if(!R)return-1;var E=0;for(arguments.length>1&&(E=S(arguments[1])),E=E>=0?E:Math.max(0,R+E);E<R;E++)if(E in O&&O[E]===y)return E;return-1}},T);var m=r.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var x=/()??/.exec("")[1]===void 0;r.split=function(y,O){var R=this;if(y===void 0&&O===0)return[];if(i.call(y)!=="[object RegExp]")return m.call(this,y,O);var E=[],A=(y.ignoreCase?"i":"")+(y.multiline?"m":"")+(y.extended?"x":"")+(y.sticky?"y":""),C=0,_,l,b,d;for(y=new RegExp(y.source,A+"g"),R+="",x||(_=new RegExp("^"+y.source+"$(?!\\s)",A)),O=O===void 0?-1>>>0:I(O);(l=y.exec(R))&&(b=l.index+l[0].length,!(b>C&&(E.push(R.slice(C,l.index)),!x&&l.length>1&&l[0].replace(_,function(){for(var w=1;w<arguments.length-2;w++)arguments[w]===void 0&&(l[w]=void 0)}),l.length>1&&l.index<R.length&&n.push.apply(E,l.slice(1)),d=l[0].length,C=b,E.length>=O)));)y.lastIndex===l.index&&y.lastIndex++;return C===R.length?(d||!y.test(""))&&E.push(""):E.push(R.slice(C)),E.length>O?E.slice(0,O):E}}():"0".split(void 0,0).length&&(r.split=function(y,O){return y===void 0&&O===0?[]:m.call(this,y,O)});var g=r.substr,N="".substr&&"0b".substr(-1)!=="b";return c(r,{substr:function(y,O){return g.call(this,y<0&&(y=this.length+y)<0?0:y,O)}},N),An}var Qt,Ln;function Ms(){if(Ln)return Qt;Ln=1;var n=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,e,t=function(r){var o,i={},a=[];for(o=0;o<65536;o++)a.push(String.fromCharCode(o));return r.lastIndex=0,a.join("").replace(r,function(s){return i[s]="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),""}),r.lastIndex=0,i};return Qt={quote:function(r){var o=JSON.stringify(r);return n.lastIndex=0,n.test(o)?(e||(e=t(n)),o.replace(n,function(i){return e[i]})):o}},Qt}var Zt,qn;function Ds(){if(qn)return Zt;qn=1;var n=function(){};return Zt=function(e){return{filterToEnabled:function(t,r){var o={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(i){if(i&&!(i.transportName==="websocket"&&r.websocket===!1)){if(t.length&&t.indexOf(i.transportName)===-1){n("not in whitelist",i.transportName);return}i.enabled(r)?(n("enabled",i.transportName),o.main.push(i),i.facadeTransport&&o.facade.push(i.facadeTransport)):n("disabled",i.transportName)}}),o}}},Zt}var er,Un;function As(){if(Un)return er;Un=1;var n={};return["log","debug","warn"].forEach(function(e){var t;try{t=P.console&&P.console[e]&&P.console[e].apply}catch{}n[e]=t?function(){return P.console[e].apply(P.console,arguments)}:e==="log"?function(){}:n.log}),er=n,er}var tr,$n;function br(){if($n)return tr;$n=1;function n(e){this.type=e}return n.prototype.initEvent=function(e,t,r){return this.type=e,this.bubbles=t,this.cancelable=r,this.timeStamp=+new Date,this},n.prototype.stopPropagation=function(){},n.prototype.preventDefault=function(){},n.CAPTURING_PHASE=1,n.AT_TARGET=2,n.BUBBLING_PHASE=3,tr=n,tr}var rr,Hn;function Ro(){return Hn||(Hn=1,rr=P.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}),rr}var nr,Wn;function Ps(){if(Wn)return nr;Wn=1;var n=X(),e=br();function t(){e.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}return n(t,e),nr=t,nr}var or,Fn;function Ls(){if(Fn)return or;Fn=1;var n=X(),e=br();function t(r){e.call(this),this.initEvent("message",!1,!1),this.data=r}return n(t,e),or=t,or}var ir,Bn;function qs(){if(Bn)return ir;Bn=1;var n=Z().EventEmitter,e=X();function t(){var r=this;n.call(this),this.to=setTimeout(function(){r.emit("finish",200,"{}")},t.timeout)}return e(t,n),t.prototype.close=function(){clearTimeout(this.to)},t.timeout=2e3,ir=t,ir}var sr,Vn;function To(){if(Vn)return sr;Vn=1;var n=Z().EventEmitter,e=X(),t=gr();function r(o,i){n.call(this);var a=this,s=+new Date;this.xo=new i("GET",o),this.xo.once("finish",function(h,f){var u,c;if(h===200){if(c=+new Date-s,f)try{u=JSON.parse(f)}catch{}t.isObject(u)||(u={})}a.emit("finish",u,c),a.removeAllListeners()})}return e(r,n),r.prototype.close=function(){this.removeAllListeners(),this.xo.close()},sr=r,sr}var ar,Xn;function No(){if(Xn)return ar;Xn=1;var n=X(),e=Z().EventEmitter,t=Le(),r=To();function o(i){var a=this;e.call(this),this.ir=new r(i,t),this.ir.once("finish",function(s,h){a.ir=null,a.emit("message",JSON.stringify([s,h]))})}return n(o,e),o.transportName="iframe-info-receiver",o.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},ar=o,ar}var cr,zn;function Us(){if(zn)return cr;zn=1;var n=Z().EventEmitter,e=X(),t=be(),r=Oo(),o=No();function i(a,s){var h=this;n.call(this);var f=function(){var u=h.ifr=new r(o.transportName,s,a);u.once("message",function(c){if(c){var p;try{p=JSON.parse(c)}catch{h.emit("finish"),h.close();return}var S=p[0],I=p[1];h.emit("finish",S,I)}h.close()}),u.once("close",function(){h.emit("finish"),h.close()})};P.document.body?f():t.attachEvent("load",f)}return e(i,n),i.enabled=function(){return r.enabled()},i.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},cr=i,cr}var ur,Jn;function $s(){if(Jn)return ur;Jn=1;var n=Z().EventEmitter,e=X(),t=ne(),r=vr(),o=nt(),i=Le(),a=qs(),s=Us(),h=To();function f(u,c){var p=this;n.call(this),setTimeout(function(){p.doXhr(u,c)},0)}return e(f,n),f._getReceiver=function(u,c,p){return p.sameOrigin?new h(c,i):o.enabled?new h(c,o):r.enabled&&p.sameScheme?new h(c,r):s.enabled()?new s(u,c):new h(c,a)},f.prototype.doXhr=function(u,c){var p=this,S=t.addPath(u,"/info");this.xo=f._getReceiver(u,S,c),this.timeoutRef=setTimeout(function(){p._cleanup(!1),p.emit("finish")},f.timeout),this.xo.once("finish",function(I,D){p._cleanup(!0),p.emit("finish",I,D)})},f.prototype._cleanup=function(u){clearTimeout(this.timeoutRef),this.timeoutRef=null,!u&&this.xo&&this.xo.close(),this.xo=null},f.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},f.timeout=8e3,ur=f,ur}var lr,Gn;function Hs(){if(Gn)return lr;Gn=1;var n=Ue();function e(t){this._transport=t,t.on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}return e.prototype._transportClose=function(t,r){n.postMessage("c",JSON.stringify([t,r]))},e.prototype._transportMessage=function(t){n.postMessage("t",t)},e.prototype._send=function(t){this._transport.send(t)},e.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},lr=e,lr}var fr,Yn;function Ws(){if(Yn)return fr;Yn=1;var n=ne(),e=be(),t=Hs(),r=No(),o=Ue(),i=Ro(),a=function(){};return fr=function(s,h){var f={};h.forEach(function(c){c.facadeTransport&&(f[c.facadeTransport.transportName]=c.facadeTransport)}),f[r.transportName]=r;var u;s.bootstrap_iframe=function(){var c;o.currentWindowId=i.hash.slice(1);var p=function(S){if(S.source===parent&&(typeof u>"u"&&(u=S.origin),S.origin===u)){var I;try{I=JSON.parse(S.data)}catch{a("bad json",S.data);return}if(I.windowId===o.currentWindowId)switch(I.type){case"s":var D;try{D=JSON.parse(I.data)}catch{a("bad json",I.data);break}var H=D[0],W=D[1],v=D[2],T=D[3];if(H!==s.version)throw new Error('Incompatible SockJS! Main site uses: "'+H+'", the iframe: "'+s.version+'".');if(!n.isOriginEqual(v,i.href)||!n.isOriginEqual(T,i.href))throw new Error("Can't connect to different domain from within an iframe. ("+i.href+", "+v+", "+T+")");c=new t(new f[W](v,T));break;case"m":c._send(I.data);break;case"c":c&&c._close(),c=null;break}}};e.attachEvent("message",p),o.postMessage("s")}},fr}var dr,Kn;function Fs(){if(Kn)return dr;Kn=1,js();var n=yo(),e=X(),t=Oe(),r=Ms(),o=ne(),i=be(),a=Ds(),s=gr(),h=qe(),f=As(),u=br(),c=_o(),p=Ro(),S=Ps(),I=Ls(),D=$s(),H=function(){},W;function v(m,g,N){if(!(this instanceof v))return new v(m,g,N);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");c.call(this),this.readyState=v.CONNECTING,this.extensions="",this.protocol="",N=N||{},N.protocols_whitelist&&f.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=N.transports,this._transportOptions=N.transportOptions||{},this._timeout=N.timeout||0;var x=N.sessionId||8;if(typeof x=="function")this._generateSessionId=x;else if(typeof x=="number")this._generateSessionId=function(){return t.string(x)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=N.server||t.numberString(1e3);var y=new n(m);if(!y.host||!y.protocol)throw new SyntaxError("The URL '"+m+"' is invalid");if(y.hash)throw new SyntaxError("The URL must not contain a fragment");if(y.protocol!=="http:"&&y.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+y.protocol+"' is not allowed.");var O=y.protocol==="https:";if(p.protocol==="https:"&&!O&&!o.isLoopbackAddr(y.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");g?Array.isArray(g)||(g=[g]):g=[];var R=g.sort();R.forEach(function(A,C){if(!A)throw new SyntaxError("The protocols entry '"+A+"' is invalid.");if(C<R.length-1&&A===R[C+1])throw new SyntaxError("The protocols entry '"+A+"' is duplicated.")});var E=o.getOrigin(p.href);this._origin=E?E.toLowerCase():null,y.set("pathname",y.pathname.replace(/\/+$/,"")),this.url=y.href,H("using url",this.url),this._urlInfo={nullOrigin:!h.hasDomain(),sameOrigin:o.isOriginEqual(this.url,p.href),sameScheme:o.isSchemeEqual(this.url,p.href)},this._ir=new D(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}e(v,c);function T(m){return m===1e3||m>=3e3&&m<=4999}return v.prototype.close=function(m,g){if(m&&!T(m))throw new Error("InvalidAccessError: Invalid code");if(g&&g.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===v.CLOSING||this.readyState===v.CLOSED)){var N=!0;this._close(m||1e3,g||"Normal closure",N)}},v.prototype.send=function(m){if(typeof m!="string"&&(m=""+m),this.readyState===v.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===v.OPEN&&this._transport.send(r.quote(m))},v.version=Eo(),v.CONNECTING=0,v.OPEN=1,v.CLOSING=2,v.CLOSED=3,v.prototype._receiveInfo=function(m,g){if(this._ir=null,!m){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(g),this._transUrl=m.base_url?m.base_url:this.url,m=s.extend(m,this._urlInfo);var N=W.filterToEnabled(this._transportsWhitelist,m);this._transports=N.main,H(this._transports.length+" enabled transports"),this._connect()},v.prototype._connect=function(){for(var m=this._transports.shift();m;m=this._transports.shift()){if(H("attempt",m.transportName),m.needBody&&(!P.document.body||typeof P.document.readyState<"u"&&P.document.readyState!=="complete"&&P.document.readyState!=="interactive")){this._transports.unshift(m),i.attachEvent("load",this._connect.bind(this));return}var g=Math.max(this._timeout,this._rto*m.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),g);var N=o.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),x=this._transportOptions[m.transportName],y=new m(N,this._transUrl,x);y.on("message",this._transportMessage.bind(this)),y.once("close",this._transportClose.bind(this)),y.transportName=m.transportName,this._transport=y;return}this._close(2e3,"All transports failed",!1)},v.prototype._transportTimeout=function(){this.readyState===v.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},v.prototype._transportMessage=function(m){var g=this,N=m.slice(0,1),x=m.slice(1),y;switch(N){case"o":this._open();return;case"h":this.dispatchEvent(new u("heartbeat")),H("heartbeat",this.transport);return}if(x)try{y=JSON.parse(x)}catch{}if(!(typeof y>"u"))switch(N){case"a":Array.isArray(y)&&y.forEach(function(O){H("message",g.transport),g.dispatchEvent(new I(O))});break;case"m":H("message",this.transport),this.dispatchEvent(new I(y));break;case"c":Array.isArray(y)&&y.length===2&&this._close(y[0],y[1],!0);break}},v.prototype._transportClose=function(m,g){if(H("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!T(m)&&m!==2e3&&this.readyState===v.CONNECTING){this._connect();return}this._close(m,g)},v.prototype._open=function(){H("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===v.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=v.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new u("open")),H("connected",this.transport)):this._close(1006,"Server lost session")},v.prototype._close=function(m,g,N){H("_close",this.transport,m,g,N,this.readyState);var x=!1;if(this._ir&&(x=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===v.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=v.CLOSING,setTimeout((function(){this.readyState=v.CLOSED,x&&this.dispatchEvent(new u("error"));var y=new S("close");y.wasClean=N||!1,y.code=m||1e3,y.reason=g,this.dispatchEvent(y),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)},v.prototype.countRTO=function(m){return m>100?4*m:300+m},dr=function(m){return W=a(m),Ws()(v,m),v},dr}var hr,Qn;function Bs(){if(Qn)return hr;Qn=1;var n=Is();return hr=Fs()(n),"_sockjs_onload"in P&&setTimeout(P._sockjs_onload,1),hr}var Vs=Bs();const Xs=pr(Vs);function zs(n,e){n.terminate=function(){const t=()=>{};this.onerror=t,this.onmessage=t,this.onopen=t;const r=new Date,o=Math.random().toString().substring(2,8),i=this.onclose;this.onclose=a=>{const s=new Date().getTime()-r.getTime();e(`Discarded socket (#${o})  closed after ${s}ms, with code/reason: ${a.code}/${a.reason}`)},this.close(),i==null||i.call(n,{code:4001,reason:`Quick discarding socket (#${o}) without waiting for the shutdown sequence.`,wasClean:!1})}}const je={LF:`
`,NULL:"\0"};class me{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(e){const{command:t,headers:r,body:o,binaryBody:i,escapeHeaderValues:a,skipContentLengthHeader:s}=e;this.command=t,this.headers=Object.assign({},r||{}),i?(this._binaryBody=i,this.isBinaryBody=!0):(this._body=o||"",this.isBinaryBody=!1),this.escapeHeaderValues=a||!1,this.skipContentLengthHeader=s||!1}static fromRawFrame(e,t){const r={},o=i=>i.replace(/^\s+|\s+$/g,"");for(const i of e.headers.reverse()){i.indexOf(":");const a=o(i[0]);let s=o(i[1]);t&&e.command!=="CONNECT"&&e.command!=="CONNECTED"&&(s=me.hdrValueUnEscape(s)),r[a]=s}return new me({command:e.command,headers:r,binaryBody:e.binaryBody,escapeHeaderValues:t})}toString(){return this.serializeCmdAndHeaders()}serialize(){const e=this.serializeCmdAndHeaders();return this.isBinaryBody?me.toUnit8Array(e,this._binaryBody).buffer:e+this._body+je.NULL}serializeCmdAndHeaders(){const e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const t of Object.keys(this.headers||{})){const r=this.headers[t];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?e.push(`${t}:${me.hdrValueEscape(`${r}`)}`):e.push(`${t}:${r}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&e.push(`content-length:${this.bodyLength()}`),e.join(je.LF)+je.LF+je.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const e=this.binaryBody;return e?e.length:0}static sizeOfUTF8(e){return e?new TextEncoder().encode(e).length:0}static toUnit8Array(e,t){const r=new TextEncoder().encode(e),o=new Uint8Array([0]),i=new Uint8Array(r.length+t.length+o.length);return i.set(r),i.set(t,r.length),i.set(o,r.length+t.length),i}static marshall(e){return new me(e).serialize()}static hdrValueEscape(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const Zn=0,Ye=10,Ke=13,Js=58;class Gs{constructor(e,t){this.onFrame=e,this.onIncomingPing=t,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(e,t=!1){let r;if(typeof e=="string"?r=this._encoder.encode(e):r=new Uint8Array(e),t&&r[r.length-1]!==0){const o=new Uint8Array(r.length+1);o.set(r,0),o[r.length]=0,r=o}for(let o=0;o<r.length;o++){const i=r[o];this._onByte(i)}}_collectFrame(e){if(e!==Zn&&e!==Ke){if(e===Ye){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(e)}}_collectCommand(e){if(e!==Ke){if(e===Ye){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_collectHeaders(e){if(e!==Ke){if(e===Ye){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(e)}}_reinjectByte(e){this._onByte(e)}_collectHeaderKey(e){if(e===Js){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(e)}_collectHeaderValue(e){if(e!==Ke){if(e===Ye){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_setupCollectBody(){const e=this._results.headers.filter(t=>t[0]==="content-length")[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(e){if(e===Zn){this._retrievedBody();return}this._consumeByte(e)}_collectBodyFixedSize(e){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(e)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(e){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",e)}this._initState()}_consumeByte(e){this._token.push(e)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const e=new Uint8Array(this._token);return this._token=[],e}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var ve;(function(n){n[n.CONNECTING=0]="CONNECTING",n[n.OPEN=1]="OPEN",n[n.CLOSING=2]="CLOSING",n[n.CLOSED=3]="CLOSED"})(ve||(ve={}));var ae;(function(n){n[n.ACTIVE=0]="ACTIVE",n[n.DEACTIVATING=1]="DEACTIVATING",n[n.INACTIVE=2]="INACTIVE"})(ae||(ae={}));var et;(function(n){n[n.LINEAR=0]="LINEAR",n[n.EXPONENTIAL=1]="EXPONENTIAL"})(et||(et={}));var Ae;(function(n){n.Interval="interval",n.Worker="worker"})(Ae||(Ae={}));class Ys{constructor(e,t=Ae.Interval,r){this._interval=e,this._strategy=t,this._debug=r,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(e){this.stop(),this.shouldUseWorker()?this.runWorker(e):this.runInterval(e)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===Ae.Worker}runWorker(e){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=t=>e(t.data))}runInterval(e){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const t=Date.now();this._timer=setInterval(()=>{e(Date.now()-t)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class Q{constructor(e){this.versions=e}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(e=>`v${e.replace(".","")}.stomp`)}}Q.V1_0="1.0";Q.V1_1="1.1";Q.V1_2="1.2";Q.default=new Q([Q.V1_2,Q.V1_1,Q.V1_0]);class Ks{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(e,t,r){this._client=e,this._webSocket=t,this._connected=!1,this._serverFrameHandlers={CONNECTED:o=>{this.debug(`connected to server ${o.headers.server}`),this._connected=!0,this._connectedVersion=o.headers.version,this._connectedVersion===Q.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(o.headers),this.onConnect(o)},MESSAGE:o=>{const i=o.headers.subscription,a=this._subscriptions[i]||this.onUnhandledMessage,s=o,h=this,f=this._connectedVersion===Q.V1_2?s.headers.ack:s.headers["message-id"];s.ack=(u={})=>h.ack(f,i,u),s.nack=(u={})=>h.nack(f,i,u),a(s)},RECEIPT:o=>{const i=this._receiptWatchers[o.headers["receipt-id"]];i?(i(o),delete this._receiptWatchers[o.headers["receipt-id"]]):this.onUnhandledReceipt(o)},ERROR:o=>{this.onStompError(o)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=r.debug,this.stompVersions=r.stompVersions,this.connectHeaders=r.connectHeaders,this.disconnectHeaders=r.disconnectHeaders,this.heartbeatIncoming=r.heartbeatIncoming,this.heartbeatOutgoing=r.heartbeatOutgoing,this.splitLargeFrames=r.splitLargeFrames,this.maxWebSocketChunkSize=r.maxWebSocketChunkSize,this.forceBinaryWSFrames=r.forceBinaryWSFrames,this.logRawCommunication=r.logRawCommunication,this.appendMissingNULLonIncoming=r.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=r.discardWebsocketOnCommFailure,this.onConnect=r.onConnect,this.onDisconnect=r.onDisconnect,this.onStompError=r.onStompError,this.onWebSocketClose=r.onWebSocketClose,this.onWebSocketError=r.onWebSocketError,this.onUnhandledMessage=r.onUnhandledMessage,this.onUnhandledReceipt=r.onUnhandledReceipt,this.onUnhandledFrame=r.onUnhandledFrame}start(){const e=new Gs(t=>{const r=me.fromRawFrame(t,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${r}`),(this._serverFrameHandlers[r.command]||this.onUnhandledFrame)(r)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=t=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const r=t.data instanceof ArrayBuffer?new TextDecoder().decode(t.data):t.data;this.debug(`<<< ${r}`)}e.parseChunk(t.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=t=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(t)},this._webSocket.onerror=t=>{this.onWebSocketError(t)},this._webSocket.onopen=()=>{const t=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),t["accept-version"]=this.stompVersions.supportedVersions(),t["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:t})}}_setupHeartbeat(e){if(e.version!==Q.V1_1&&e.version!==Q.V1_2||!e["heart-beat"])return;const[t,r]=e["heart-beat"].split(",").map(o=>parseInt(o,10));if(this.heartbeatOutgoing!==0&&r!==0){const o=Math.max(this.heartbeatOutgoing,r);this.debug(`send PING every ${o}ms`),this._pinger=new Ys(o,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===ve.OPEN&&(this._webSocket.send(je.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&t!==0){const o=Math.max(this.heartbeatIncoming,t);this.debug(`check PONG every ${o}ms`),this._ponger=setInterval(()=>{const i=Date.now()-this._lastServerActivityTS;i>o*2&&(this.debug(`did not receive server activity for the last ${i}ms`),this._closeOrDiscardWebsocket())},o)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===ve.CONNECTING||this._webSocket.readyState===ve.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&zs(this._webSocket,e=>this.debug(e)),this._webSocket.terminate()}_transmit(e){const{command:t,headers:r,body:o,binaryBody:i,skipContentLengthHeader:a}=e,s=new me({command:t,headers:r,body:o,binaryBody:i,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:a});let h=s.serialize();if(this.logRawCommunication?this.debug(`>>> ${h}`):this.debug(`>>> ${s}`),this.forceBinaryWSFrames&&typeof h=="string"&&(h=new TextEncoder().encode(h)),typeof h!="string"||!this.splitLargeFrames)this._webSocket.send(h);else{let f=h;for(;f.length>0;){const u=f.substring(0,this.maxWebSocketChunkSize);f=f.substring(this.maxWebSocketChunkSize),this._webSocket.send(u),this.debug(`chunk sent = ${u.length}, remaining = ${f.length}`)}}}dispose(){if(this.connected)try{const e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt=`close-${this._counter++}`),this.watchForReceipt(e.receipt,t=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(t)}),this._transmit({command:"DISCONNECT",headers:e})}catch(e){this.debug(`Ignoring error during disconnect ${e}`)}else(this._webSocket.readyState===ve.CONNECTING||this._webSocket.readyState===ve.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(e){const{destination:t,headers:r,body:o,binaryBody:i,skipContentLengthHeader:a}=e,s=Object.assign({destination:t},r);this._transmit({command:"SEND",headers:s,body:o,binaryBody:i,skipContentLengthHeader:a})}watchForReceipt(e,t){this._receiptWatchers[e]=t}subscribe(e,t,r={}){r=Object.assign({},r),r.id||(r.id=`sub-${this._counter++}`),r.destination=e,this._subscriptions[r.id]=t,this._transmit({command:"SUBSCRIBE",headers:r});const o=this;return{id:r.id,unsubscribe(i){return o.unsubscribe(r.id,i)}}}unsubscribe(e,t={}){t=Object.assign({},t),delete this._subscriptions[e],t.id=e,this._transmit({command:"UNSUBSCRIBE",headers:t})}begin(e){const t=e||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:t}});const r=this;return{id:t,commit(){r.commit(t)},abort(){r.abort(t)}}}commit(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}abort(e){this._transmit({command:"ABORT",headers:{transaction:e}})}ack(e,t,r={}){r=Object.assign({},r),this._connectedVersion===Q.V1_2?r.id=e:r["message-id"]=e,r.subscription=t,this._transmit({command:"ACK",headers:r})}nack(e,t,r={}){return r=Object.assign({},r),this._connectedVersion===Q.V1_2?r.id=e:r["message-id"]=e,r.subscription=t,this._transmit({command:"NACK",headers:r})}}class Qs{get webSocket(){var e;return(e=this._stompHandler)==null?void 0:e._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===ae.ACTIVE}_changeState(e){this.state=e,this.onChangeState(e)}constructor(e={}){this.stompVersions=Q.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=et.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=Ae.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=ae.INACTIVE;const t=()=>{};this.debug=t,this.beforeConnect=t,this.onConnect=t,this.onDisconnect=t,this.onUnhandledMessage=t,this.onUnhandledReceipt=t,this.onUnhandledFrame=t,this.onStompError=t,this.onWebSocketClose=t,this.onWebSocketError=t,this.logRawCommunication=!1,this.onChangeState=t,this.connectHeaders={},this._disconnectHeaders={},this.configure(e)}configure(e){Object.assign(this,e),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const e=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(ae.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===ae.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{e()})):e()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const e=this._createWebSocket();this._stompHandler=new Ks(this,e,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:t=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(t)},onDisconnect:t=>{this.onDisconnect(t)},onStompError:t=>{this.onStompError(t)},onWebSocketClose:t=>{this._stompHandler=void 0,this.state===ae.DEACTIVATING&&this._changeState(ae.INACTIVE),this.onWebSocketClose(t),this.active&&this._schedule_reconnect()},onWebSocketError:t=>{this.onWebSocketError(t)},onUnhandledMessage:t=>{this.onUnhandledMessage(t)},onUnhandledReceipt:t=>{this.onUnhandledReceipt(t)},onUnhandledFrame:t=>{this.onUnhandledFrame(t)}}),this._stompHandler.start()}_createWebSocket(){let e;if(this.webSocketFactory)e=this.webSocketFactory();else if(this.brokerURL)e=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return e.binaryType="arraybuffer",e}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===et.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(e={}){var i;const t=e.force||!1,r=this.active;let o;if(this.state===ae.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(ae.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==ve.CLOSED){const a=this._stompHandler.onWebSocketClose;o=new Promise((s,h)=>{this._stompHandler.onWebSocketClose=f=>{a(f),s()}})}else return this._changeState(ae.INACTIVE),Promise.resolve();return t?(i=this._stompHandler)==null||i.discardWebsocket():r&&this._disposeStompHandler(),o}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(e){this._checkConnection(),this._stompHandler.publish(e)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(e,t){this._checkConnection(),this._stompHandler.watchForReceipt(e,t)}subscribe(e,t,r={}){return this._checkConnection(),this._stompHandler.subscribe(e,t,r)}unsubscribe(e,t={}){this._checkConnection(),this._stompHandler.unsubscribe(e,t)}begin(e){return this._checkConnection(),this._stompHandler.begin(e)}commit(e){this._checkConnection(),this._stompHandler.commit(e)}abort(e){this._checkConnection(),this._stompHandler.abort(e)}ack(e,t,r={}){this._checkConnection(),this._stompHandler.ack(e,t,r)}nack(e,t,r={}){this._checkConnection(),this._stompHandler.nack(e,t,r)}}var Qe={exports:{}},Zs=Qe.exports,eo;function ea(){return eo||(eo=1,function(n,e){(function(t,r){n.exports=r()})(Zs,function(){var t=1e3,r=6e4,o=36e5,i="millisecond",a="second",s="minute",h="hour",f="day",u="week",c="month",p="quarter",S="year",I="date",D="Invalid Date",H=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,W=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var l=["th","st","nd","rd"],b=_%100;return"["+_+(l[(b-20)%10]||l[b]||l[0])+"]"}},T=function(_,l,b){var d=String(_);return!d||d.length>=l?_:""+Array(l+1-d.length).join(b)+_},m={s:T,z:function(_){var l=-_.utcOffset(),b=Math.abs(l),d=Math.floor(b/60),w=b%60;return(l<=0?"+":"-")+T(d,2,"0")+":"+T(w,2,"0")},m:function _(l,b){if(l.date()<b.date())return-_(b,l);var d=12*(b.year()-l.year())+(b.month()-l.month()),w=l.clone().add(d,c),L=b-w<0,q=l.clone().add(d+(L?-1:1),c);return+(-(d+(b-w)/(L?w-q:q-w))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:c,y:S,w:u,d:f,D:I,h,m:s,s:a,ms:i,Q:p}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},g="en",N={};N[g]=v;var x="$isDayjsObject",y=function(_){return _ instanceof A||!(!_||!_[x])},O=function _(l,b,d){var w;if(!l)return g;if(typeof l=="string"){var L=l.toLowerCase();N[L]&&(w=L),b&&(N[L]=b,w=L);var q=l.split("-");if(!w&&q.length>1)return _(q[0])}else{var j=l.name;N[j]=l,w=j}return!d&&w&&(g=w),w||!d&&g},R=function(_,l){if(y(_))return _.clone();var b=typeof l=="object"?l:{};return b.date=_,b.args=arguments,new A(b)},E=m;E.l=O,E.i=y,E.w=function(_,l){return R(_,{locale:l.$L,utc:l.$u,x:l.$x,$offset:l.$offset})};var A=function(){function _(b){this.$L=O(b.locale,null,!0),this.parse(b),this.$x=this.$x||b.x||{},this[x]=!0}var l=_.prototype;return l.parse=function(b){this.$d=function(d){var w=d.date,L=d.utc;if(w===null)return new Date(NaN);if(E.u(w))return new Date;if(w instanceof Date)return new Date(w);if(typeof w=="string"&&!/Z$/i.test(w)){var q=w.match(H);if(q){var j=q[2]-1||0,$=(q[7]||"0").substring(0,3);return L?new Date(Date.UTC(q[1],j,q[3]||1,q[4]||0,q[5]||0,q[6]||0,$)):new Date(q[1],j,q[3]||1,q[4]||0,q[5]||0,q[6]||0,$)}}return new Date(w)}(b),this.init()},l.init=function(){var b=this.$d;this.$y=b.getFullYear(),this.$M=b.getMonth(),this.$D=b.getDate(),this.$W=b.getDay(),this.$H=b.getHours(),this.$m=b.getMinutes(),this.$s=b.getSeconds(),this.$ms=b.getMilliseconds()},l.$utils=function(){return E},l.isValid=function(){return this.$d.toString()!==D},l.isSame=function(b,d){var w=R(b);return this.startOf(d)<=w&&w<=this.endOf(d)},l.isAfter=function(b,d){return R(b)<this.startOf(d)},l.isBefore=function(b,d){return this.endOf(d)<R(b)},l.$g=function(b,d,w){return E.u(b)?this[d]:this.set(w,b)},l.unix=function(){return Math.floor(this.valueOf()/1e3)},l.valueOf=function(){return this.$d.getTime()},l.startOf=function(b,d){var w=this,L=!!E.u(d)||d,q=E.p(b),j=function(fe,G){var ee=E.w(w.$u?Date.UTC(w.$y,G,fe):new Date(w.$y,G,fe),w);return L?ee:ee.endOf(f)},$=function(fe,G){return E.w(w.toDate()[fe].apply(w.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(G)),w)},B=this.$W,z=this.$M,J=this.$D,ce="set"+(this.$u?"UTC":"");switch(q){case S:return L?j(1,0):j(31,11);case c:return L?j(1,z):j(0,z+1);case u:var ue=this.$locale().weekStart||0,Se=(B<ue?B+7:B)-ue;return j(L?J-Se:J+(6-Se),z);case f:case I:return $(ce+"Hours",0);case h:return $(ce+"Minutes",1);case s:return $(ce+"Seconds",2);case a:return $(ce+"Milliseconds",3);default:return this.clone()}},l.endOf=function(b){return this.startOf(b,!1)},l.$set=function(b,d){var w,L=E.p(b),q="set"+(this.$u?"UTC":""),j=(w={},w[f]=q+"Date",w[I]=q+"Date",w[c]=q+"Month",w[S]=q+"FullYear",w[h]=q+"Hours",w[s]=q+"Minutes",w[a]=q+"Seconds",w[i]=q+"Milliseconds",w)[L],$=L===f?this.$D+(d-this.$W):d;if(L===c||L===S){var B=this.clone().set(I,1);B.$d[j]($),B.init(),this.$d=B.set(I,Math.min(this.$D,B.daysInMonth())).$d}else j&&this.$d[j]($);return this.init(),this},l.set=function(b,d){return this.clone().$set(b,d)},l.get=function(b){return this[E.p(b)]()},l.add=function(b,d){var w,L=this;b=Number(b);var q=E.p(d),j=function(z){var J=R(L);return E.w(J.date(J.date()+Math.round(z*b)),L)};if(q===c)return this.set(c,this.$M+b);if(q===S)return this.set(S,this.$y+b);if(q===f)return j(1);if(q===u)return j(7);var $=(w={},w[s]=r,w[h]=o,w[a]=t,w)[q]||1,B=this.$d.getTime()+b*$;return E.w(B,this)},l.subtract=function(b,d){return this.add(-1*b,d)},l.format=function(b){var d=this,w=this.$locale();if(!this.isValid())return w.invalidDate||D;var L=b||"YYYY-MM-DDTHH:mm:ssZ",q=E.z(this),j=this.$H,$=this.$m,B=this.$M,z=w.weekdays,J=w.months,ce=w.meridiem,ue=function(G,ee,de,ye){return G&&(G[ee]||G(d,L))||de[ee].slice(0,ye)},Se=function(G){return E.s(j%12||12,G,"0")},fe=ce||function(G,ee,de){var ye=G<12?"AM":"PM";return de?ye.toLowerCase():ye};return L.replace(W,function(G,ee){return ee||function(de){switch(de){case"YY":return String(d.$y).slice(-2);case"YYYY":return E.s(d.$y,4,"0");case"M":return B+1;case"MM":return E.s(B+1,2,"0");case"MMM":return ue(w.monthsShort,B,J,3);case"MMMM":return ue(J,B);case"D":return d.$D;case"DD":return E.s(d.$D,2,"0");case"d":return String(d.$W);case"dd":return ue(w.weekdaysMin,d.$W,z,2);case"ddd":return ue(w.weekdaysShort,d.$W,z,3);case"dddd":return z[d.$W];case"H":return String(j);case"HH":return E.s(j,2,"0");case"h":return Se(1);case"hh":return Se(2);case"a":return fe(j,$,!0);case"A":return fe(j,$,!1);case"m":return String($);case"mm":return E.s($,2,"0");case"s":return String(d.$s);case"ss":return E.s(d.$s,2,"0");case"SSS":return E.s(d.$ms,3,"0");case"Z":return q}return null}(G)||q.replace(":","")})},l.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},l.diff=function(b,d,w){var L,q=this,j=E.p(d),$=R(b),B=($.utcOffset()-this.utcOffset())*r,z=this-$,J=function(){return E.m(q,$)};switch(j){case S:L=J()/12;break;case c:L=J();break;case p:L=J()/3;break;case u:L=(z-B)/6048e5;break;case f:L=(z-B)/864e5;break;case h:L=z/o;break;case s:L=z/r;break;case a:L=z/t;break;default:L=z}return w?L:E.a(L)},l.daysInMonth=function(){return this.endOf(c).$D},l.$locale=function(){return N[this.$L]},l.locale=function(b,d){if(!b)return this.$L;var w=this.clone(),L=O(b,d,!0);return L&&(w.$L=L),w},l.clone=function(){return E.w(this.$d,this)},l.toDate=function(){return new Date(this.valueOf())},l.toJSON=function(){return this.isValid()?this.toISOString():null},l.toISOString=function(){return this.$d.toISOString()},l.toString=function(){return this.$d.toUTCString()},_}(),C=A.prototype;return R.prototype=C,[["$ms",i],["$s",a],["$m",s],["$H",h],["$W",f],["$M",c],["$y",S],["$D",I]].forEach(function(_){C[_[1]]=function(l){return this.$g(l,_[0],_[1])}}),R.extend=function(_,l){return _.$i||(_(l,A,R),_.$i=!0),R},R.locale=O,R.isDayjs=y,R.unix=function(_){return R(1e3*_)},R.en=N[g],R.Ls=N,R.p={},R})}(Qe)),Qe.exports}var ta=ea();const to=pr(ta);Ie.setAppElement("#root");function na(){const n=U.useRef(null),[e,t]=U.useState("javascript"),[r,o]=U.useState(""),[i,a]=U.useState(""),[s,h]=U.useState(!0),[f,u]=U.useState(null),[c,p]=U.useState(""),[S,I]=U.useState(!1),[D,H]=U.useState(!1),[W,v]=U.useState(""),[T,m]=U.useState(""),[g,N]=U.useState(!1),[x,y]=U.useState(""),[O,R]=U.useState(!1),[E,A]=U.useState([]),[C,_]=U.useState([]),[l,b]=U.useState(""),[d,w]=U.useState("Editor"),[L,q]=U.useState(!1),[j,$]=U.useState(!1),[B,z]=U.useState(!1),[J,ce]=U.useState(""),[ue,Se]=U.useState({user_name:"",user_email:"",role:""}),[fe,G]=U.useState("// some comment"),ee=U.useRef(null),de=U.useRef(null),ye=new URLSearchParams(window.location.search),Y=ye.get("projectUUID"),yr=ye.get("role"),he=yr==="admin",_e=yr==="editor";U.useEffect(()=>{const k=new Xs("http://localhost:8081/ws"),F=new Qs({webSocketFactory:()=>k,reconnectDelay:5e3,onConnect:()=>console.log("Connected to WebSocket")});return F.activate(),ee.current=F,()=>{F.deactivate()}},[]);const ko=k=>{if(!ee.current||!ee.current.connected)return;de.current&&de.current.unsubscribe();const F=`/topic/${Y}/${k}`;de.current=ee.current.subscribe(F,V=>{const K=JSON.parse(V.body);K&&K.content&&(G(K.content),console.log(K.content))})},Io=async k=>{console.log(`I will revert ${k}`)},jo=async()=>{try{if(!(await fetch(`http://localhost:8081/roles/give?projectUUID=${Y}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,role:d})})).ok)throw new Error("Failed to add contributor");fetch(`http://localhost:8081/project/getUsers?projectUUID=${Y}`).then(F=>F.json()).then(F=>{A(F),R(!0)}).catch(F=>{console.error("Error fetching contributors:",F),alert("Failed to load contributors.")}),ot()}catch(k){console.error("Error adding contributor:",k),alert("Error adding contributor")}},Mo=async()=>{try{if(!(await fetch(`http://localhost:8081/versionControl/commit?versionName=${J}&projectUUID=${Y}`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to commit");fetch(`http://localhost:8081/versionControl/getCommits?projectUUID=${Y}`).then(F=>F.json()).then(F=>{_(F),$(!0)}).catch(F=>{console.error("Error fetching commits:",F),alert("Failed to load commits.")}),it()}catch(k){console.error("Error making the commit:",k),alert("Error making the commit")}},Do=()=>q(!0),ot=()=>q(!1),Ao=()=>z(!0),it=()=>z(!1),Po=()=>{fetch(`http://localhost:8081/versionControl/getCommits?projectUUID=${Y}`).then(k=>k.json()).then(k=>{_(k),$(!0)}).catch(k=>{console.error("Error fetching commits:",k),alert("Failed to load commits.")})},_r=()=>$(!1),Lo=()=>{fetch(`http://localhost:8081/project/getUsers?projectUUID=${Y}`).then(k=>k.json()).then(k=>{A(k),R(!0)}).catch(k=>{console.error("Error fetching contributors:",k),alert("Failed to load contributors.")})},wr=()=>R(!1),Te=()=>{fetch(`http://localhost:8081/storage/projectStructure/${Y}`).then(k=>k.json()).then(k=>{u(k)}).catch(k=>console.error("Error fetching project structure:",k))};U.useEffect(()=>{Te()},[Y]);function qo(k,F){n.current=k}const Uo=async()=>{a("Running...");try{const k=await fetch("http://localhost:8081/executor/executeFile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectUUID:Y,filePath:c,language:e,inputData:r})});if(!k.ok)throw new Error(`HTTP error! status: ${k.status}`);const F=await k.text();a(F)}catch(k){console.error("Error executing file:",k),a(`Error: ${k.message}`)}},$o=(k,F)=>{p(k),fetch(`http://localhost:8081/log?value=${encodeURIComponent(k)}`).then(V=>V.json()).then(V=>console.log("Path logged successfully:",V)).catch(V=>console.error("Error logging path:",V)),F&&n.current&&fetch(`http://localhost:8081/storage/getFile?projectUUID=${Y}&filePath=${encodeURIComponent(k)}`).then(V=>V.text()).then(V=>{n.current.setValue(V),console.log("will connect"),ko(k)}).catch(V=>console.error("Error fetching file content:",V))},Ho=k=>{var V;console.log(k),(V=ee.current)==null||V.publish({destination:"/app/communication",body:JSON.stringify({content:k,projectUUID:Y,filePath:c})})},Sr=(k,F="")=>k.map(V=>{const K=F?`${F}/${V.name}`:V.name;return M.jsxs("li",{children:[M.jsxs("span",{onClick:()=>$o(K,V.type==="file"),style:{cursor:"pointer",color:c===K?"#ffcc00":"#d4d4d4"},children:[V.type==="directory"?"📁":"📄"," ",V.name]}),V.type==="directory"&&V.children&&M.jsx("ul",{style:{listStyle:"none",paddingLeft:"20px"},children:Sr(V.children,K)})]},K)}),Wo=async()=>{if(!W){alert("Please enter a file name.");return}let k="";if(!c)k="";else{const F=c.split("/"),V=F[F.length-1],K=(oe,st)=>{for(const ie of st)if(ie.name===oe&&ie.type==="directory"||ie.type==="directory"&&ie.children&&K(oe,ie.children))return!0;return!1};if(K(V,(f==null?void 0:f.children)||[])||c.endsWith("/"))k=c.replace(/\/$/,"");else{const oe=c.lastIndexOf("/");k=oe!==-1?c.substring(0,oe):""}}await fetch("http://localhost:8081/storage/createFile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectUUID:Y,relativePath:k,fileName:W})}).then(F=>{F.status===201?(alert("File created successfully!"),Te(),v(""),I(!1)):alert("Failed to create file")}).catch(F=>{console.error("Create file error:",F),alert("Error creating file")})},Fo=async()=>{if(!T){alert("Please enter a directory name.");return}let k="";if(!c)k="";else{const F=c.split("/"),V=F[F.length-1],K=(oe,st)=>{for(const ie of st)if(ie.name===oe&&ie.type==="directory"||ie.type==="directory"&&ie.children&&K(oe,ie.children))return!0;return!1};if(K(V,(f==null?void 0:f.children)||[])||c.endsWith("/"))k=c.replace(/\/$/,"");else{const oe=c.lastIndexOf("/");k=oe!==-1?c.substring(0,oe):""}}await fetch("http://localhost:8081/storage/createDirectory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectUUID:Y,relativePath:k,directoryName:T})}).then(F=>{F.status===201?(alert("Directory created successfully!"),Te(),m(""),H(!1)):alert("Failed to create directory")}).catch(F=>{console.error("Create directory error:",F),alert("Error creating directory")})},Bo=async()=>{if(!c){alert("Please select a file or directory to delete.");return}const k=c.split("/").pop(),F=c.substring(0,c.lastIndexOf("/"));await fetch("http://localhost:8081/storage/deleteComponent",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectUUID:Y,relativePath:F,componentName:k})}).then(V=>{V.status===201?(alert("Component deleted successfully!"),Te(),p("")):alert("Failed to delete component")}).catch(V=>{console.error("Delete component error:",V),alert("Error deleting component")})},Vo=async()=>{if(!c||!x){alert("Please select a file/directory and enter the new name.");return}const k=c.split("/").pop(),F=c.substring(0,c.lastIndexOf("/"));await fetch("http://localhost:8081/storage/renameComponent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectUUID:Y,relativePath:F,componentName:k,newName:x})}).then(V=>{V.status===201?(alert("Component renamed successfully!"),Te(),y(""),N(!1),p("")):alert("Failed to rename component")}).catch(V=>{console.error("Rename component error:",V),alert("Error renaming component")})};return M.jsxs("div",{className:"d-flex flex-column",style:{height:"100vh",backgroundColor:"#1e1e1e"},children:[M.jsxs("div",{className:"d-flex p-2",children:[(he||_e)&&M.jsx("button",{className:"btn btn-primary me-2",onClick:Uo,children:"Run"}),(he||_e)&&M.jsx("button",{className:"btn btn-success me-2",onClick:()=>I(!S),children:"+ File"}),(he||_e)&&M.jsx("button",{className:"btn btn-info me-2",onClick:()=>H(!D),children:"+ Directory"}),(he||_e)&&M.jsx("button",{className:"btn btn-danger me-2",onClick:Bo,children:"Delete"}),(he||_e)&&M.jsx("button",{className:"btn btn-warning me-2",onClick:()=>N(!g),children:"Rename"}),g&&M.jsxs("div",{className:"d-flex align-items-center me-2",children:[M.jsx("input",{type:"text",className:"form-control",placeholder:"Enter new name...",value:x,onChange:k=>y(k.target.value),style:{width:"200px",marginRight:"5px"}}),M.jsx("button",{className:"btn btn-outline-light",onClick:Vo,children:"Rename"})]}),S&&M.jsxs("div",{className:"d-flex align-items-center me-2",children:[M.jsx("input",{type:"text",className:"form-control",placeholder:"Enter file name...",value:W,onChange:k=>v(k.target.value),style:{width:"200px",marginRight:"5px"}}),M.jsx("button",{className:"btn btn-outline-light",onClick:Wo,children:"Create File"})]}),D&&M.jsxs("div",{className:"d-flex align-items-center me-2",children:[M.jsx("input",{type:"text",className:"form-control",placeholder:"Enter directory name...",value:T,onChange:k=>m(k.target.value),style:{width:"200px",marginRight:"5px"}}),M.jsx("button",{className:"btn btn-outline-light",onClick:Fo,children:"Create Directory"})]}),(he||_e)&&M.jsxs("div",{className:"dropdown me-2",children:[M.jsx("button",{className:"btn btn-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown",children:"Language"}),M.jsxs("ul",{className:"dropdown-menu",children:[M.jsx("li",{children:M.jsx("a",{className:"dropdown-item",href:"#",onClick:()=>t("java"),children:"Java"})}),M.jsx("li",{children:M.jsx("a",{className:"dropdown-item",href:"#",onClick:()=>t("cpp"),children:"C++"})}),M.jsx("li",{children:M.jsx("a",{className:"dropdown-item",href:"#",onClick:()=>t("python"),children:"Python"})})]})]}),(he||_e)&&M.jsx("button",{className:"btn btn-outline-light",onClick:Po,children:"Commits"}),M.jsxs(Ie,{isOpen:j,onRequestClose:_r,contentLabel:"Commits",style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:9997},content:{backgroundColor:"#2e2e2e",color:"#ffffff",width:"500px",margin:"auto",padding:"20px",borderRadius:"10px",zIndex:9999,inset:"50% auto auto 50%",transform:"translate(-50%, -50%)"}},children:[M.jsx("h2",{style:{marginBottom:"20px"},children:"Commits"}),C.length===0?M.jsx("p",{children:"No commits found."}):M.jsx("ul",{style:{paddingLeft:"0",listStyle:"none",maxHeight:"300px",overflowY:"auto"},children:[...C].sort((k,F)=>{const V=to(k.commit_time,"D MMM YYYY, HH:mm");return to(F.commit_time,"D MMM YYYY, HH:mm").valueOf()-V.valueOf()}).map((k,F)=>M.jsxs("li",{style:{marginBottom:"10px",padding:"10px 14px",background:"#3a3a3a",borderRadius:"6px",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px"},children:[M.jsx("span",{style:{flex:1},children:k.commit_name}),M.jsx("span",{style:{flex:1},children:k.commit_time}),M.jsx("button",{style:{marginLeft:"10px",background:"#ff4d4f",color:"white",border:"none",padding:"6px 10px",borderRadius:"4px",cursor:"pointer"},onClick:()=>Io(user.commitUUID),children:"Revert"})]},F))}),M.jsx("button",{className:"btn btn-outline-light mt-3",onClick:Ao,children:"Make New Commit"}),M.jsx("button",{className:"btn btn-outline-light mt-3",onClick:_r,children:"Close"})]}),M.jsxs(Ie,{isOpen:B,onRequestClose:it,contentLabel:"MakeCommit",style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:9998},content:{backgroundColor:"#2e2e2e",color:"#ffffff",width:"400px",margin:"auto",padding:"20px",borderRadius:"10px",zIndex:9999,inset:"50% auto auto 50%",transform:"translate(-50%, -50%)"}},children:[M.jsx("h2",{children:"Commit"}),M.jsxs("div",{children:[M.jsx("label",{children:"Commit Name: "}),M.jsx("input",{type:"commitName",value:J,onChange:k=>ce(k.target.value),placeholder:"Enter Commit Name",style:{width:"100%",marginBottom:"10px",padding:"8px"}}),M.jsx("button",{className:"btn btn-outline-light mt-3",onClick:Mo,children:"Commit"}),M.jsx("button",{className:"btn btn-outline-light mt-3",onClick:it,children:"Close"})]})]}),he&&M.jsx("button",{className:"btn btn-outline-light",onClick:Lo,children:"Contributors"}),M.jsxs(Ie,{isOpen:O,onRequestClose:wr,contentLabel:"Contributors",style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:9998},content:{backgroundColor:"#2e2e2e",color:"#ffffff",width:"500px",margin:"auto",padding:"20px",borderRadius:"10px",zIndex:9999,inset:"50% auto auto 50%",transform:"translate(-50%, -50%)"}},children:[M.jsx("h2",{style:{marginBottom:"20px"},children:"Contributors"}),E.length===0?M.jsx("p",{children:"No contributors found."}):M.jsx("ul",{style:{paddingLeft:"0",listStyle:"none",maxHeight:"300px",overflowY:"auto"},children:E.map((k,F)=>M.jsxs("li",{style:{marginBottom:"10px",padding:"10px 14px",background:"#3a3a3a",borderRadius:"6px",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px"},children:[M.jsx("span",{style:{flex:1},children:k.user_name}),M.jsx("span",{style:{flex:1},children:k.user_email}),M.jsx("span",{style:{flex:1,textAlign:"right"},children:k.role})]},F))}),M.jsx("button",{className:"btn btn-outline-light mt-3",onClick:Do,children:"Add Contributor"}),M.jsx("button",{className:"btn btn-outline-light mt-3",onClick:wr,children:"Close"})]}),M.jsxs(Ie,{isOpen:L,onRequestClose:ot,contentLabel:"Add Contributor",style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:9998},content:{backgroundColor:"#2e2e2e",color:"#ffffff",width:"400px",margin:"auto",padding:"20px",borderRadius:"10px",zIndex:9999,inset:"50% auto auto 50%",transform:"translate(-50%, -50%)"}},children:[M.jsx("h2",{children:"Add Contributor"}),M.jsxs("div",{children:[M.jsx("label",{children:"Email: "}),M.jsx("input",{type:"email",value:l,onChange:k=>b(k.target.value),placeholder:"Enter email",style:{width:"100%",marginBottom:"10px",padding:"8px"}}),M.jsx("label",{children:"Role: "}),M.jsxs("select",{value:d,onChange:k=>w(k.target.value),style:{width:"100%",marginBottom:"10px",padding:"8px"},children:[M.jsx("option",{value:"Editor",children:"Editor"}),M.jsx("option",{value:"Viewer",children:"Viewer"})]}),M.jsx("button",{className:"btn btn-outline-light mt-3",onClick:jo,children:"Add Contributor"}),M.jsx("button",{className:"btn btn-outline-light mt-3",onClick:ot,children:"Close"})]})]}),M.jsxs("button",{className:"btn btn-outline-light ms-auto",onClick:()=>h(!s),children:[s?"Hide":"Show"," Project"]})]}),M.jsxs("div",{className:"d-flex flex-grow-1",style:{height:"100%"},children:[s&&f&&M.jsxs("div",{style:{width:"250px",backgroundColor:"#252526",color:"#d4d4d4",borderRight:"1px solid #3c3c3c",overflowY:"auto",padding:"10px",boxSizing:"border-box"},children:[M.jsx("h6",{className:"text-light mb-3",children:"Project Files"}),M.jsx("ul",{style:{listStyle:"none",paddingLeft:"10px"},children:Sr(f.children)})]}),M.jsx("div",{style:{flexGrow:1},children:M.jsx(ts,{height:"100%",theme:"vs-dark",language:e,value:fe,onMount:qo,onChange:k=>Ho(k)})}),M.jsxs("div",{style:{width:"500px",backgroundColor:"#1e1e1e",color:"#d4d4d4",display:"flex",flexDirection:"column",borderLeft:"1px solid #3c3c3c"},children:[M.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"10px",boxSizing:"border-box"},children:[M.jsx("label",{htmlFor:"inputBox",className:"form-label text-light mb-1",children:"Input:"}),M.jsx("textarea",{id:"inputBox",className:"form-control",style:{flex:1,resize:"none",backgroundColor:"#252526",color:"#d4d4d4",border:"1px solid #3c3c3c"},value:r,onChange:k=>o(k.target.value)})]}),M.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"10px",boxSizing:"border-box",borderTop:"1px solid #3c3c3c"},children:[M.jsx("label",{htmlFor:"outputBox",className:"form-label text-light mb-1",children:"Output:"}),M.jsx("textarea",{id:"outputBox",className:"form-control",style:{flex:1,resize:"none",backgroundColor:"#252526",color:"#d4d4d4",border:"1px solid #3c3c3c"},value:i,readOnly:!0})]})]})]})]})}export{na as C};
