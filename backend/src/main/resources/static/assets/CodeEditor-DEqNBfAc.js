import{r as U,W as Oe,a as so,g as ni,b as ri,d as bn,e as P,j as k}from"./bootstrap.bundle.min-kXvpM-2A.js";function oi(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Tn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,n)}return t}function kn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Tn(Object(t),!0).forEach(function(n){oi(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Tn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ii(r,e){if(r==null)return{};var t={},n=Object.keys(r),o,i;for(i=0;i<n.length;i++)o=n[i],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function si(r,e){if(r==null)return{};var t=ii(r,e),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(o=0;o<i.length;o++)n=i[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function ai(r,e){return ci(r)||li(r,e)||ui(r,e)||fi()}function ci(r){if(Array.isArray(r))return r}function li(r,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var t=[],n=!0,o=!1,i=void 0;try{for(var a=r[Symbol.iterator](),s;!(n=(s=a.next()).done)&&(t.push(s.value),!(e&&t.length===e));n=!0);}catch(h){o=!0,i=h}finally{try{!n&&a.return!=null&&a.return()}finally{if(o)throw i}}return t}}function ui(r,e){if(r){if(typeof r=="string")return Nn(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nn(r,e)}}function Nn(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function fi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function di(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function jn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,n)}return t}function In(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jn(Object(t),!0).forEach(function(n){di(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):jn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function hi(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return function(n){return e.reduceRight(function(o,i){return i(o)},n)}}function Ie(r){return function e(){for(var t=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return o.length>=r.length?r.apply(this,o):function(){for(var a=arguments.length,s=new Array(a),h=0;h<a;h++)s[h]=arguments[h];return e.apply(t,[].concat(o,s))}}}function et(r){return{}.toString.call(r).includes("Object")}function pi(r){return!Object.keys(r).length}function Ae(r){return typeof r=="function"}function mi(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function vi(r,e){return et(e)||ge("changeType"),Object.keys(e).some(function(t){return!mi(r,t)})&&ge("changeField"),e}function gi(r){Ae(r)||ge("selectorType")}function bi(r){Ae(r)||et(r)||ge("handlerType"),et(r)&&Object.values(r).some(function(e){return!Ae(e)})&&ge("handlersType")}function yi(r){r||ge("initialIsRequired"),et(r)||ge("initialType"),pi(r)&&ge("initialContent")}function _i(r,e){throw new Error(r[e]||r.default)}var wi={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ge=Ie(_i)(wi),He={changes:vi,selector:gi,handler:bi,initial:yi};function xi(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};He.initial(r),He.handler(e);var t={current:r},n=Ie(Ei)(t,e),o=Ie(Si)(t),i=Ie(He.changes)(r),a=Ie(Ci)(t);function s(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(l){return l};return He.selector(f),f(t.current)}function h(f){hi(n,o,i,a)(f)}return[s,h]}function Ci(r,e){return Ae(e)?e(r.current):e}function Si(r,e){return r.current=In(In({},r.current),e),e}function Ei(r,e,t){return Ae(e)?e(r.current):Object.keys(t).forEach(function(n){var o;return(o=e[n])===null||o===void 0?void 0:o.call(e,r.current[n])}),t}var Oi={create:xi},Ri={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function Ti(r){return function e(){for(var t=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return o.length>=r.length?r.apply(this,o):function(){for(var a=arguments.length,s=new Array(a),h=0;h<a;h++)s[h]=arguments[h];return e.apply(t,[].concat(o,s))}}}function ki(r){return{}.toString.call(r).includes("Object")}function Ni(r){return r||Mn("configIsRequired"),ki(r)||Mn("configType"),r.urls?(ji(),{paths:{vs:r.urls.monacoBase}}):r}function ji(){console.warn(ao.deprecation)}function Ii(r,e){throw new Error(r[e]||r.default)}var ao={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Mn=Ti(Ii)(ao),Mi={config:Ni},Di=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(o){return t.reduceRight(function(i,a){return a(i)},o)}};function co(r,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&r[t]&&Object.assign(e[t],co(r[t],e[t]))}),kn(kn({},r),e)}var Ai={type:"cancelation",msg:"operation is manually canceled"};function ut(r){var e=!1,t=new Promise(function(n,o){r.then(function(i){return e?o(Ai):n(i)}),r.catch(o)});return t.cancel=function(){return e=!0},t}var Pi=Oi.create({config:Ri,isInitialized:!1,resolve:null,reject:null,monaco:null}),lo=ai(Pi,2),Le=lo[0],nt=lo[1];function Li(r){var e=Mi.config(r),t=e.monaco,n=si(e,["monaco"]);nt(function(o){return{config:co(o.config,n),monaco:t}})}function qi(){var r=Le(function(e){var t=e.monaco,n=e.isInitialized,o=e.resolve;return{monaco:t,isInitialized:n,resolve:o}});if(!r.isInitialized){if(nt({isInitialized:!0}),r.monaco)return r.resolve(r.monaco),ut(ft);if(window.monaco&&window.monaco.editor)return uo(window.monaco),r.resolve(window.monaco),ut(ft);Di(Ui,Hi)(Fi)}return ut(ft)}function Ui(r){return document.body.appendChild(r)}function $i(r){var e=document.createElement("script");return r&&(e.src=r),e}function Hi(r){var e=Le(function(n){var o=n.config,i=n.reject;return{config:o,reject:i}}),t=$i("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return r()},t.onerror=e.reject,t}function Fi(){var r=Le(function(t){var n=t.config,o=t.resolve,i=t.reject;return{config:n,resolve:o,reject:i}}),e=window.require;e.config(r.config),e(["vs/editor/editor.main"],function(t){uo(t),r.resolve(t)},function(t){r.reject(t)})}function uo(r){Le().monaco||nt({monaco:r})}function Wi(){return Le(function(r){var e=r.monaco;return e})}var ft=new Promise(function(r,e){return nt({resolve:r,reject:e})}),fo={config:Li,init:qi,__getMonacoInstance:Wi},Bi={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},dt=Bi,Vi={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Xi=Vi;function zi({children:r}){return Oe.createElement("div",{style:Xi.container},r)}var Ji=zi,Gi=Ji;function Yi({width:r,height:e,isEditorReady:t,loading:n,_ref:o,className:i,wrapperProps:a}){return Oe.createElement("section",{style:{...dt.wrapper,width:r,height:e},...a},!t&&Oe.createElement(Gi,null,n),Oe.createElement("div",{ref:o,style:{...dt.fullWidth,...!t&&dt.hide},className:i}))}var Ki=Yi,ho=U.memo(Ki);function Qi(r){U.useEffect(r,[])}var po=Qi;function Zi(r,e,t=!0){let n=U.useRef(!0);U.useEffect(n.current||!t?()=>{n.current=!1}:r,e)}var ee=Zi;function De(){}function Ee(r,e,t,n){return es(r,n)||ts(r,e,t,n)}function es(r,e){return r.editor.getModel(mo(r,e))}function ts(r,e,t,n){return r.editor.createModel(e,t,n?mo(r,n):void 0)}function mo(r,e){return r.Uri.parse(e)}function ns({original:r,modified:e,language:t,originalLanguage:n,modifiedLanguage:o,originalModelPath:i,modifiedModelPath:a,keepCurrentOriginalModel:s=!1,keepCurrentModifiedModel:h=!1,theme:f="light",loading:l="Loading...",options:c={},height:p="100%",width:v="100%",className:I,wrapperProps:A={},beforeMount:H=De,onMount:W=De}){let[b,T]=U.useState(!1),[m,g]=U.useState(!0),N=U.useRef(null),S=U.useRef(null),_=U.useRef(null),O=U.useRef(W),R=U.useRef(H),E=U.useRef(!1);po(()=>{let u=fo.init();return u.then(y=>(S.current=y)&&g(!1)).catch(y=>(y==null?void 0:y.type)!=="cancelation"&&console.error("Monaco initialization: error:",y)),()=>N.current?w():u.cancel()}),ee(()=>{if(N.current&&S.current){let u=N.current.getOriginalEditor(),y=Ee(S.current,r||"",n||t||"text",i||"");y!==u.getModel()&&u.setModel(y)}},[i],b),ee(()=>{if(N.current&&S.current){let u=N.current.getModifiedEditor(),y=Ee(S.current,e||"",o||t||"text",a||"");y!==u.getModel()&&u.setModel(y)}},[a],b),ee(()=>{let u=N.current.getModifiedEditor();u.getOption(S.current.editor.EditorOption.readOnly)?u.setValue(e||""):e!==u.getValue()&&(u.executeEdits("",[{range:u.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),u.pushUndoStop())},[e],b),ee(()=>{var u,y;(y=(u=N.current)==null?void 0:u.getModel())==null||y.original.setValue(r||"")},[r],b),ee(()=>{let{original:u,modified:y}=N.current.getModel();S.current.editor.setModelLanguage(u,n||t||"text"),S.current.editor.setModelLanguage(y,o||t||"text")},[t,n,o],b),ee(()=>{var u;(u=S.current)==null||u.editor.setTheme(f)},[f],b),ee(()=>{var u;(u=N.current)==null||u.updateOptions(c)},[c],b);let D=U.useCallback(()=>{var d;if(!S.current)return;R.current(S.current);let u=Ee(S.current,r||"",n||t||"text",i||""),y=Ee(S.current,e||"",o||t||"text",a||"");(d=N.current)==null||d.setModel({original:u,modified:y})},[t,e,o,r,n,i,a]),C=U.useCallback(()=>{var u;!E.current&&_.current&&(N.current=S.current.editor.createDiffEditor(_.current,{automaticLayout:!0,...c}),D(),(u=S.current)==null||u.editor.setTheme(f),T(!0),E.current=!0)},[c,f,D]);U.useEffect(()=>{b&&O.current(N.current,S.current)},[b]),U.useEffect(()=>{!m&&!b&&C()},[m,b,C]);function w(){var y,d,x,L;let u=(y=N.current)==null?void 0:y.getModel();s||((d=u==null?void 0:u.original)==null||d.dispose()),h||((x=u==null?void 0:u.modified)==null||x.dispose()),(L=N.current)==null||L.dispose()}return Oe.createElement(ho,{width:v,height:p,isEditorReady:b,loading:l,_ref:_,className:I,wrapperProps:A})}var rs=ns;U.memo(rs);function os(r){let e=U.useRef();return U.useEffect(()=>{e.current=r},[r]),e.current}var is=os,Fe=new Map;function ss({defaultValue:r,defaultLanguage:e,defaultPath:t,value:n,language:o,path:i,theme:a="light",line:s,loading:h="Loading...",options:f={},overrideServices:l={},saveViewState:c=!0,keepCurrentModel:p=!1,width:v="100%",height:I="100%",className:A,wrapperProps:H={},beforeMount:W=De,onMount:b=De,onChange:T,onValidate:m=De}){let[g,N]=U.useState(!1),[S,_]=U.useState(!0),O=U.useRef(null),R=U.useRef(null),E=U.useRef(null),D=U.useRef(b),C=U.useRef(W),w=U.useRef(),u=U.useRef(n),y=is(i),d=U.useRef(!1),x=U.useRef(!1);po(()=>{let M=fo.init();return M.then($=>(O.current=$)&&_(!1)).catch($=>($==null?void 0:$.type)!=="cancelation"&&console.error("Monaco initialization: error:",$)),()=>R.current?q():M.cancel()}),ee(()=>{var $,B,z,J;let M=Ee(O.current,r||n||"",e||o||"",i||t||"");M!==(($=R.current)==null?void 0:$.getModel())&&(c&&Fe.set(y,(B=R.current)==null?void 0:B.saveViewState()),(z=R.current)==null||z.setModel(M),c&&((J=R.current)==null||J.restoreViewState(Fe.get(i))))},[i],g),ee(()=>{var M;(M=R.current)==null||M.updateOptions(f)},[f],g),ee(()=>{!R.current||n===void 0||(R.current.getOption(O.current.editor.EditorOption.readOnly)?R.current.setValue(n):n!==R.current.getValue()&&(x.current=!0,R.current.executeEdits("",[{range:R.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),R.current.pushUndoStop(),x.current=!1))},[n],g),ee(()=>{var $,B;let M=($=R.current)==null?void 0:$.getModel();M&&o&&((B=O.current)==null||B.editor.setModelLanguage(M,o))},[o],g),ee(()=>{var M;s!==void 0&&((M=R.current)==null||M.revealLine(s))},[s],g),ee(()=>{var M;(M=O.current)==null||M.editor.setTheme(a)},[a],g);let L=U.useCallback(()=>{var M;if(!(!E.current||!O.current)&&!d.current){C.current(O.current);let $=i||t,B=Ee(O.current,n||r||"",e||o||"",$||"");R.current=(M=O.current)==null?void 0:M.editor.create(E.current,{model:B,automaticLayout:!0,...f},l),c&&R.current.restoreViewState(Fe.get($)),O.current.editor.setTheme(a),s!==void 0&&R.current.revealLine(s),N(!0),d.current=!0}},[r,e,t,n,o,i,f,l,c,a,s]);U.useEffect(()=>{g&&D.current(R.current,O.current)},[g]),U.useEffect(()=>{!S&&!g&&L()},[S,g,L]),u.current=n,U.useEffect(()=>{var M,$;g&&T&&((M=w.current)==null||M.dispose(),w.current=($=R.current)==null?void 0:$.onDidChangeModelContent(B=>{x.current||T(R.current.getValue(),B)}))},[g,T]),U.useEffect(()=>{if(g){let M=O.current.editor.onDidChangeMarkers($=>{var z;let B=(z=R.current.getModel())==null?void 0:z.uri;if(B&&$.find(J=>J.path===B.path)){let J=O.current.editor.getModelMarkers({resource:B});m==null||m(J)}});return()=>{M==null||M.dispose()}}return()=>{}},[g,m]);function q(){var M,$;(M=w.current)==null||M.dispose(),p?c&&Fe.set(i,R.current.saveViewState()):($=R.current.getModel())==null||$.dispose(),R.current.dispose()}return Oe.createElement(ho,{width:v,height:I,isEditorReady:g,loading:h,_ref:E,className:A,wrapperProps:H})}var as=ss,cs=U.memo(as),ls=cs,We={exports:{}},pe={},ht={exports:{}},pt,Dn;function us(){if(Dn)return pt;Dn=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pt=r,pt}var mt,An;function fs(){if(An)return mt;An=1;var r=us();function e(){}function t(){}return t.resetWarningCache=e,mt=function(){function n(a,s,h,f,l,c){if(c!==r){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function o(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return i.PropTypes=i,i},mt}var Pn;function vo(){return Pn||(Pn=1,ht.exports=fs()()),ht.exports}var Be={exports:{}},ne={},Ve={exports:{}},Ln;function go(){return Ln||(Ln=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var t="none",n="contents",o=/^(input|select|textarea|button|object|iframe)$/;function i(c,p){return p.getPropertyValue("overflow")!=="visible"||c.scrollWidth<=0&&c.scrollHeight<=0}function a(c){var p=c.offsetWidth<=0&&c.offsetHeight<=0;if(p&&!c.innerHTML)return!0;try{var v=window.getComputedStyle(c),I=v.getPropertyValue("display");return p?I!==n&&i(c,v):I===t}catch{return console.warn("Failed to inspect element style"),!1}}function s(c){for(var p=c,v=c.getRootNode&&c.getRootNode();p&&p!==document.body;){if(v&&p===v&&(p=v.host.parentNode),a(p))return!1;p=p.parentNode}return!0}function h(c,p){var v=c.nodeName.toLowerCase(),I=o.test(v)&&!c.disabled||v==="a"&&c.href||p;return I&&s(c)}function f(c){var p=c.getAttribute("tabindex");p===null&&(p=void 0);var v=isNaN(p);return(v||p>=0)&&h(c,!v)}function l(c){var p=[].slice.call(c.querySelectorAll("*"),0).reduce(function(v,I){return v.concat(I.shadowRoot?l(I.shadowRoot):[I])},[]);return p.filter(f)}r.exports=e.default}(Ve,Ve.exports)),Ve.exports}var qn;function ds(){if(qn)return ne;qn=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.resetState=a,ne.log=s,ne.handleBlur=h,ne.handleFocus=f,ne.markForFocusLater=l,ne.returnFocus=c,ne.popWithoutFocus=p,ne.setupScopedFocus=v,ne.teardownScopedFocus=I;var r=go(),e=t(r);function t(A){return A&&A.__esModule?A:{default:A}}var n=[],o=null,i=!1;function a(){n=[]}function s(){}function h(){i=!0}function f(){if(i){if(i=!1,!o)return;setTimeout(function(){if(!o.contains(document.activeElement)){var A=(0,e.default)(o)[0]||o;A.focus()}},0)}}function l(){n.push(document.activeElement)}function c(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,H=null;try{n.length!==0&&(H=n.pop(),H.focus({preventScroll:A}));return}catch{console.warn(["You tried to return focus to",H,"but it is not in the DOM anymore"].join(" "))}}function p(){n.length>0&&n.pop()}function v(A){o=A,window.addEventListener?(window.addEventListener("blur",h,!1),document.addEventListener("focus",f,!0)):(window.attachEvent("onBlur",h),document.attachEvent("onFocus",f))}function I(){o=null,window.addEventListener?(window.removeEventListener("blur",h),document.removeEventListener("focus",f)):(window.detachEvent("onBlur",h),document.detachEvent("onFocus",f))}return ne}var Xe={exports:{}},Un;function hs(){return Un||(Un=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=go(),n=o(t);function o(s){return s&&s.__esModule?s:{default:s}}function i(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return s.activeElement.shadowRoot?i(s.activeElement.shadowRoot):s.activeElement}function a(s,h){var f=(0,n.default)(s);if(!f.length){h.preventDefault();return}var l=void 0,c=h.shiftKey,p=f[0],v=f[f.length-1],I=i();if(s===I){if(!c)return;l=v}if(v===I&&!c&&(l=p),p===I&&c&&(l=v),l){h.preventDefault(),l.focus();return}var A=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),H=A!=null&&A[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(H){var W=f.indexOf(I);if(W>-1&&(W+=c?-1:1),l=f[W],typeof l>"u"){h.preventDefault(),l=c?v:p,l.focus();return}h.preventDefault(),l.focus()}}r.exports=e.default}(Xe,Xe.exports)),Xe.exports}var ae={},vt,$n;function ps(){if($n)return vt;$n=1;var r=function(){};return vt=r,vt}var ue={},gt={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var Hn;function ms(){return Hn||(Hn=1,function(r){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};r.exports?r.exports=t:window.ExecutionEnvironment=t})()}(gt)),gt.exports}var Fn;function yn(){if(Fn)return ue;Fn=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.canUseDOM=ue.SafeNodeList=ue.SafeHTMLCollection=void 0;var r=ms(),e=t(r);function t(i){return i&&i.__esModule?i:{default:i}}var n=e.default,o=n.canUseDOM?window.HTMLElement:{};return ue.SafeHTMLCollection=n.canUseDOM?window.HTMLCollection:{},ue.SafeNodeList=n.canUseDOM?window.NodeList:{},ue.canUseDOM=n.canUseDOM,ue.default=o,ue}var Wn;function bo(){if(Wn)return ae;Wn=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.resetState=i,ae.log=a,ae.assertNodeList=s,ae.setElement=h,ae.validateElement=f,ae.hide=l,ae.show=c,ae.documentNotReadyOrSSRTesting=p;var r=ps(),e=n(r),t=yn();function n(v){return v&&v.__esModule?v:{default:v}}var o=null;function i(){o&&(o.removeAttribute?o.removeAttribute("aria-hidden"):o.length!=null?o.forEach(function(v){return v.removeAttribute("aria-hidden")}):document.querySelectorAll(o).forEach(function(v){return v.removeAttribute("aria-hidden")})),o=null}function a(){}function s(v,I){if(!v||!v.length)throw new Error("react-modal: No elements were found for selector "+I+".")}function h(v){var I=v;if(typeof I=="string"&&t.canUseDOM){var A=document.querySelectorAll(I);s(A,I),I=A}return o=I||o,o}function f(v){var I=v||o;return I?Array.isArray(I)||I instanceof HTMLCollection||I instanceof NodeList?I:[I]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function l(v){var I=!0,A=!1,H=void 0;try{for(var W=f(v)[Symbol.iterator](),b;!(I=(b=W.next()).done);I=!0){var T=b.value;T.setAttribute("aria-hidden","true")}}catch(m){A=!0,H=m}finally{try{!I&&W.return&&W.return()}finally{if(A)throw H}}}function c(v){var I=!0,A=!1,H=void 0;try{for(var W=f(v)[Symbol.iterator](),b;!(I=(b=W.next()).done);I=!0){var T=b.value;T.removeAttribute("aria-hidden")}}catch(m){A=!0,H=m}finally{try{!I&&W.return&&W.return()}finally{if(A)throw H}}}function p(){o=null}return ae}var _e={},Bn;function vs(){if(Bn)return _e;Bn=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.resetState=n,_e.log=o;var r={},e={};function t(f,l){f.classList.remove(l)}function n(){var f=document.getElementsByTagName("html")[0];for(var l in r)t(f,r[l]);var c=document.body;for(var p in e)t(c,e[p]);r={},e={}}function o(){}var i=function(l,c){return l[c]||(l[c]=0),l[c]+=1,c},a=function(l,c){return l[c]&&(l[c]-=1),c},s=function(l,c,p){p.forEach(function(v){i(c,v),l.add(v)})},h=function(l,c,p){p.forEach(function(v){a(c,v),c[v]===0&&l.remove(v)})};return _e.add=function(l,c){return s(l.classList,l.nodeName.toLowerCase()=="html"?r:e,c.split(" "))},_e.remove=function(l,c){return h(l.classList,l.nodeName.toLowerCase()=="html"?r:e,c.split(" "))},_e}var Ce={},Vn;function yo(){if(Vn)return Ce;Vn=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.log=n,Ce.resetState=o;function r(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}var e=function i(){var a=this;r(this,i),this.register=function(s){a.openInstances.indexOf(s)===-1&&(a.openInstances.push(s),a.emit("register"))},this.deregister=function(s){var h=a.openInstances.indexOf(s);h!==-1&&(a.openInstances.splice(h,1),a.emit("deregister"))},this.subscribe=function(s){a.subscribers.push(s)},this.emit=function(s){a.subscribers.forEach(function(h){return h(s,a.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},t=new e;function n(){console.log("portalOpenInstances ----------"),console.log(t.openInstances.length),t.openInstances.forEach(function(i){return console.log(i)}),console.log("end portalOpenInstances ----------")}function o(){t=new e}return Ce.default=t,Ce}var je={},Xn;function gs(){if(Xn)return je;Xn=1,Object.defineProperty(je,"__esModule",{value:!0}),je.resetState=a,je.log=s;var r=yo(),e=t(r);function t(l){return l&&l.__esModule?l:{default:l}}var n=void 0,o=void 0,i=[];function a(){for(var l=[n,o],c=0;c<l.length;c++){var p=l[c];p&&p.parentNode&&p.parentNode.removeChild(p)}n=o=null,i=[]}function s(){console.log("bodyTrap ----------"),console.log(i.length);for(var l=[n,o],c=0;c<l.length;c++){var p=l[c],v=p||{};console.log(v.nodeName,v.className,v.id)}console.log("edn bodyTrap ----------")}function h(){i.length!==0&&i[i.length-1].focusContent()}function f(l,c){!n&&!o&&(n=document.createElement("div"),n.setAttribute("data-react-modal-body-trap",""),n.style.position="absolute",n.style.opacity="0",n.setAttribute("tabindex","0"),n.addEventListener("focus",h),o=n.cloneNode(),o.addEventListener("focus",h)),i=c,i.length>0?(document.body.firstChild!==n&&document.body.insertBefore(n,document.body.firstChild),document.body.lastChild!==o&&document.body.appendChild(o)):(n.parentElement&&n.parentElement.removeChild(n),o.parentElement&&o.parentElement.removeChild(o))}return e.default.subscribe(f),je}var zn;function bs(){return zn||(zn=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Object.assign||function(w){for(var u=1;u<arguments.length;u++){var y=arguments[u];for(var d in y)Object.prototype.hasOwnProperty.call(y,d)&&(w[d]=y[d])}return w},n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},o=function(){function w(u,y){for(var d=0;d<y.length;d++){var x=y[d];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(u,x.key,x)}}return function(u,y,d){return y&&w(u.prototype,y),d&&w(u,d),u}}(),i=so(),a=vo(),s=g(a),h=ds(),f=m(h),l=hs(),c=g(l),p=bo(),v=m(p),I=vs(),A=m(I),H=yn(),W=g(H),b=yo(),T=g(b);gs();function m(w){if(w&&w.__esModule)return w;var u={};if(w!=null)for(var y in w)Object.prototype.hasOwnProperty.call(w,y)&&(u[y]=w[y]);return u.default=w,u}function g(w){return w&&w.__esModule?w:{default:w}}function N(w,u){if(!(w instanceof u))throw new TypeError("Cannot call a class as a function")}function S(w,u){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:w}function _(w,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);w.prototype=Object.create(u&&u.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(w,u):w.__proto__=u)}var O={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},R=function(u){return u.code==="Tab"||u.keyCode===9},E=function(u){return u.code==="Escape"||u.keyCode===27},D=0,C=function(w){_(u,w);function u(y){N(this,u);var d=S(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,y));return d.setOverlayRef=function(x){d.overlay=x,d.props.overlayRef&&d.props.overlayRef(x)},d.setContentRef=function(x){d.content=x,d.props.contentRef&&d.props.contentRef(x)},d.afterClose=function(){var x=d.props,L=x.appElement,q=x.ariaHideApp,M=x.htmlOpenClassName,$=x.bodyOpenClassName,B=x.parentSelector,z=B&&B().ownerDocument||document;$&&A.remove(z.body,$),M&&A.remove(z.getElementsByTagName("html")[0],M),q&&D>0&&(D-=1,D===0&&v.show(L)),d.props.shouldFocusAfterRender&&(d.props.shouldReturnFocusAfterClose?(f.returnFocus(d.props.preventScroll),f.teardownScopedFocus()):f.popWithoutFocus()),d.props.onAfterClose&&d.props.onAfterClose(),T.default.deregister(d)},d.open=function(){d.beforeOpen(),d.state.afterOpen&&d.state.beforeClose?(clearTimeout(d.closeTimer),d.setState({beforeClose:!1})):(d.props.shouldFocusAfterRender&&(f.setupScopedFocus(d.node),f.markForFocusLater()),d.setState({isOpen:!0},function(){d.openAnimationFrame=requestAnimationFrame(function(){d.setState({afterOpen:!0}),d.props.isOpen&&d.props.onAfterOpen&&d.props.onAfterOpen({overlayEl:d.overlay,contentEl:d.content})})}))},d.close=function(){d.props.closeTimeoutMS>0?d.closeWithTimeout():d.closeWithoutTimeout()},d.focusContent=function(){return d.content&&!d.contentHasFocus()&&d.content.focus({preventScroll:!0})},d.closeWithTimeout=function(){var x=Date.now()+d.props.closeTimeoutMS;d.setState({beforeClose:!0,closesAt:x},function(){d.closeTimer=setTimeout(d.closeWithoutTimeout,d.state.closesAt-Date.now())})},d.closeWithoutTimeout=function(){d.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},d.afterClose)},d.handleKeyDown=function(x){R(x)&&(0,c.default)(d.content,x),d.props.shouldCloseOnEsc&&E(x)&&(x.stopPropagation(),d.requestClose(x))},d.handleOverlayOnClick=function(x){d.shouldClose===null&&(d.shouldClose=!0),d.shouldClose&&d.props.shouldCloseOnOverlayClick&&(d.ownerHandlesClose()?d.requestClose(x):d.focusContent()),d.shouldClose=null},d.handleContentOnMouseUp=function(){d.shouldClose=!1},d.handleOverlayOnMouseDown=function(x){!d.props.shouldCloseOnOverlayClick&&x.target==d.overlay&&x.preventDefault()},d.handleContentOnClick=function(){d.shouldClose=!1},d.handleContentOnMouseDown=function(){d.shouldClose=!1},d.requestClose=function(x){return d.ownerHandlesClose()&&d.props.onRequestClose(x)},d.ownerHandlesClose=function(){return d.props.onRequestClose},d.shouldBeClosed=function(){return!d.state.isOpen&&!d.state.beforeClose},d.contentHasFocus=function(){return document.activeElement===d.content||d.content.contains(document.activeElement)},d.buildClassName=function(x,L){var q=(typeof L>"u"?"undefined":n(L))==="object"?L:{base:O[x],afterOpen:O[x]+"--after-open",beforeClose:O[x]+"--before-close"},M=q.base;return d.state.afterOpen&&(M=M+" "+q.afterOpen),d.state.beforeClose&&(M=M+" "+q.beforeClose),typeof L=="string"&&L?M+" "+L:M},d.attributesFromObject=function(x,L){return Object.keys(L).reduce(function(q,M){return q[x+"-"+M]=L[M],q},{})},d.state={afterOpen:!1,beforeClose:!1},d.shouldClose=null,d.moveFromContentToOverlay=null,d}return o(u,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(d,x){this.props.isOpen&&!d.isOpen?this.open():!this.props.isOpen&&d.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!x.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var d=this.props,x=d.appElement,L=d.ariaHideApp,q=d.htmlOpenClassName,M=d.bodyOpenClassName,$=d.parentSelector,B=$&&$().ownerDocument||document;M&&A.add(B.body,M),q&&A.add(B.getElementsByTagName("html")[0],q),L&&(D+=1,v.hide(x)),T.default.register(this)}},{key:"render",value:function(){var d=this.props,x=d.id,L=d.className,q=d.overlayClassName,M=d.defaultStyles,$=d.children,B=L?{}:M.content,z=q?{}:M.overlay;if(this.shouldBeClosed())return null;var J={ref:this.setOverlayRef,className:this.buildClassName("overlay",q),style:t({},z,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},te=t({id:x,ref:this.setContentRef,style:t({},B,this.props.style.content),className:this.buildClassName("content",L),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",t({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),oe=this.props.contentElement(te,$);return this.props.overlayElement(J,oe)}}]),u}(i.Component);C.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},C.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(W.default),s.default.instanceOf(H.SafeHTMLCollection),s.default.instanceOf(H.SafeNodeList),s.default.arrayOf(s.default.instanceOf(W.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},e.default=C,r.exports=e.default}(Be,Be.exports)),Be.exports}function _o(){var r=this.constructor.getDerivedStateFromProps(this.props,this.state);r!=null&&this.setState(r)}function wo(r){function e(t){var n=this.constructor.getDerivedStateFromProps(r,t);return n??null}this.setState(e.bind(this))}function xo(r,e){try{var t=this.props,n=this.state;this.props=r,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,n)}finally{this.props=t,this.state=n}}_o.__suppressDeprecationWarning=!0;wo.__suppressDeprecationWarning=!0;xo.__suppressDeprecationWarning=!0;function ys(r){var e=r.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof r.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return r;var t=null,n=null,o=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?o="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),t!==null||n!==null||o!==null){var i=r.displayName||r.name,a=typeof r.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+a+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(n!==null?`
  `+n:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof r.getDerivedStateFromProps=="function"&&(e.componentWillMount=_o,e.componentWillReceiveProps=wo),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=xo;var s=e.componentDidUpdate;e.componentDidUpdate=function(f,l,c){var p=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:c;s.call(this,f,l,p)}}return r}const _s=Object.freeze(Object.defineProperty({__proto__:null,polyfill:ys},Symbol.toStringTag,{value:"Module"})),ws=ni(_s);var Jn;function xs(){if(Jn)return pe;Jn=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.bodyOpenClassName=pe.portalClassName=void 0;var r=Object.assign||function(E){for(var D=1;D<arguments.length;D++){var C=arguments[D];for(var w in C)Object.prototype.hasOwnProperty.call(C,w)&&(E[w]=C[w])}return E},e=function(){function E(D,C){for(var w=0;w<C.length;w++){var u=C[w];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(D,u.key,u)}}return function(D,C,w){return C&&E(D.prototype,C),w&&E(D,w),D}}(),t=so(),n=H(t),o=ri(),i=H(o),a=vo(),s=H(a),h=bs(),f=H(h),l=bo(),c=A(l),p=yn(),v=H(p),I=ws;function A(E){if(E&&E.__esModule)return E;var D={};if(E!=null)for(var C in E)Object.prototype.hasOwnProperty.call(E,C)&&(D[C]=E[C]);return D.default=E,D}function H(E){return E&&E.__esModule?E:{default:E}}function W(E,D){if(!(E instanceof D))throw new TypeError("Cannot call a class as a function")}function b(E,D){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:E}function T(E,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);E.prototype=Object.create(D&&D.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(E,D):E.__proto__=D)}var m=pe.portalClassName="ReactModalPortal",g=pe.bodyOpenClassName="ReactModal__Body--open",N=p.canUseDOM&&i.default.createPortal!==void 0,S=function(D){return document.createElement(D)},_=function(){return N?i.default.createPortal:i.default.unstable_renderSubtreeIntoContainer};function O(E){return E()}var R=function(E){T(D,E);function D(){var C,w,u,y;W(this,D);for(var d=arguments.length,x=Array(d),L=0;L<d;L++)x[L]=arguments[L];return y=(w=(u=b(this,(C=D.__proto__||Object.getPrototypeOf(D)).call.apply(C,[this].concat(x))),u),u.removePortal=function(){!N&&i.default.unmountComponentAtNode(u.node);var q=O(u.props.parentSelector);q&&q.contains(u.node)?q.removeChild(u.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},u.portalRef=function(q){u.portal=q},u.renderPortal=function(q){var M=_(),$=M(u,n.default.createElement(f.default,r({defaultStyles:D.defaultStyles},q)),u.node);u.portalRef($)},w),b(u,y)}return e(D,[{key:"componentDidMount",value:function(){if(p.canUseDOM){N||(this.node=S("div")),this.node.className=this.props.portalClassName;var w=O(this.props.parentSelector);w.appendChild(this.node),!N&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(w){var u=O(w.parentSelector),y=O(this.props.parentSelector);return{prevParent:u,nextParent:y}}},{key:"componentDidUpdate",value:function(w,u,y){if(p.canUseDOM){var d=this.props,x=d.isOpen,L=d.portalClassName;w.portalClassName!==L&&(this.node.className=L);var q=y.prevParent,M=y.nextParent;M!==q&&(q.removeChild(this.node),M.appendChild(this.node)),!(!w.isOpen&&!x)&&!N&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!p.canUseDOM||!this.node||!this.portal)){var w=this.portal.state,u=Date.now(),y=w.isOpen&&this.props.closeTimeoutMS&&(w.closesAt||u+this.props.closeTimeoutMS);y?(w.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,y-u)):this.removePortal()}}},{key:"render",value:function(){if(!p.canUseDOM||!N)return null;!this.node&&N&&(this.node=S("div"));var w=_();return w(n.default.createElement(f.default,r({ref:this.portalRef,defaultStyles:D.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(w){c.setElement(w)}}]),D}(t.Component);return R.propTypes={isOpen:s.default.bool.isRequired,style:s.default.shape({content:s.default.object,overlay:s.default.object}),portalClassName:s.default.string,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,className:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),overlayClassName:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),appElement:s.default.oneOfType([s.default.instanceOf(v.default),s.default.instanceOf(p.SafeHTMLCollection),s.default.instanceOf(p.SafeNodeList),s.default.arrayOf(s.default.instanceOf(v.default))]),onAfterOpen:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,ariaHideApp:s.default.bool,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,parentSelector:s.default.func,aria:s.default.object,data:s.default.object,role:s.default.string,contentLabel:s.default.string,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func},R.defaultProps={isOpen:!1,portalClassName:m,bodyOpenClassName:g,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(D,C){return n.default.createElement("div",D,C)},contentElement:function(D,C){return n.default.createElement("div",D,C)}},R.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,I.polyfill)(R),pe.default=R,pe}var Gn;function Cs(){return Gn||(Gn=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=xs(),n=o(t);function o(i){return i&&i.__esModule?i:{default:i}}e.default=n.default,r.exports=e.default}(We,We.exports)),We.exports}var Ss=Cs();const Se=bn(Ss);var bt={exports:{}},ze={},Yn;function Es(){return Yn||(Yn=1,P.crypto&&P.crypto.getRandomValues?ze.randomBytes=function(r){var e=new Uint8Array(r);return P.crypto.getRandomValues(e),e}:ze.randomBytes=function(r){for(var e=new Array(r),t=0;t<r;t++)e[t]=Math.floor(Math.random()*256);return e}),ze}var yt,Kn;function Re(){if(Kn)return yt;Kn=1;var r=Es(),e="abcdefghijklmnopqrstuvwxyz012345";return yt={string:function(t){for(var n=e.length,o=r.randomBytes(t),i=[],a=0;a<t;a++)i.push(e.substr(o[a]%n,1));return i.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var n=(""+(t-1)).length,o=new Array(n+1).join("0");return(o+this.number(t)).slice(-n)}},yt}var Qn;function be(){return Qn||(Qn=1,function(r){var e=Re(),t={},n=!1,o=P.chrome&&P.chrome.app&&P.chrome.app.runtime;r.exports={attachEvent:function(a,s){typeof P.addEventListener<"u"?P.addEventListener(a,s,!1):P.document&&P.attachEvent&&(P.document.attachEvent("on"+a,s),P.attachEvent("on"+a,s))},detachEvent:function(a,s){typeof P.addEventListener<"u"?P.removeEventListener(a,s,!1):P.document&&P.detachEvent&&(P.document.detachEvent("on"+a,s),P.detachEvent("on"+a,s))},unloadAdd:function(a){if(o)return null;var s=e.string(8);return t[s]=a,n&&setTimeout(this.triggerUnloadCallbacks,0),s},unloadDel:function(a){a in t&&delete t[a]},triggerUnloadCallbacks:function(){for(var a in t)t[a](),delete t[a]}};var i=function(){n||(n=!0,r.exports.triggerUnloadCallbacks())};o||r.exports.attachEvent("unload",i)}(bt)),bt.exports}var _t,Zn;function Os(){return Zn||(Zn=1,_t=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}),_t}var Je={},er;function Rs(){if(er)return Je;er=1;var r=Object.prototype.hasOwnProperty,e;function t(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch{return null}}function n(a){try{return encodeURIComponent(a)}catch{return null}}function o(a){for(var s=/([^=?#&]+)=?([^&]*)/g,h={},f;f=s.exec(a);){var l=t(f[1]),c=t(f[2]);l===null||c===null||l in h||(h[l]=c)}return h}function i(a,s){s=s||"";var h=[],f,l;typeof s!="string"&&(s="?");for(l in a)if(r.call(a,l)){if(f=a[l],!f&&(f===null||f===e||isNaN(f))&&(f=""),l=n(l),f=n(f),l===null||f===null)continue;h.push(l+"="+f)}return h.length?s+h.join("&"):""}return Je.stringify=i,Je.parse=o,Je}var wt,tr;function Co(){if(tr)return wt;tr=1;var r=Os(),e=Rs(),t=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,n=/[\n\r\t]/g,o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,i=/:\d+$/,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,s=/^[a-zA-Z]:/;function h(b){return(b||"").toString().replace(t,"")}var f=[["#","hash"],["?","query"],function(T,m){return p(m.protocol)?T.replace(/\\/g,"/"):T},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function c(b){var T;typeof window<"u"?T=window:typeof P<"u"?T=P:typeof self<"u"?T=self:T={};var m=T.location||{};b=b||m;var g={},N=typeof b,S;if(b.protocol==="blob:")g=new A(unescape(b.pathname),{});else if(N==="string"){g=new A(b,{});for(S in l)delete g[S]}else if(N==="object"){for(S in b)S in l||(g[S]=b[S]);g.slashes===void 0&&(g.slashes=o.test(b.href))}return g}function p(b){return b==="file:"||b==="ftp:"||b==="http:"||b==="https:"||b==="ws:"||b==="wss:"}function v(b,T){b=h(b),b=b.replace(n,""),T=T||{};var m=a.exec(b),g=m[1]?m[1].toLowerCase():"",N=!!m[2],S=!!m[3],_=0,O;return N?S?(O=m[2]+m[3]+m[4],_=m[2].length+m[3].length):(O=m[2]+m[4],_=m[2].length):S?(O=m[3]+m[4],_=m[3].length):O=m[4],g==="file:"?_>=2&&(O=O.slice(2)):p(g)?O=m[4]:g?N&&(O=O.slice(2)):_>=2&&p(T.protocol)&&(O=m[4]),{protocol:g,slashes:N||p(g),slashesCount:_,rest:O}}function I(b,T){if(b==="")return T;for(var m=(T||"/").split("/").slice(0,-1).concat(b.split("/")),g=m.length,N=m[g-1],S=!1,_=0;g--;)m[g]==="."?m.splice(g,1):m[g]===".."?(m.splice(g,1),_++):_&&(g===0&&(S=!0),m.splice(g,1),_--);return S&&m.unshift(""),(N==="."||N==="..")&&m.push(""),m.join("/")}function A(b,T,m){if(b=h(b),b=b.replace(n,""),!(this instanceof A))return new A(b,T,m);var g,N,S,_,O,R,E=f.slice(),D=typeof T,C=this,w=0;for(D!=="object"&&D!=="string"&&(m=T,T=null),m&&typeof m!="function"&&(m=e.parse),T=c(T),N=v(b||"",T),g=!N.protocol&&!N.slashes,C.slashes=N.slashes||g&&T.slashes,C.protocol=N.protocol||T.protocol||"",b=N.rest,(N.protocol==="file:"&&(N.slashesCount!==2||s.test(b))||!N.slashes&&(N.protocol||N.slashesCount<2||!p(C.protocol)))&&(E[3]=[/(.*)/,"pathname"]);w<E.length;w++){if(_=E[w],typeof _=="function"){b=_(b,C);continue}S=_[0],R=_[1],S!==S?C[R]=b:typeof S=="string"?(O=S==="@"?b.lastIndexOf(S):b.indexOf(S),~O&&(typeof _[2]=="number"?(C[R]=b.slice(0,O),b=b.slice(O+_[2])):(C[R]=b.slice(O),b=b.slice(0,O)))):(O=S.exec(b))&&(C[R]=O[1],b=b.slice(0,O.index)),C[R]=C[R]||g&&_[3]&&T[R]||"",_[4]&&(C[R]=C[R].toLowerCase())}m&&(C.query=m(C.query)),g&&T.slashes&&C.pathname.charAt(0)!=="/"&&(C.pathname!==""||T.pathname!=="")&&(C.pathname=I(C.pathname,T.pathname)),C.pathname.charAt(0)!=="/"&&p(C.protocol)&&(C.pathname="/"+C.pathname),r(C.port,C.protocol)||(C.host=C.hostname,C.port=""),C.username=C.password="",C.auth&&(O=C.auth.indexOf(":"),~O?(C.username=C.auth.slice(0,O),C.username=encodeURIComponent(decodeURIComponent(C.username)),C.password=C.auth.slice(O+1),C.password=encodeURIComponent(decodeURIComponent(C.password))):C.username=encodeURIComponent(decodeURIComponent(C.auth)),C.auth=C.password?C.username+":"+C.password:C.username),C.origin=C.protocol!=="file:"&&p(C.protocol)&&C.host?C.protocol+"//"+C.host:"null",C.href=C.toString()}function H(b,T,m){var g=this;switch(b){case"query":typeof T=="string"&&T.length&&(T=(m||e.parse)(T)),g[b]=T;break;case"port":g[b]=T,r(T,g.protocol)?T&&(g.host=g.hostname+":"+T):(g.host=g.hostname,g[b]="");break;case"hostname":g[b]=T,g.port&&(T+=":"+g.port),g.host=T;break;case"host":g[b]=T,i.test(T)?(T=T.split(":"),g.port=T.pop(),g.hostname=T.join(":")):(g.hostname=T,g.port="");break;case"protocol":g.protocol=T.toLowerCase(),g.slashes=!m;break;case"pathname":case"hash":if(T){var N=b==="pathname"?"/":"#";g[b]=T.charAt(0)!==N?N+T:T}else g[b]=T;break;case"username":case"password":g[b]=encodeURIComponent(T);break;case"auth":var S=T.indexOf(":");~S?(g.username=T.slice(0,S),g.username=encodeURIComponent(decodeURIComponent(g.username)),g.password=T.slice(S+1),g.password=encodeURIComponent(decodeURIComponent(g.password))):g.username=encodeURIComponent(decodeURIComponent(T))}for(var _=0;_<f.length;_++){var O=f[_];O[4]&&(g[O[1]]=g[O[1]].toLowerCase())}return g.auth=g.password?g.username+":"+g.password:g.username,g.origin=g.protocol!=="file:"&&p(g.protocol)&&g.host?g.protocol+"//"+g.host:"null",g.href=g.toString(),g}function W(b){(!b||typeof b!="function")&&(b=e.stringify);var T,m=this,g=m.host,N=m.protocol;N&&N.charAt(N.length-1)!==":"&&(N+=":");var S=N+(m.protocol&&m.slashes||p(m.protocol)?"//":"");return m.username?(S+=m.username,m.password&&(S+=":"+m.password),S+="@"):m.password?(S+=":"+m.password,S+="@"):m.protocol!=="file:"&&p(m.protocol)&&!g&&m.pathname!=="/"&&(S+="@"),(g[g.length-1]===":"||i.test(m.hostname)&&!m.port)&&(g+=":"),S+=g+m.pathname,T=typeof m.query=="object"?b(m.query):m.query,T&&(S+=T.charAt(0)!=="?"?"?"+T:T),m.hash&&(S+=m.hash),S}return A.prototype={set:H,toString:W},A.extractProtocol=v,A.location=c,A.trimLeft=h,A.qs=e,wt=A,wt}var xt,nr;function re(){if(nr)return xt;nr=1;var r=Co();return xt={getOrigin:function(e){if(!e)return null;var t=new r(e);if(t.protocol==="file:")return null;var n=t.port;return n||(n=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},xt}var Ge={exports:{}},rr;function X(){return rr||(rr=1,typeof Object.create=="function"?Ge.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Ge.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),Ge.exports}var Ct={},St,or;function So(){if(or)return St;or=1;function r(){this._listeners={}}return r.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(t)===-1&&(n=n.concat([t])),this._listeners[e]=n},r.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var o=n.indexOf(t);if(o!==-1){n.length>1?this._listeners[e]=n.slice(0,o).concat(n.slice(o+1)):delete this._listeners[e];return}}},r.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var o=this._listeners[t],i=0;i<o.length;i++)o[i].apply(this,n)},St=r,St}var ir;function Z(){if(ir)return Ct;ir=1;var r=X(),e=So();function t(){e.call(this)}return r(t,e),t.prototype.removeAllListeners=function(n){n?delete this._listeners[n]:this._listeners={}},t.prototype.once=function(n,o){var i=this,a=!1;function s(){i.removeListener(n,s),a||(a=!0,o.apply(this,arguments))}this.on(n,s)},t.prototype.emit=function(){var n=arguments[0],o=this._listeners[n];if(o){for(var i=arguments.length,a=new Array(i-1),s=1;s<i;s++)a[s-1]=arguments[s];for(var h=0;h<o.length;h++)o[h].apply(this,a)}},t.prototype.on=t.prototype.addListener=e.prototype.addEventListener,t.prototype.removeListener=e.prototype.removeEventListener,Ct.EventEmitter=t,Ct}var Ye={exports:{}},sr;function Ts(){if(sr)return Ye.exports;sr=1;var r=P.WebSocket||P.MozWebSocket;return r?Ye.exports=function(t){return new r(t)}:Ye.exports=void 0,Ye.exports}var Et,ar;function ks(){if(ar)return Et;ar=1;var r=be(),e=re(),t=X(),n=Z().EventEmitter,o=Ts(),i=function(){};function a(s,h,f){if(!a.enabled())throw new Error("Transport created when disabled");n.call(this);var l=this,c=e.addPath(s,"/websocket");c.slice(0,5)==="https"?c="wss"+c.slice(5):c="ws"+c.slice(4),this.url=c,this.ws=new o(this.url,[],f),this.ws.onmessage=function(p){i("message event",p.data),l.emit("message",p.data)},this.unloadRef=r.unloadAdd(function(){l.ws.close()}),this.ws.onclose=function(p){i("close event",p.code,p.reason),l.emit("close",p.code,p.reason),l._cleanup()},this.ws.onerror=function(p){l.emit("close",1006,"WebSocket connection broken"),l._cleanup()}}return t(a,n),a.prototype.send=function(s){var h="["+s+"]";this.ws.send(h)},a.prototype.close=function(){var s=this.ws;this._cleanup(),s&&s.close()},a.prototype._cleanup=function(){var s=this.ws;s&&(s.onmessage=s.onclose=s.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},a.enabled=function(){return!!o},a.transportName="websocket",a.roundTrips=2,Et=a,Et}var Ot,cr;function Ns(){if(cr)return Ot;cr=1;var r=X(),e=Z().EventEmitter,t=function(){};function n(o,i){e.call(this),this.sendBuffer=[],this.sender=i,this.url=o}return r(n,e),n.prototype.send=function(o){this.sendBuffer.push(o),this.sendStop||this.sendSchedule()},n.prototype.sendScheduleWait=function(){var o=this,i;this.sendStop=function(){o.sendStop=null,clearTimeout(i)},i=setTimeout(function(){o.sendStop=null,o.sendSchedule()},25)},n.prototype.sendSchedule=function(){t("sendSchedule",this.sendBuffer.length);var o=this;if(this.sendBuffer.length>0){var i="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,i,function(a){o.sendStop=null,a?(o.emit("close",a.code||1006,"Sending error: "+a),o.close()):o.sendScheduleWait()}),this.sendBuffer=[]}},n.prototype._cleanup=function(){this.removeAllListeners()},n.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},Ot=n,Ot}var Rt,lr;function js(){if(lr)return Rt;lr=1;var r=X(),e=Z().EventEmitter,t=function(){};function n(o,i,a){e.call(this),this.Receiver=o,this.receiveUrl=i,this.AjaxObject=a,this._scheduleReceiver()}return r(n,e),n.prototype._scheduleReceiver=function(){var o=this,i=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);i.on("message",function(a){o.emit("message",a)}),i.once("close",function(a,s){t("close",a,s,o.pollIsClosing),o.poll=i=null,o.pollIsClosing||(s==="network"?o._scheduleReceiver():(o.emit("close",a||1006,s),o.removeAllListeners()))})},n.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},Rt=n,Rt}var Tt,ur;function Eo(){if(ur)return Tt;ur=1;var r=X(),e=re(),t=Ns(),n=js();function o(i,a,s,h,f){var l=e.addPath(i,a),c=this;t.call(this,i,s),this.poll=new n(h,l,f),this.poll.on("message",function(p){c.emit("message",p)}),this.poll.once("close",function(p,v){c.poll=null,c.emit("close",p,v),c.close()})}return r(o,t),o.prototype.close=function(){t.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},Tt=o,Tt}var kt,fr;function Te(){if(fr)return kt;fr=1;var r=X(),e=re(),t=Eo();function n(i){return function(a,s,h){var f={};typeof s=="string"&&(f.headers={"Content-type":"text/plain"});var l=e.addPath(a,"/xhr_send"),c=new i("POST",l,s,f);return c.once("finish",function(p){if(c=null,p!==200&&p!==204)return h(new Error("http status "+p));h()}),function(){c.close(),c=null;var p=new Error("Aborted");p.code=1e3,h(p)}}}function o(i,a,s,h){t.call(this,i,a,n(h),s,h)}return r(o,t),kt=o,kt}var Nt,dr;function rt(){if(dr)return Nt;dr=1;var r=X(),e=Z().EventEmitter;function t(n,o){e.call(this);var i=this;this.bufferPosition=0,this.xo=new o("POST",n,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(a,s){i._chunkHandler(a,s),i.xo=null;var h=a===200?"network":"permanent";i.emit("close",null,h),i._cleanup()})}return r(t,e),t.prototype._chunkHandler=function(n,o){if(!(n!==200||!o))for(var i=-1;;this.bufferPosition+=i+1){var a=o.slice(this.bufferPosition);if(i=a.indexOf(`
`),i===-1)break;var s=a.slice(0,i);s&&this.emit("message",s)}},t.prototype._cleanup=function(){this.removeAllListeners()},t.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},Nt=t,Nt}var jt,hr;function Oo(){if(hr)return jt;hr=1;var r=Z().EventEmitter,e=X(),t=be(),n=re(),o=P.XMLHttpRequest,i=function(){};function a(f,l,c,p){var v=this;r.call(this),setTimeout(function(){v._start(f,l,c,p)},0)}e(a,r),a.prototype._start=function(f,l,c,p){var v=this;try{this.xhr=new o}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}l=n.addQuery(l,"t="+ +new Date),this.unloadRef=t.unloadAdd(function(){v._cleanup(!0)});try{this.xhr.open(f,l,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){i("xhr timeout"),v.emit("finish",0,""),v._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!p||!p.noCredentials)&&a.supportsCORS&&(this.xhr.withCredentials=!0),p&&p.headers)for(var I in p.headers)this.xhr.setRequestHeader(I,p.headers[I]);this.xhr.onreadystatechange=function(){if(v.xhr){var A=v.xhr,H,W;switch(i("readyState",A.readyState),A.readyState){case 3:try{W=A.status,H=A.responseText}catch{}W===1223&&(W=204),W===200&&H&&H.length>0&&v.emit("chunk",W,H);break;case 4:W=A.status,W===1223&&(W=204),(W===12005||W===12029)&&(W=0),i("finish",W,A.responseText),v.emit("finish",W,A.responseText),v._cleanup(!1);break}}};try{v.xhr.send(c)}catch{v.emit("finish",0,""),v._cleanup(!1)}},a.prototype._cleanup=function(f){if(this.xhr){if(this.removeAllListeners(),t.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),f)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}},a.prototype.close=function(){this._cleanup(!0)},a.enabled=!!o;var s=["Active"].concat("Object").join("X");!a.enabled&&s in P&&(o=function(){try{return new P[s]("Microsoft.XMLHTTP")}catch{return null}},a.enabled=!!new o);var h=!1;try{h="withCredentials"in new o}catch{}return a.supportsCORS=h,jt=a,jt}var It,pr;function ot(){if(pr)return It;pr=1;var r=X(),e=Oo();function t(n,o,i,a){e.call(this,n,o,i,a)}return r(t,e),t.enabled=e.enabled&&e.supportsCORS,It=t,It}var Mt,mr;function qe(){if(mr)return Mt;mr=1;var r=X(),e=Oo();function t(n,o,i){e.call(this,n,o,i,{noCredentials:!0})}return r(t,e),t.enabled=e.enabled,Mt=t,Mt}var Dt,vr;function Ue(){return vr||(vr=1,Dt={isOpera:function(){return P.navigator&&/opera/i.test(P.navigator.userAgent)},isKonqueror:function(){return P.navigator&&/konqueror/i.test(P.navigator.userAgent)},hasDomain:function(){if(!P.document)return!0;try{return!!P.document.domain}catch{return!1}}}),Dt}var At,gr;function Is(){if(gr)return At;gr=1;var r=X(),e=Te(),t=rt(),n=ot(),o=qe(),i=Ue();function a(s){if(!o.enabled&&!n.enabled)throw new Error("Transport created when disabled");e.call(this,s,"/xhr_streaming",t,n)}return r(a,e),a.enabled=function(s){return s.nullOrigin||i.isOpera()?!1:n.enabled},a.transportName="xhr-streaming",a.roundTrips=2,a.needBody=!!P.document,At=a,At}var Pt,br;function _n(){if(br)return Pt;br=1;var r=Z().EventEmitter,e=X(),t=be(),n=Ue(),o=re(),i=function(){};function a(s,h,f){var l=this;r.call(this),setTimeout(function(){l._start(s,h,f)},0)}return e(a,r),a.prototype._start=function(s,h,f){var l=this,c=new P.XDomainRequest;h=o.addQuery(h,"t="+ +new Date),c.onerror=function(){l._error()},c.ontimeout=function(){l._error()},c.onprogress=function(){i("progress",c.responseText),l.emit("chunk",200,c.responseText)},c.onload=function(){l.emit("finish",200,c.responseText),l._cleanup(!1)},this.xdr=c,this.unloadRef=t.unloadAdd(function(){l._cleanup(!0)});try{this.xdr.open(s,h),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(f)}catch{this._error()}},a.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},a.prototype._cleanup=function(s){if(this.xdr){if(this.removeAllListeners(),t.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,s)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}},a.prototype.close=function(){this._cleanup(!0)},a.enabled=!!(P.XDomainRequest&&n.hasDomain()),Pt=a,Pt}var Lt,yr;function Ro(){if(yr)return Lt;yr=1;var r=X(),e=Te(),t=rt(),n=_n();function o(i){if(!n.enabled)throw new Error("Transport created when disabled");e.call(this,i,"/xhr_streaming",t,n)}return r(o,e),o.enabled=function(i){return i.cookie_needed||i.nullOrigin?!1:n.enabled&&i.sameScheme},o.transportName="xdr-streaming",o.roundTrips=2,Lt=o,Lt}var qt,_r;function To(){return _r||(_r=1,qt=P.EventSource),qt}var Ut,wr;function Ms(){if(wr)return Ut;wr=1;var r=X(),e=Z().EventEmitter,t=To(),n=function(){};function o(i){e.call(this);var a=this,s=this.es=new t(i);s.onmessage=function(h){n("message",h.data),a.emit("message",decodeURI(h.data))},s.onerror=function(h){n("error",s.readyState);var f=s.readyState!==2?"network":"permanent";a._cleanup(),a._close(f)}}return r(o,e),o.prototype.abort=function(){this._cleanup(),this._close("user")},o.prototype._cleanup=function(){var i=this.es;i&&(i.onmessage=i.onerror=null,i.close(),this.es=null)},o.prototype._close=function(i){var a=this;setTimeout(function(){a.emit("close",null,i),a.removeAllListeners()},200)},Ut=o,Ut}var $t,xr;function Cr(){if(xr)return $t;xr=1;var r=X(),e=Te(),t=Ms(),n=ot(),o=To();function i(a){if(!i.enabled())throw new Error("Transport created when disabled");e.call(this,a,"/eventsource",t,n)}return r(i,e),i.enabled=function(){return!!o},i.transportName="eventsource",i.roundTrips=2,$t=i,$t}var Ht,Sr;function ko(){return Sr||(Sr=1,Ht="1.6.1"),Ht}var Ft={exports:{}},Er;function $e(){return Er||(Er=1,function(r){var e=be(),t=Ue();r.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){r.exports.WPrefix in P||(P[r.exports.WPrefix]={})},postMessage:function(n,o){P.parent!==P&&P.parent.postMessage(JSON.stringify({windowId:r.exports.currentWindowId,type:n,data:o||""}),"*")},createIframe:function(n,o){var i=P.document.createElement("iframe"),a,s,h=function(){clearTimeout(a);try{i.onload=null}catch{}i.onerror=null},f=function(){i&&(h(),setTimeout(function(){i&&i.parentNode.removeChild(i),i=null},0),e.unloadDel(s))},l=function(p){i&&(f(),o(p))},c=function(p,v){setTimeout(function(){try{i&&i.contentWindow&&i.contentWindow.postMessage(p,v)}catch{}},0)};return i.src=n,i.style.display="none",i.style.position="absolute",i.onerror=function(){l("onerror")},i.onload=function(){clearTimeout(a),a=setTimeout(function(){l("onload timeout")},2e3)},P.document.body.appendChild(i),a=setTimeout(function(){l("timeout")},15e3),s=e.unloadAdd(f),{post:c,cleanup:f,loaded:h}},createHtmlfile:function(n,o){var i=["Active"].concat("Object").join("X"),a=new P[i]("htmlfile"),s,h,f,l=function(){clearTimeout(s),f.onerror=null},c=function(){a&&(l(),e.unloadDel(h),f.parentNode.removeChild(f),f=a=null,CollectGarbage())},p=function(A){a&&(c(),o(A))},v=function(A,H){try{setTimeout(function(){f&&f.contentWindow&&f.contentWindow.postMessage(A,H)},0)}catch{}};a.open(),a.write('<html><script>document.domain="'+P.document.domain+'";<\/script></html>'),a.close(),a.parentWindow[r.exports.WPrefix]=P[r.exports.WPrefix];var I=a.createElement("div");return a.body.appendChild(I),f=a.createElement("iframe"),I.appendChild(f),f.src=n,f.onerror=function(){p("onerror")},s=setTimeout(function(){p("timeout")},15e3),h=e.unloadAdd(c),{post:v,cleanup:c,loaded:l}}},r.exports.iframeEnabled=!1,P.document&&(r.exports.iframeEnabled=(typeof P.postMessage=="function"||typeof P.postMessage=="object")&&!t.isKonqueror())}(Ft)),Ft.exports}var Wt,Or;function No(){if(Or)return Wt;Or=1;var r=X(),e=Z().EventEmitter,t=ko(),n=re(),o=$e(),i=be(),a=Re(),s=function(){};function h(f,l,c){if(!h.enabled())throw new Error("Transport created when disabled");e.call(this);var p=this;this.origin=n.getOrigin(c),this.baseUrl=c,this.transUrl=l,this.transport=f,this.windowId=a.string(8);var v=n.addPath(c,"/iframe.html")+"#"+this.windowId;this.iframeObj=o.createIframe(v,function(I){p.emit("close",1006,"Unable to load an iframe ("+I+")"),p.close()}),this.onmessageCallback=this._message.bind(this),i.attachEvent("message",this.onmessageCallback)}return r(h,e),h.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){i.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},h.prototype._message=function(f){if(s("message",f.data),!n.isOriginEqual(f.origin,this.origin)){s("not same origin",f.origin,this.origin);return}var l;try{l=JSON.parse(f.data)}catch{s("bad json",f.data);return}if(l.windowId!==this.windowId){s("mismatched window id",l.windowId,this.windowId);return}switch(l.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([t,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",l.data);break;case"c":var c;try{c=JSON.parse(l.data)}catch{s("bad json",l.data);return}this.emit("close",c[0],c[1]),this.close();break}},h.prototype.postMessage=function(f,l){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:f,data:l||""}),this.origin)},h.prototype.send=function(f){this.postMessage("m",f)},h.enabled=function(){return o.iframeEnabled},h.transportName="iframe",h.roundTrips=2,Wt=h,Wt}var Bt,Rr;function wn(){return Rr||(Rr=1,Bt={isObject:function(r){var e=typeof r;return e==="function"||e==="object"&&!!r},extend:function(r){if(!this.isObject(r))return r;for(var e,t,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r}}),Bt}var Vt,Tr;function Xt(){if(Tr)return Vt;Tr=1;var r=X(),e=No(),t=wn();return Vt=function(n){function o(i,a){e.call(this,n.transportName,i,a)}return r(o,e),o.enabled=function(i,a){if(!P.document)return!1;var s=t.extend({},a);return s.sameOrigin=!0,n.enabled(s)&&e.enabled()},o.transportName="iframe-"+n.transportName,o.needBody=!0,o.roundTrips=e.roundTrips+n.roundTrips-1,o.facadeTransport=n,o},Vt}var zt,kr;function Ds(){if(kr)return zt;kr=1;var r=X(),e=$e(),t=re(),n=Z().EventEmitter,o=Re(),i=function(){};function a(h){n.call(this);var f=this;e.polluteGlobalNamespace(),this.id="a"+o.string(6),h=t.addQuery(h,"c="+decodeURIComponent(e.WPrefix+"."+this.id)),i("using htmlfile",a.htmlfileEnabled);var l=a.htmlfileEnabled?e.createHtmlfile:e.createIframe;P[e.WPrefix][this.id]={start:function(){f.iframeObj.loaded()},message:function(c){f.emit("message",c)},stop:function(){f._cleanup(),f._close("network")}},this.iframeObj=l(h,function(){f._cleanup(),f._close("permanent")})}r(a,n),a.prototype.abort=function(){this._cleanup(),this._close("user")},a.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete P[e.WPrefix][this.id]},a.prototype._close=function(h){this.emit("close",null,h),this.removeAllListeners()},a.htmlfileEnabled=!1;var s=["Active"].concat("Object").join("X");if(s in P)try{a.htmlfileEnabled=!!new P[s]("htmlfile")}catch{}return a.enabled=a.htmlfileEnabled||e.iframeEnabled,zt=a,zt}var Jt,Nr;function jr(){if(Nr)return Jt;Nr=1;var r=X(),e=Ds(),t=qe(),n=Te();function o(i){if(!e.enabled)throw new Error("Transport created when disabled");n.call(this,i,"/htmlfile",e,t)}return r(o,n),o.enabled=function(i){return e.enabled&&i.sameOrigin},o.transportName="htmlfile",o.roundTrips=2,Jt=o,Jt}var Gt,Ir;function Mr(){if(Ir)return Gt;Ir=1;var r=X(),e=Te(),t=rt(),n=ot(),o=qe();function i(a){if(!o.enabled&&!n.enabled)throw new Error("Transport created when disabled");e.call(this,a,"/xhr",t,n)}return r(i,e),i.enabled=function(a){return a.nullOrigin?!1:o.enabled&&a.sameOrigin?!0:n.enabled},i.transportName="xhr-polling",i.roundTrips=2,Gt=i,Gt}var Yt,Dr;function As(){if(Dr)return Yt;Dr=1;var r=X(),e=Te(),t=Ro(),n=rt(),o=_n();function i(a){if(!o.enabled)throw new Error("Transport created when disabled");e.call(this,a,"/xhr",n,o)}return r(i,e),i.enabled=t.enabled,i.transportName="xdr-polling",i.roundTrips=2,Yt=i,Yt}var Kt,Ar;function Ps(){if(Ar)return Kt;Ar=1;var r=$e(),e=Re(),t=Ue(),n=re(),o=X(),i=Z().EventEmitter,a=function(){};function s(h){var f=this;i.call(this),r.polluteGlobalNamespace(),this.id="a"+e.string(6);var l=n.addQuery(h,"c="+encodeURIComponent(r.WPrefix+"."+this.id));P[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(l),this.timeoutId=setTimeout(function(){f._abort(new Error("JSONP script loaded abnormally (timeout)"))},s.timeout)}return o(s,i),s.prototype.abort=function(){if(P[r.WPrefix][this.id]){var h=new Error("JSONP user aborted read");h.code=1e3,this._abort(h)}},s.timeout=35e3,s.scriptErrorTimeout=1e3,s.prototype._callback=function(h){this._cleanup(),!this.aborting&&(h&&this.emit("message",h),this.emit("close",null,"network"),this.removeAllListeners())},s.prototype._abort=function(h){this._cleanup(),this.aborting=!0,this.emit("close",h.code,h.message),this.removeAllListeners()},s.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var h=this.script;h.parentNode.removeChild(h),h.onreadystatechange=h.onerror=h.onload=h.onclick=null,this.script=null}delete P[r.WPrefix][this.id]},s.prototype._scriptError=function(){var h=this;this.errorTimer||(this.errorTimer=setTimeout(function(){h.loadedOkay||h._abort(new Error("JSONP script loaded abnormally (onerror)"))},s.scriptErrorTimeout))},s.prototype._createScript=function(h){var f=this,l=this.script=P.document.createElement("script"),c;if(l.id="a"+e.string(8),l.src=h,l.type="text/javascript",l.charset="UTF-8",l.onerror=this._scriptError.bind(this),l.onload=function(){f._abort(new Error("JSONP script loaded abnormally (onload)"))},l.onreadystatechange=function(){if(a("onreadystatechange",l.readyState),/loaded|closed/.test(l.readyState)){if(l&&l.htmlFor&&l.onclick){f.loadedOkay=!0;try{l.onclick()}catch{}}l&&f._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof l.async>"u"&&P.document.attachEvent)if(t.isOpera())c=this.script2=P.document.createElement("script"),c.text="try{var a = document.getElementById('"+l.id+"'); if(a)a.onerror();}catch(x){};",l.async=c.async=!1;else{try{l.htmlFor=l.id,l.event="onclick"}catch{}l.async=!0}typeof l.async<"u"&&(l.async=!0);var p=P.document.getElementsByTagName("head")[0];p.insertBefore(l,p.firstChild),c&&p.insertBefore(c,p.firstChild)},Kt=s,Kt}var Qt,Pr;function Ls(){if(Pr)return Qt;Pr=1;var r=Re(),e=re(),t=function(){},n,o;function i(s){try{return P.document.createElement('<iframe name="'+s+'">')}catch{var h=P.document.createElement("iframe");return h.name=s,h}}function a(){n=P.document.createElement("form"),n.style.display="none",n.style.position="absolute",n.method="POST",n.enctype="application/x-www-form-urlencoded",n.acceptCharset="UTF-8",o=P.document.createElement("textarea"),o.name="d",n.appendChild(o),P.document.body.appendChild(n)}return Qt=function(s,h,f){n||a();var l="a"+r.string(8);n.target=l,n.action=e.addQuery(e.addPath(s,"/jsonp_send"),"i="+l);var c=i(l);c.id=l,c.style.display="none",n.appendChild(c);try{o.value=h}catch{}n.submit();var p=function(v){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,setTimeout(function(){c.parentNode.removeChild(c),c=null},500),o.value="",f(v))};return c.onerror=function(){p()},c.onload=function(){p()},c.onreadystatechange=function(v){t("onreadystatechange",l,c.readyState),c.readyState==="complete"&&p()},function(){p(new Error("Aborted"))}},Qt}var Zt,Lr;function qs(){if(Lr)return Zt;Lr=1;var r=X(),e=Eo(),t=Ps(),n=Ls();function o(i){if(!o.enabled())throw new Error("Transport created when disabled");e.call(this,i,"/jsonp",n,t)}return r(o,e),o.enabled=function(){return!!P.document},o.transportName="jsonp-polling",o.roundTrips=1,o.needBody=!0,Zt=o,Zt}var en,qr;function Us(){return qr||(qr=1,en=[ks(),Is(),Ro(),Cr(),Xt()(Cr()),jr(),Xt()(jr()),Mr(),As(),Xt()(Mr()),qs()]),en}var Ur={},$r;function $s(){if($r)return Ur;$r=1;var r=Array.prototype,e=Object.prototype,t=Function.prototype,n=String.prototype,o=r.slice,i=e.toString,a=function(S){return e.toString.call(S)==="[object Function]"},s=function(_){return i.call(_)==="[object Array]"},h=function(_){return i.call(_)==="[object String]"},f=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),l;f?l=function(S,_,O,R){!R&&_ in S||Object.defineProperty(S,_,{configurable:!0,enumerable:!1,writable:!0,value:O})}:l=function(S,_,O,R){!R&&_ in S||(S[_]=O)};var c=function(S,_,O){for(var R in _)e.hasOwnProperty.call(_,R)&&l(S,R,_[R],O)},p=function(S){if(S==null)throw new TypeError("can't convert "+S+" to object");return Object(S)};function v(S){var _=+S;return _!==_?_=0:_!==0&&_!==1/0&&_!==-1/0&&(_=(_>0||-1)*Math.floor(Math.abs(_))),_}function I(S){return S>>>0}function A(){}c(t,{bind:function(_){var O=this;if(!a(O))throw new TypeError("Function.prototype.bind called on incompatible "+O);for(var R=o.call(arguments,1),E=function(){if(this instanceof u){var y=O.apply(this,R.concat(o.call(arguments)));return Object(y)===y?y:this}else return O.apply(_,R.concat(o.call(arguments)))},D=Math.max(0,O.length-R.length),C=[],w=0;w<D;w++)C.push("$"+w);var u=Function("binder","return function ("+C.join(",")+"){ return binder.apply(this, arguments); }")(E);return O.prototype&&(A.prototype=O.prototype,u.prototype=new A,A.prototype=null),u}}),c(Array,{isArray:s});var H=Object("a"),W=H[0]!=="a"||!(0 in H),b=function(_){var O=!0,R=!0;return _&&(_.call("foo",function(E,D,C){typeof C!="object"&&(O=!1)}),_.call([1],function(){R=typeof this=="string"},"x")),!!_&&O&&R};c(r,{forEach:function(_){var O=p(this),R=W&&h(this)?this.split(""):O,E=arguments[1],D=-1,C=R.length>>>0;if(!a(_))throw new TypeError;for(;++D<C;)D in R&&_.call(E,R[D],D,O)}},!b(r.forEach));var T=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;c(r,{indexOf:function(_){var O=W&&h(this)?this.split(""):p(this),R=O.length>>>0;if(!R)return-1;var E=0;for(arguments.length>1&&(E=v(arguments[1])),E=E>=0?E:Math.max(0,R+E);E<R;E++)if(E in O&&O[E]===_)return E;return-1}},T);var m=n.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var S=/()??/.exec("")[1]===void 0;n.split=function(_,O){var R=this;if(_===void 0&&O===0)return[];if(i.call(_)!=="[object RegExp]")return m.call(this,_,O);var E=[],D=(_.ignoreCase?"i":"")+(_.multiline?"m":"")+(_.extended?"x":"")+(_.sticky?"y":""),C=0,w,u,y,d;for(_=new RegExp(_.source,D+"g"),R+="",S||(w=new RegExp("^"+_.source+"$(?!\\s)",D)),O=O===void 0?-1>>>0:I(O);(u=_.exec(R))&&(y=u.index+u[0].length,!(y>C&&(E.push(R.slice(C,u.index)),!S&&u.length>1&&u[0].replace(w,function(){for(var x=1;x<arguments.length-2;x++)arguments[x]===void 0&&(u[x]=void 0)}),u.length>1&&u.index<R.length&&r.push.apply(E,u.slice(1)),d=u[0].length,C=y,E.length>=O)));)_.lastIndex===u.index&&_.lastIndex++;return C===R.length?(d||!_.test(""))&&E.push(""):E.push(R.slice(C)),E.length>O?E.slice(0,O):E}}():"0".split(void 0,0).length&&(n.split=function(_,O){return _===void 0&&O===0?[]:m.call(this,_,O)});var g=n.substr,N="".substr&&"0b".substr(-1)!=="b";return c(n,{substr:function(_,O){return g.call(this,_<0&&(_=this.length+_)<0?0:_,O)}},N),Ur}var tn,Hr;function Hs(){if(Hr)return tn;Hr=1;var r=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,e,t=function(n){var o,i={},a=[];for(o=0;o<65536;o++)a.push(String.fromCharCode(o));return n.lastIndex=0,a.join("").replace(n,function(s){return i[s]="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),""}),n.lastIndex=0,i};return tn={quote:function(n){var o=JSON.stringify(n);return r.lastIndex=0,r.test(o)?(e||(e=t(r)),o.replace(r,function(i){return e[i]})):o}},tn}var nn,Fr;function Fs(){if(Fr)return nn;Fr=1;var r=function(){};return nn=function(e){return{filterToEnabled:function(t,n){var o={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(i){if(i&&!(i.transportName==="websocket"&&n.websocket===!1)){if(t.length&&t.indexOf(i.transportName)===-1){r("not in whitelist",i.transportName);return}i.enabled(n)?(r("enabled",i.transportName),o.main.push(i),i.facadeTransport&&o.facade.push(i.facadeTransport)):r("disabled",i.transportName)}}),o}}},nn}var rn,Wr;function Ws(){if(Wr)return rn;Wr=1;var r={};return["log","debug","warn"].forEach(function(e){var t;try{t=P.console&&P.console[e]&&P.console[e].apply}catch{}r[e]=t?function(){return P.console[e].apply(P.console,arguments)}:e==="log"?function(){}:r.log}),rn=r,rn}var on,Br;function xn(){if(Br)return on;Br=1;function r(e){this.type=e}return r.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,on=r,on}var sn,Vr;function jo(){return Vr||(Vr=1,sn=P.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}),sn}var an,Xr;function Bs(){if(Xr)return an;Xr=1;var r=X(),e=xn();function t(){e.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}return r(t,e),an=t,an}var cn,zr;function Vs(){if(zr)return cn;zr=1;var r=X(),e=xn();function t(n){e.call(this),this.initEvent("message",!1,!1),this.data=n}return r(t,e),cn=t,cn}var ln,Jr;function Xs(){if(Jr)return ln;Jr=1;var r=Z().EventEmitter,e=X();function t(){var n=this;r.call(this),this.to=setTimeout(function(){n.emit("finish",200,"{}")},t.timeout)}return e(t,r),t.prototype.close=function(){clearTimeout(this.to)},t.timeout=2e3,ln=t,ln}var un,Gr;function Io(){if(Gr)return un;Gr=1;var r=Z().EventEmitter,e=X(),t=wn();function n(o,i){r.call(this);var a=this,s=+new Date;this.xo=new i("GET",o),this.xo.once("finish",function(h,f){var l,c;if(h===200){if(c=+new Date-s,f)try{l=JSON.parse(f)}catch{}t.isObject(l)||(l={})}a.emit("finish",l,c),a.removeAllListeners()})}return e(n,r),n.prototype.close=function(){this.removeAllListeners(),this.xo.close()},un=n,un}var fn,Yr;function Mo(){if(Yr)return fn;Yr=1;var r=X(),e=Z().EventEmitter,t=qe(),n=Io();function o(i){var a=this;e.call(this),this.ir=new n(i,t),this.ir.once("finish",function(s,h){a.ir=null,a.emit("message",JSON.stringify([s,h]))})}return r(o,e),o.transportName="iframe-info-receiver",o.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},fn=o,fn}var dn,Kr;function zs(){if(Kr)return dn;Kr=1;var r=Z().EventEmitter,e=X(),t=be(),n=No(),o=Mo();function i(a,s){var h=this;r.call(this);var f=function(){var l=h.ifr=new n(o.transportName,s,a);l.once("message",function(c){if(c){var p;try{p=JSON.parse(c)}catch{h.emit("finish"),h.close();return}var v=p[0],I=p[1];h.emit("finish",v,I)}h.close()}),l.once("close",function(){h.emit("finish"),h.close()})};P.document.body?f():t.attachEvent("load",f)}return e(i,r),i.enabled=function(){return n.enabled()},i.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},dn=i,dn}var hn,Qr;function Js(){if(Qr)return hn;Qr=1;var r=Z().EventEmitter,e=X(),t=re(),n=_n(),o=ot(),i=qe(),a=Xs(),s=zs(),h=Io();function f(l,c){var p=this;r.call(this),setTimeout(function(){p.doXhr(l,c)},0)}return e(f,r),f._getReceiver=function(l,c,p){return p.sameOrigin?new h(c,i):o.enabled?new h(c,o):n.enabled&&p.sameScheme?new h(c,n):s.enabled()?new s(l,c):new h(c,a)},f.prototype.doXhr=function(l,c){var p=this,v=t.addPath(l,"/info");this.xo=f._getReceiver(l,v,c),this.timeoutRef=setTimeout(function(){p._cleanup(!1),p.emit("finish")},f.timeout),this.xo.once("finish",function(I,A){p._cleanup(!0),p.emit("finish",I,A)})},f.prototype._cleanup=function(l){clearTimeout(this.timeoutRef),this.timeoutRef=null,!l&&this.xo&&this.xo.close(),this.xo=null},f.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},f.timeout=8e3,hn=f,hn}var pn,Zr;function Gs(){if(Zr)return pn;Zr=1;var r=$e();function e(t){this._transport=t,t.on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}return e.prototype._transportClose=function(t,n){r.postMessage("c",JSON.stringify([t,n]))},e.prototype._transportMessage=function(t){r.postMessage("t",t)},e.prototype._send=function(t){this._transport.send(t)},e.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},pn=e,pn}var mn,eo;function Ys(){if(eo)return mn;eo=1;var r=re(),e=be(),t=Gs(),n=Mo(),o=$e(),i=jo(),a=function(){};return mn=function(s,h){var f={};h.forEach(function(c){c.facadeTransport&&(f[c.facadeTransport.transportName]=c.facadeTransport)}),f[n.transportName]=n;var l;s.bootstrap_iframe=function(){var c;o.currentWindowId=i.hash.slice(1);var p=function(v){if(v.source===parent&&(typeof l>"u"&&(l=v.origin),v.origin===l)){var I;try{I=JSON.parse(v.data)}catch{a("bad json",v.data);return}if(I.windowId===o.currentWindowId)switch(I.type){case"s":var A;try{A=JSON.parse(I.data)}catch{a("bad json",I.data);break}var H=A[0],W=A[1],b=A[2],T=A[3];if(H!==s.version)throw new Error('Incompatible SockJS! Main site uses: "'+H+'", the iframe: "'+s.version+'".');if(!r.isOriginEqual(b,i.href)||!r.isOriginEqual(T,i.href))throw new Error("Can't connect to different domain from within an iframe. ("+i.href+", "+b+", "+T+")");c=new t(new f[W](b,T));break;case"m":c._send(I.data);break;case"c":c&&c._close(),c=null;break}}};e.attachEvent("message",p),o.postMessage("s")}},mn}var vn,to;function Ks(){if(to)return vn;to=1,$s();var r=Co(),e=X(),t=Re(),n=Hs(),o=re(),i=be(),a=Fs(),s=wn(),h=Ue(),f=Ws(),l=xn(),c=So(),p=jo(),v=Bs(),I=Vs(),A=Js(),H=function(){},W;function b(m,g,N){if(!(this instanceof b))return new b(m,g,N);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");c.call(this),this.readyState=b.CONNECTING,this.extensions="",this.protocol="",N=N||{},N.protocols_whitelist&&f.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=N.transports,this._transportOptions=N.transportOptions||{},this._timeout=N.timeout||0;var S=N.sessionId||8;if(typeof S=="function")this._generateSessionId=S;else if(typeof S=="number")this._generateSessionId=function(){return t.string(S)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=N.server||t.numberString(1e3);var _=new r(m);if(!_.host||!_.protocol)throw new SyntaxError("The URL '"+m+"' is invalid");if(_.hash)throw new SyntaxError("The URL must not contain a fragment");if(_.protocol!=="http:"&&_.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+_.protocol+"' is not allowed.");var O=_.protocol==="https:";if(p.protocol==="https:"&&!O&&!o.isLoopbackAddr(_.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");g?Array.isArray(g)||(g=[g]):g=[];var R=g.sort();R.forEach(function(D,C){if(!D)throw new SyntaxError("The protocols entry '"+D+"' is invalid.");if(C<R.length-1&&D===R[C+1])throw new SyntaxError("The protocols entry '"+D+"' is duplicated.")});var E=o.getOrigin(p.href);this._origin=E?E.toLowerCase():null,_.set("pathname",_.pathname.replace(/\/+$/,"")),this.url=_.href,H("using url",this.url),this._urlInfo={nullOrigin:!h.hasDomain(),sameOrigin:o.isOriginEqual(this.url,p.href),sameScheme:o.isSchemeEqual(this.url,p.href)},this._ir=new A(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}e(b,c);function T(m){return m===1e3||m>=3e3&&m<=4999}return b.prototype.close=function(m,g){if(m&&!T(m))throw new Error("InvalidAccessError: Invalid code");if(g&&g.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===b.CLOSING||this.readyState===b.CLOSED)){var N=!0;this._close(m||1e3,g||"Normal closure",N)}},b.prototype.send=function(m){if(typeof m!="string"&&(m=""+m),this.readyState===b.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===b.OPEN&&this._transport.send(n.quote(m))},b.version=ko(),b.CONNECTING=0,b.OPEN=1,b.CLOSING=2,b.CLOSED=3,b.prototype._receiveInfo=function(m,g){if(this._ir=null,!m){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(g),this._transUrl=m.base_url?m.base_url:this.url,m=s.extend(m,this._urlInfo);var N=W.filterToEnabled(this._transportsWhitelist,m);this._transports=N.main,H(this._transports.length+" enabled transports"),this._connect()},b.prototype._connect=function(){for(var m=this._transports.shift();m;m=this._transports.shift()){if(H("attempt",m.transportName),m.needBody&&(!P.document.body||typeof P.document.readyState<"u"&&P.document.readyState!=="complete"&&P.document.readyState!=="interactive")){this._transports.unshift(m),i.attachEvent("load",this._connect.bind(this));return}var g=Math.max(this._timeout,this._rto*m.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),g);var N=o.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),S=this._transportOptions[m.transportName],_=new m(N,this._transUrl,S);_.on("message",this._transportMessage.bind(this)),_.once("close",this._transportClose.bind(this)),_.transportName=m.transportName,this._transport=_;return}this._close(2e3,"All transports failed",!1)},b.prototype._transportTimeout=function(){this.readyState===b.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},b.prototype._transportMessage=function(m){var g=this,N=m.slice(0,1),S=m.slice(1),_;switch(N){case"o":this._open();return;case"h":this.dispatchEvent(new l("heartbeat")),H("heartbeat",this.transport);return}if(S)try{_=JSON.parse(S)}catch{}if(!(typeof _>"u"))switch(N){case"a":Array.isArray(_)&&_.forEach(function(O){H("message",g.transport),g.dispatchEvent(new I(O))});break;case"m":H("message",this.transport),this.dispatchEvent(new I(_));break;case"c":Array.isArray(_)&&_.length===2&&this._close(_[0],_[1],!0);break}},b.prototype._transportClose=function(m,g){if(H("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!T(m)&&m!==2e3&&this.readyState===b.CONNECTING){this._connect();return}this._close(m,g)},b.prototype._open=function(){H("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===b.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=b.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new l("open")),H("connected",this.transport)):this._close(1006,"Server lost session")},b.prototype._close=function(m,g,N){H("_close",this.transport,m,g,N,this.readyState);var S=!1;if(this._ir&&(S=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===b.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=b.CLOSING,setTimeout((function(){this.readyState=b.CLOSED,S&&this.dispatchEvent(new l("error"));var _=new v("close");_.wasClean=N||!1,_.code=m||1e3,_.reason=g,this.dispatchEvent(_),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)},b.prototype.countRTO=function(m){return m>100?4*m:300+m},vn=function(m){return W=a(m),Ys()(b,m),b},vn}var gn,no;function Qs(){if(no)return gn;no=1;var r=Us();return gn=Ks()(r),"_sockjs_onload"in P&&setTimeout(P._sockjs_onload,1),gn}var Zs=Qs();const ea=bn(Zs);function ta(r,e){r.terminate=function(){const t=()=>{};this.onerror=t,this.onmessage=t,this.onopen=t;const n=new Date,o=Math.random().toString().substring(2,8),i=this.onclose;this.onclose=a=>{const s=new Date().getTime()-n.getTime();e(`Discarded socket (#${o})  closed after ${s}ms, with code/reason: ${a.code}/${a.reason}`)},this.close(),i==null||i.call(r,{code:4001,reason:`Quick discarding socket (#${o}) without waiting for the shutdown sequence.`,wasClean:!1})}}const Me={LF:`
`,NULL:"\0"};class me{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(e){const{command:t,headers:n,body:o,binaryBody:i,escapeHeaderValues:a,skipContentLengthHeader:s}=e;this.command=t,this.headers=Object.assign({},n||{}),i?(this._binaryBody=i,this.isBinaryBody=!0):(this._body=o||"",this.isBinaryBody=!1),this.escapeHeaderValues=a||!1,this.skipContentLengthHeader=s||!1}static fromRawFrame(e,t){const n={},o=i=>i.replace(/^\s+|\s+$/g,"");for(const i of e.headers.reverse()){i.indexOf(":");const a=o(i[0]);let s=o(i[1]);t&&e.command!=="CONNECT"&&e.command!=="CONNECTED"&&(s=me.hdrValueUnEscape(s)),n[a]=s}return new me({command:e.command,headers:n,binaryBody:e.binaryBody,escapeHeaderValues:t})}toString(){return this.serializeCmdAndHeaders()}serialize(){const e=this.serializeCmdAndHeaders();return this.isBinaryBody?me.toUnit8Array(e,this._binaryBody).buffer:e+this._body+Me.NULL}serializeCmdAndHeaders(){const e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const t of Object.keys(this.headers||{})){const n=this.headers[t];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?e.push(`${t}:${me.hdrValueEscape(`${n}`)}`):e.push(`${t}:${n}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&e.push(`content-length:${this.bodyLength()}`),e.join(Me.LF)+Me.LF+Me.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const e=this.binaryBody;return e?e.length:0}static sizeOfUTF8(e){return e?new TextEncoder().encode(e).length:0}static toUnit8Array(e,t){const n=new TextEncoder().encode(e),o=new Uint8Array([0]),i=new Uint8Array(n.length+t.length+o.length);return i.set(n),i.set(t,n.length),i.set(o,n.length+t.length),i}static marshall(e){return new me(e).serialize()}static hdrValueEscape(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const ro=0,Ke=10,Qe=13,na=58;class ra{constructor(e,t){this.onFrame=e,this.onIncomingPing=t,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(e,t=!1){let n;if(typeof e=="string"?n=this._encoder.encode(e):n=new Uint8Array(e),t&&n[n.length-1]!==0){const o=new Uint8Array(n.length+1);o.set(n,0),o[n.length]=0,n=o}for(let o=0;o<n.length;o++){const i=n[o];this._onByte(i)}}_collectFrame(e){if(e!==ro&&e!==Qe){if(e===Ke){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(e)}}_collectCommand(e){if(e!==Qe){if(e===Ke){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_collectHeaders(e){if(e!==Qe){if(e===Ke){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(e)}}_reinjectByte(e){this._onByte(e)}_collectHeaderKey(e){if(e===na){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(e)}_collectHeaderValue(e){if(e!==Qe){if(e===Ke){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_setupCollectBody(){const e=this._results.headers.filter(t=>t[0]==="content-length")[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(e){if(e===ro){this._retrievedBody();return}this._consumeByte(e)}_collectBodyFixedSize(e){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(e)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(e){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",e)}this._initState()}_consumeByte(e){this._token.push(e)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const e=new Uint8Array(this._token);return this._token=[],e}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var ve;(function(r){r[r.CONNECTING=0]="CONNECTING",r[r.OPEN=1]="OPEN",r[r.CLOSING=2]="CLOSING",r[r.CLOSED=3]="CLOSED"})(ve||(ve={}));var ce;(function(r){r[r.ACTIVE=0]="ACTIVE",r[r.DEACTIVATING=1]="DEACTIVATING",r[r.INACTIVE=2]="INACTIVE"})(ce||(ce={}));var tt;(function(r){r[r.LINEAR=0]="LINEAR",r[r.EXPONENTIAL=1]="EXPONENTIAL"})(tt||(tt={}));var Pe;(function(r){r.Interval="interval",r.Worker="worker"})(Pe||(Pe={}));class oa{constructor(e,t=Pe.Interval,n){this._interval=e,this._strategy=t,this._debug=n,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(e){this.stop(),this.shouldUseWorker()?this.runWorker(e):this.runInterval(e)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===Pe.Worker}runWorker(e){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=t=>e(t.data))}runInterval(e){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const t=Date.now();this._timer=setInterval(()=>{e(Date.now()-t)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class Q{constructor(e){this.versions=e}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(e=>`v${e.replace(".","")}.stomp`)}}Q.V1_0="1.0";Q.V1_1="1.1";Q.V1_2="1.2";Q.default=new Q([Q.V1_2,Q.V1_1,Q.V1_0]);class ia{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(e,t,n){this._client=e,this._webSocket=t,this._connected=!1,this._serverFrameHandlers={CONNECTED:o=>{this.debug(`connected to server ${o.headers.server}`),this._connected=!0,this._connectedVersion=o.headers.version,this._connectedVersion===Q.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(o.headers),this.onConnect(o)},MESSAGE:o=>{const i=o.headers.subscription,a=this._subscriptions[i]||this.onUnhandledMessage,s=o,h=this,f=this._connectedVersion===Q.V1_2?s.headers.ack:s.headers["message-id"];s.ack=(l={})=>h.ack(f,i,l),s.nack=(l={})=>h.nack(f,i,l),a(s)},RECEIPT:o=>{const i=this._receiptWatchers[o.headers["receipt-id"]];i?(i(o),delete this._receiptWatchers[o.headers["receipt-id"]]):this.onUnhandledReceipt(o)},ERROR:o=>{this.onStompError(o)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=n.debug,this.stompVersions=n.stompVersions,this.connectHeaders=n.connectHeaders,this.disconnectHeaders=n.disconnectHeaders,this.heartbeatIncoming=n.heartbeatIncoming,this.heartbeatOutgoing=n.heartbeatOutgoing,this.splitLargeFrames=n.splitLargeFrames,this.maxWebSocketChunkSize=n.maxWebSocketChunkSize,this.forceBinaryWSFrames=n.forceBinaryWSFrames,this.logRawCommunication=n.logRawCommunication,this.appendMissingNULLonIncoming=n.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=n.discardWebsocketOnCommFailure,this.onConnect=n.onConnect,this.onDisconnect=n.onDisconnect,this.onStompError=n.onStompError,this.onWebSocketClose=n.onWebSocketClose,this.onWebSocketError=n.onWebSocketError,this.onUnhandledMessage=n.onUnhandledMessage,this.onUnhandledReceipt=n.onUnhandledReceipt,this.onUnhandledFrame=n.onUnhandledFrame}start(){const e=new ra(t=>{const n=me.fromRawFrame(t,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${n}`),(this._serverFrameHandlers[n.command]||this.onUnhandledFrame)(n)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=t=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const n=t.data instanceof ArrayBuffer?new TextDecoder().decode(t.data):t.data;this.debug(`<<< ${n}`)}e.parseChunk(t.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=t=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(t)},this._webSocket.onerror=t=>{this.onWebSocketError(t)},this._webSocket.onopen=()=>{const t=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),t["accept-version"]=this.stompVersions.supportedVersions(),t["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:t})}}_setupHeartbeat(e){if(e.version!==Q.V1_1&&e.version!==Q.V1_2||!e["heart-beat"])return;const[t,n]=e["heart-beat"].split(",").map(o=>parseInt(o,10));if(this.heartbeatOutgoing!==0&&n!==0){const o=Math.max(this.heartbeatOutgoing,n);this.debug(`send PING every ${o}ms`),this._pinger=new oa(o,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===ve.OPEN&&(this._webSocket.send(Me.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&t!==0){const o=Math.max(this.heartbeatIncoming,t);this.debug(`check PONG every ${o}ms`),this._ponger=setInterval(()=>{const i=Date.now()-this._lastServerActivityTS;i>o*2&&(this.debug(`did not receive server activity for the last ${i}ms`),this._closeOrDiscardWebsocket())},o)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===ve.CONNECTING||this._webSocket.readyState===ve.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&ta(this._webSocket,e=>this.debug(e)),this._webSocket.terminate()}_transmit(e){const{command:t,headers:n,body:o,binaryBody:i,skipContentLengthHeader:a}=e,s=new me({command:t,headers:n,body:o,binaryBody:i,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:a});let h=s.serialize();if(this.logRawCommunication?this.debug(`>>> ${h}`):this.debug(`>>> ${s}`),this.forceBinaryWSFrames&&typeof h=="string"&&(h=new TextEncoder().encode(h)),typeof h!="string"||!this.splitLargeFrames)this._webSocket.send(h);else{let f=h;for(;f.length>0;){const l=f.substring(0,this.maxWebSocketChunkSize);f=f.substring(this.maxWebSocketChunkSize),this._webSocket.send(l),this.debug(`chunk sent = ${l.length}, remaining = ${f.length}`)}}}dispose(){if(this.connected)try{const e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt=`close-${this._counter++}`),this.watchForReceipt(e.receipt,t=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(t)}),this._transmit({command:"DISCONNECT",headers:e})}catch(e){this.debug(`Ignoring error during disconnect ${e}`)}else(this._webSocket.readyState===ve.CONNECTING||this._webSocket.readyState===ve.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(e){const{destination:t,headers:n,body:o,binaryBody:i,skipContentLengthHeader:a}=e,s=Object.assign({destination:t},n);this._transmit({command:"SEND",headers:s,body:o,binaryBody:i,skipContentLengthHeader:a})}watchForReceipt(e,t){this._receiptWatchers[e]=t}subscribe(e,t,n={}){n=Object.assign({},n),n.id||(n.id=`sub-${this._counter++}`),n.destination=e,this._subscriptions[n.id]=t,this._transmit({command:"SUBSCRIBE",headers:n});const o=this;return{id:n.id,unsubscribe(i){return o.unsubscribe(n.id,i)}}}unsubscribe(e,t={}){t=Object.assign({},t),delete this._subscriptions[e],t.id=e,this._transmit({command:"UNSUBSCRIBE",headers:t})}begin(e){const t=e||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:t}});const n=this;return{id:t,commit(){n.commit(t)},abort(){n.abort(t)}}}commit(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}abort(e){this._transmit({command:"ABORT",headers:{transaction:e}})}ack(e,t,n={}){n=Object.assign({},n),this._connectedVersion===Q.V1_2?n.id=e:n["message-id"]=e,n.subscription=t,this._transmit({command:"ACK",headers:n})}nack(e,t,n={}){return n=Object.assign({},n),this._connectedVersion===Q.V1_2?n.id=e:n["message-id"]=e,n.subscription=t,this._transmit({command:"NACK",headers:n})}}class sa{get webSocket(){var e;return(e=this._stompHandler)==null?void 0:e._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===ce.ACTIVE}_changeState(e){this.state=e,this.onChangeState(e)}constructor(e={}){this.stompVersions=Q.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=tt.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=Pe.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=ce.INACTIVE;const t=()=>{};this.debug=t,this.beforeConnect=t,this.onConnect=t,this.onDisconnect=t,this.onUnhandledMessage=t,this.onUnhandledReceipt=t,this.onUnhandledFrame=t,this.onStompError=t,this.onWebSocketClose=t,this.onWebSocketError=t,this.logRawCommunication=!1,this.onChangeState=t,this.connectHeaders={},this._disconnectHeaders={},this.configure(e)}configure(e){Object.assign(this,e),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const e=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(ce.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===ce.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{e()})):e()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const e=this._createWebSocket();this._stompHandler=new ia(this,e,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:t=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(t)},onDisconnect:t=>{this.onDisconnect(t)},onStompError:t=>{this.onStompError(t)},onWebSocketClose:t=>{this._stompHandler=void 0,this.state===ce.DEACTIVATING&&this._changeState(ce.INACTIVE),this.onWebSocketClose(t),this.active&&this._schedule_reconnect()},onWebSocketError:t=>{this.onWebSocketError(t)},onUnhandledMessage:t=>{this.onUnhandledMessage(t)},onUnhandledReceipt:t=>{this.onUnhandledReceipt(t)},onUnhandledFrame:t=>{this.onUnhandledFrame(t)}}),this._stompHandler.start()}_createWebSocket(){let e;if(this.webSocketFactory)e=this.webSocketFactory();else if(this.brokerURL)e=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return e.binaryType="arraybuffer",e}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===tt.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(e={}){var i;const t=e.force||!1,n=this.active;let o;if(this.state===ce.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(ce.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==ve.CLOSED){const a=this._stompHandler.onWebSocketClose;o=new Promise((s,h)=>{this._stompHandler.onWebSocketClose=f=>{a(f),s()}})}else return this._changeState(ce.INACTIVE),Promise.resolve();return t?(i=this._stompHandler)==null||i.discardWebsocket():n&&this._disposeStompHandler(),o}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(e){this._checkConnection(),this._stompHandler.publish(e)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(e,t){this._checkConnection(),this._stompHandler.watchForReceipt(e,t)}subscribe(e,t,n={}){return this._checkConnection(),this._stompHandler.subscribe(e,t,n)}unsubscribe(e,t={}){this._checkConnection(),this._stompHandler.unsubscribe(e,t)}begin(e){return this._checkConnection(),this._stompHandler.begin(e)}commit(e){this._checkConnection(),this._stompHandler.commit(e)}abort(e){this._checkConnection(),this._stompHandler.abort(e)}ack(e,t,n={}){this._checkConnection(),this._stompHandler.ack(e,t,n)}nack(e,t,n={}){this._checkConnection(),this._stompHandler.nack(e,t,n)}}var Ze={exports:{}},aa=Ze.exports,oo;function ca(){return oo||(oo=1,function(r,e){(function(t,n){r.exports=n()})(aa,function(){var t=1e3,n=6e4,o=36e5,i="millisecond",a="second",s="minute",h="hour",f="day",l="week",c="month",p="quarter",v="year",I="date",A="Invalid Date",H=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,W=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var u=["th","st","nd","rd"],y=w%100;return"["+w+(u[(y-20)%10]||u[y]||u[0])+"]"}},T=function(w,u,y){var d=String(w);return!d||d.length>=u?w:""+Array(u+1-d.length).join(y)+w},m={s:T,z:function(w){var u=-w.utcOffset(),y=Math.abs(u),d=Math.floor(y/60),x=y%60;return(u<=0?"+":"-")+T(d,2,"0")+":"+T(x,2,"0")},m:function w(u,y){if(u.date()<y.date())return-w(y,u);var d=12*(y.year()-u.year())+(y.month()-u.month()),x=u.clone().add(d,c),L=y-x<0,q=u.clone().add(d+(L?-1:1),c);return+(-(d+(y-x)/(L?x-q:q-x))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:c,y:v,w:l,d:f,D:I,h,m:s,s:a,ms:i,Q:p}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},g="en",N={};N[g]=b;var S="$isDayjsObject",_=function(w){return w instanceof D||!(!w||!w[S])},O=function w(u,y,d){var x;if(!u)return g;if(typeof u=="string"){var L=u.toLowerCase();N[L]&&(x=L),y&&(N[L]=y,x=L);var q=u.split("-");if(!x&&q.length>1)return w(q[0])}else{var M=u.name;N[M]=u,x=M}return!d&&x&&(g=x),x||!d&&g},R=function(w,u){if(_(w))return w.clone();var y=typeof u=="object"?u:{};return y.date=w,y.args=arguments,new D(y)},E=m;E.l=O,E.i=_,E.w=function(w,u){return R(w,{locale:u.$L,utc:u.$u,x:u.$x,$offset:u.$offset})};var D=function(){function w(y){this.$L=O(y.locale,null,!0),this.parse(y),this.$x=this.$x||y.x||{},this[S]=!0}var u=w.prototype;return u.parse=function(y){this.$d=function(d){var x=d.date,L=d.utc;if(x===null)return new Date(NaN);if(E.u(x))return new Date;if(x instanceof Date)return new Date(x);if(typeof x=="string"&&!/Z$/i.test(x)){var q=x.match(H);if(q){var M=q[2]-1||0,$=(q[7]||"0").substring(0,3);return L?new Date(Date.UTC(q[1],M,q[3]||1,q[4]||0,q[5]||0,q[6]||0,$)):new Date(q[1],M,q[3]||1,q[4]||0,q[5]||0,q[6]||0,$)}}return new Date(x)}(y),this.init()},u.init=function(){var y=this.$d;this.$y=y.getFullYear(),this.$M=y.getMonth(),this.$D=y.getDate(),this.$W=y.getDay(),this.$H=y.getHours(),this.$m=y.getMinutes(),this.$s=y.getSeconds(),this.$ms=y.getMilliseconds()},u.$utils=function(){return E},u.isValid=function(){return this.$d.toString()!==A},u.isSame=function(y,d){var x=R(y);return this.startOf(d)<=x&&x<=this.endOf(d)},u.isAfter=function(y,d){return R(y)<this.startOf(d)},u.isBefore=function(y,d){return this.endOf(d)<R(y)},u.$g=function(y,d,x){return E.u(y)?this[d]:this.set(x,y)},u.unix=function(){return Math.floor(this.valueOf()/1e3)},u.valueOf=function(){return this.$d.getTime()},u.startOf=function(y,d){var x=this,L=!!E.u(d)||d,q=E.p(y),M=function(le,Y){var fe=E.w(x.$u?Date.UTC(x.$y,Y,le):new Date(x.$y,Y,le),x);return L?fe:fe.endOf(f)},$=function(le,Y){return E.w(x.toDate()[le].apply(x.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(Y)),x)},B=this.$W,z=this.$M,J=this.$D,te="set"+(this.$u?"UTC":"");switch(q){case v:return L?M(1,0):M(31,11);case c:return L?M(1,z):M(0,z+1);case l:var oe=this.$locale().weekStart||0,de=(B<oe?B+7:B)-oe;return M(L?J-de:J+(6-de),z);case f:case I:return $(te+"Hours",0);case h:return $(te+"Minutes",1);case s:return $(te+"Seconds",2);case a:return $(te+"Milliseconds",3);default:return this.clone()}},u.endOf=function(y){return this.startOf(y,!1)},u.$set=function(y,d){var x,L=E.p(y),q="set"+(this.$u?"UTC":""),M=(x={},x[f]=q+"Date",x[I]=q+"Date",x[c]=q+"Month",x[v]=q+"FullYear",x[h]=q+"Hours",x[s]=q+"Minutes",x[a]=q+"Seconds",x[i]=q+"Milliseconds",x)[L],$=L===f?this.$D+(d-this.$W):d;if(L===c||L===v){var B=this.clone().set(I,1);B.$d[M]($),B.init(),this.$d=B.set(I,Math.min(this.$D,B.daysInMonth())).$d}else M&&this.$d[M]($);return this.init(),this},u.set=function(y,d){return this.clone().$set(y,d)},u.get=function(y){return this[E.p(y)]()},u.add=function(y,d){var x,L=this;y=Number(y);var q=E.p(d),M=function(z){var J=R(L);return E.w(J.date(J.date()+Math.round(z*y)),L)};if(q===c)return this.set(c,this.$M+y);if(q===v)return this.set(v,this.$y+y);if(q===f)return M(1);if(q===l)return M(7);var $=(x={},x[s]=n,x[h]=o,x[a]=t,x)[q]||1,B=this.$d.getTime()+y*$;return E.w(B,this)},u.subtract=function(y,d){return this.add(-1*y,d)},u.format=function(y){var d=this,x=this.$locale();if(!this.isValid())return x.invalidDate||A;var L=y||"YYYY-MM-DDTHH:mm:ssZ",q=E.z(this),M=this.$H,$=this.$m,B=this.$M,z=x.weekdays,J=x.months,te=x.meridiem,oe=function(Y,fe,we,xe){return Y&&(Y[fe]||Y(d,L))||we[fe].slice(0,xe)},de=function(Y){return E.s(M%12||12,Y,"0")},le=te||function(Y,fe,we){var xe=Y<12?"AM":"PM";return we?xe.toLowerCase():xe};return L.replace(W,function(Y,fe){return fe||function(we){switch(we){case"YY":return String(d.$y).slice(-2);case"YYYY":return E.s(d.$y,4,"0");case"M":return B+1;case"MM":return E.s(B+1,2,"0");case"MMM":return oe(x.monthsShort,B,J,3);case"MMMM":return oe(J,B);case"D":return d.$D;case"DD":return E.s(d.$D,2,"0");case"d":return String(d.$W);case"dd":return oe(x.weekdaysMin,d.$W,z,2);case"ddd":return oe(x.weekdaysShort,d.$W,z,3);case"dddd":return z[d.$W];case"H":return String(M);case"HH":return E.s(M,2,"0");case"h":return de(1);case"hh":return de(2);case"a":return le(M,$,!0);case"A":return le(M,$,!1);case"m":return String($);case"mm":return E.s($,2,"0");case"s":return String(d.$s);case"ss":return E.s(d.$s,2,"0");case"SSS":return E.s(d.$ms,3,"0");case"Z":return q}return null}(Y)||q.replace(":","")})},u.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},u.diff=function(y,d,x){var L,q=this,M=E.p(d),$=R(y),B=($.utcOffset()-this.utcOffset())*n,z=this-$,J=function(){return E.m(q,$)};switch(M){case v:L=J()/12;break;case c:L=J();break;case p:L=J()/3;break;case l:L=(z-B)/6048e5;break;case f:L=(z-B)/864e5;break;case h:L=z/o;break;case s:L=z/n;break;case a:L=z/t;break;default:L=z}return x?L:E.a(L)},u.daysInMonth=function(){return this.endOf(c).$D},u.$locale=function(){return N[this.$L]},u.locale=function(y,d){if(!y)return this.$L;var x=this.clone(),L=O(y,d,!0);return L&&(x.$L=L),x},u.clone=function(){return E.w(this.$d,this)},u.toDate=function(){return new Date(this.valueOf())},u.toJSON=function(){return this.isValid()?this.toISOString():null},u.toISOString=function(){return this.$d.toISOString()},u.toString=function(){return this.$d.toUTCString()},w}(),C=D.prototype;return R.prototype=C,[["$ms",i],["$s",a],["$m",s],["$H",h],["$W",f],["$M",c],["$y",v],["$D",I]].forEach(function(w){C[w[1]]=function(u){return this.$g(u,w[0],w[1])}}),R.extend=function(w,u){return w.$i||(w(u,D,R),w.$i=!0),R},R.locale=O,R.isDayjs=_,R.unix=function(w){return R(1e3*w)},R.en=N[g],R.Ls=N,R.p={},R})}(Ze)),Ze.exports}var la=ca();const io=bn(la);Se.setAppElement("#root");function fa(){const r=U.useRef(null),[e,t]=U.useState("javascript"),[n,o]=U.useState(""),[i,a]=U.useState(""),[s,h]=U.useState(!0),[f,l]=U.useState(null),[c,p]=U.useState(!1),[v,I]=U.useState(""),[A,H]=U.useState(!1),[W,b]=U.useState(!1),[T,m]=U.useState(""),[g,N]=U.useState(""),[S,_]=U.useState(!1),[O,R]=U.useState(""),[E,D]=U.useState(!1),[C,w]=U.useState([]),[u,y]=U.useState([]),[d,x]=U.useState(""),[L,q]=U.useState("Editor"),[M,$]=U.useState(!1),[B,z]=U.useState(!1),[J,te]=U.useState(!1),[oe,de]=U.useState(!1),[le,Y]=U.useState(""),[fe,we]=U.useState({user_name:"",user_email:"",role:""}),[xe,Do]=U.useState(""),ke=U.useRef(null),it=U.useRef(null),Cn=new URLSearchParams(window.location.search),G=Cn.get("projectUUID"),Sn=Cn.get("role"),he=Sn==="admin",ye=Sn==="editor";U.useEffect(()=>{const j=new ea("http://localhost:8081/ws"),F=new sa({webSocketFactory:()=>j,reconnectDelay:5e3,onConnect:()=>console.log("Connected to WebSocket")});return F.activate(),ke.current=F,()=>{F.deactivate()}},[]);const Ao=j=>{if(!ke.current||!ke.current.connected)return;it.current&&it.current.unsubscribe();const F=`/topic/${G}/${j}`;it.current=ke.current.subscribe(F,V=>{const K=JSON.parse(V.body);K&&K.content&&(Do(K.content),console.log(K.content))})},Po=async j=>{try{if(!(await fetch(`http://localhost:8081/versionControl/revert?projectUUID=${G}&commitUUID=${j}`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to revert");ct()}catch(F){console.error("Error reverting:",F),alert("Error reverting")}},Lo=async()=>{try{if(!(await fetch(`http://localhost:8081/roles/give?projectUUID=${G}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,role:L})})).ok)throw new Error("Failed to add contributor");fetch(`http://localhost:8081/project/getUsers?projectUUID=${G}`).then(F=>F.json()).then(F=>{w(F),D(!0)}).catch(F=>{console.error("Error fetching contributors:",F),alert("Failed to load contributors.")}),st()}catch(j){console.error("Error adding contributor:",j),alert("Error adding contributor")}},qo=async()=>{try{if(!(await fetch(`http://localhost:8081/versionControl/commit?versionName=${le}&projectUUID=${G}`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to commit");fetch(`http://localhost:8081/versionControl/getCommits?projectUUID=${G}`).then(F=>F.json()).then(F=>{y(F),te(!0)}).catch(F=>{console.error("Error fetching commits:",F),alert("Failed to load commits.")}),at()}catch(j){console.error("Error making the commit:",j),alert("Error making the commit")}},Uo=()=>z(!0),En=()=>z(!1),$o=()=>$(!0),st=()=>$(!1),Ho=()=>de(!0),at=()=>de(!1),Fo=()=>{fetch(`http://localhost:8081/versionControl/getCommits?projectUUID=${G}`).then(j=>j.json()).then(j=>{y(j),te(!0)}).catch(j=>{console.error("Error fetching commits:",j),alert("Failed to load commits.")})},ct=()=>te(!1),Wo=()=>{fetch(`http://localhost:8081/project/getUsers?projectUUID=${G}`).then(j=>j.json()).then(j=>{w(j),D(!0)}).catch(j=>{console.error("Error fetching contributors:",j),alert("Failed to load contributors.")})},On=()=>D(!1),Ne=()=>{fetch(`http://localhost:8081/storage/projectStructure/${G}`).then(j=>j.json()).then(j=>{l(j)}).catch(j=>console.error("Error fetching project structure:",j))};U.useEffect(()=>{Ne()},[G]);function Bo(j,F){r.current=j}const Vo=async()=>{a("Running...");try{const j=await fetch("http://localhost:8081/executor/executeFile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectUUID:G,filePath:v,language:e,inputData:n})});if(!j.ok)throw new Error(`HTTP error! status: ${j.status}`);const F=await j.text();a(F)}catch(j){console.error("Error executing file:",j),a(`Error: ${j.message}`)}},Xo=(j,F)=>{I(j),fetch(`http://localhost:8081/log?value=${encodeURIComponent(j)}`).then(V=>V.json()).then(V=>console.log("Path logged successfully:",V)).catch(V=>console.error("Error logging path:",V)),F&&r.current&&fetch(`http://localhost:8081/storage/getFile?projectUUID=${G}&filePath=${encodeURIComponent(j)}`).then(V=>V.text()).then(V=>{r.current.setValue(V),console.log("will connect"),Ao(j)}).catch(V=>console.error("Error fetching file content:",V)),p(!0)},zo=j=>{var V;console.log(j),(V=ke.current)==null||V.publish({destination:"/app/communication",body:JSON.stringify({content:j,projectUUID:G,filePath:v})})},Rn=(j,F="")=>j.map(V=>{const K=F?`${F}/${V.name}`:V.name;return k.jsxs("li",{children:[k.jsxs("span",{onClick:()=>Xo(K,V.type==="file"),style:{cursor:"pointer",color:v===K?"#ffcc00":"#d4d4d4"},children:[V.type==="directory"?"":""," ",V.name]}),V.type==="directory"&&V.children&&k.jsx("ul",{style:{listStyle:"none",paddingLeft:"20px"},children:Rn(V.children,K)})]},K)}),Jo=async()=>{if(!T){alert("Please enter a file name.");return}let j="";if(!v)j="";else{const F=v.split("/"),V=F[F.length-1],K=(ie,lt)=>{for(const se of lt)if(se.name===ie&&se.type==="directory"||se.type==="directory"&&se.children&&K(ie,se.children))return!0;return!1};if(K(V,(f==null?void 0:f.children)||[])||v.endsWith("/"))j=v.replace(/\/$/,"");else{const ie=v.lastIndexOf("/");j=ie!==-1?v.substring(0,ie):""}}await fetch("http://localhost:8081/storage/createFile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectUUID:G,relativePath:j,fileName:T})}).then(F=>{F.status===201?(alert("File created successfully!"),Ne(),m(""),H(!1)):alert("Failed to create file")}).catch(F=>{console.error("Create file error:",F),alert("Error creating file")})},Go=async()=>{if(!g){alert("Please enter a directory name.");return}let j="";if(!v)j="";else{const F=v.split("/"),V=F[F.length-1],K=(ie,lt)=>{for(const se of lt)if(se.name===ie&&se.type==="directory"||se.type==="directory"&&se.children&&K(ie,se.children))return!0;return!1};if(K(V,(f==null?void 0:f.children)||[])||v.endsWith("/"))j=v.replace(/\/$/,"");else{const ie=v.lastIndexOf("/");j=ie!==-1?v.substring(0,ie):""}}await fetch("http://localhost:8081/storage/createDirectory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectUUID:G,relativePath:j,directoryName:g})}).then(F=>{F.status===201?(alert("Directory created successfully!"),Ne(),N(""),b(!1)):alert("Failed to create directory")}).catch(F=>{console.error("Create directory error:",F),alert("Error creating directory")})},Yo=async()=>{if(!v){alert("Please select a file or directory to delete.");return}const j=v.split("/").pop(),F=v.substring(0,v.lastIndexOf("/"));await fetch("http://localhost:8081/storage/deleteComponent",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectUUID:G,relativePath:F,componentName:j})}).then(V=>{V.status===201?(alert("Component deleted successfully!"),Ne(),I(""),p(!1)):alert("Failed to delete component")}).catch(V=>{console.error("Delete component error:",V),alert("Error deleting component")})},Ko=async()=>{if(!v||!O){alert("Please select a file/directory and enter the new name.");return}const j=v.split("/").pop(),F=v.substring(0,v.lastIndexOf("/"));await fetch("http://localhost:8081/storage/renameComponent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectUUID:G,relativePath:F,componentName:j,newName:O})}).then(V=>{V.status===201?(alert("Component renamed successfully!"),Ne(),R(""),_(!1),I(""),p(!1)):alert("Failed to rename component")}).catch(V=>{console.error("Rename component error:",V),alert("Error renaming component")})},Qo=async()=>{window.open(`http://localhost:8081/storage/download-zip?projectUUID=${G}`,"_blank")},Zo=async()=>{try{if(!(await fetch(`http://localhost:8081/versionControl/forkProject?projectUUID=${G}`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to fork")}catch(j){console.error("Error making the fork:",j),alert("Error making the fork")}};return k.jsxs("div",{className:"d-flex flex-column",style:{height:"100vh",backgroundColor:"#1e1e1e"},children:[k.jsxs("div",{className:"d-flex p-2",children:[k.jsxs("button",{className:"btn btn-outline-light ms-auto",onClick:()=>h(!s),children:[s?"Hide":"Show"," Project"]}),(he||ye)&&k.jsx("button",{className:"btn btn-primary me-2",onClick:Vo,children:"Run"}),(he||ye)&&k.jsx("button",{className:"btn btn-success me-2",onClick:()=>H(!A),children:"+ File"}),(he||ye)&&k.jsx("button",{className:"btn btn-info me-2",onClick:()=>b(!W),children:"+ Directory"}),(he||ye)&&k.jsx("button",{className:"btn btn-danger me-2",onClick:Yo,children:"Delete"}),(he||ye)&&k.jsx("button",{className:"btn btn-warning me-2",onClick:()=>_(!S),children:"Rename"}),S&&k.jsxs("div",{className:"d-flex align-items-center me-2",children:[k.jsx("input",{type:"text",className:"form-control",placeholder:"Enter new name...",value:O,onChange:j=>R(j.target.value),style:{width:"200px",marginRight:"5px"}}),k.jsx("button",{className:"btn btn-outline-light",onClick:Ko,children:"Rename"})]}),A&&k.jsxs("div",{className:"d-flex align-items-center me-2",children:[k.jsx("input",{type:"text",className:"form-control",placeholder:"Enter file name...",value:T,onChange:j=>m(j.target.value),style:{width:"200px",marginRight:"5px"}}),k.jsx("button",{className:"btn btn-outline-light",onClick:Jo,children:"Create File"})]}),W&&k.jsxs("div",{className:"d-flex align-items-center me-2",children:[k.jsx("input",{type:"text",className:"form-control",placeholder:"Enter directory name...",value:g,onChange:j=>N(j.target.value),style:{width:"200px",marginRight:"5px"}}),k.jsx("button",{className:"btn btn-outline-light",onClick:Go,children:"Create Directory"})]}),(he||ye)&&k.jsxs("div",{className:"dropdown me-2",children:[k.jsx("button",{className:"btn btn-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown",children:"Language"}),k.jsxs("ul",{className:"dropdown-menu",children:[k.jsx("li",{children:k.jsx("a",{className:"dropdown-item",href:"#",onClick:()=>t("java"),children:"Java"})}),k.jsx("li",{children:k.jsx("a",{className:"dropdown-item",href:"#",onClick:()=>t("cpp"),children:"C++"})}),k.jsx("li",{children:k.jsx("a",{className:"dropdown-item",href:"#",onClick:()=>t("python"),children:"Python"})})]})]}),k.jsx("button",{className:"btn btn-outline-light",onClick:Uo,children:"Version Control Management"}),he&&k.jsx("button",{className:"btn btn-outline-light",onClick:Wo,children:"Contributors"}),k.jsxs(Se,{isOpen:B,onRequestClose:En,contentLabel:"VersionControlManagement",style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:9996},content:{backgroundColor:"#2e2e2e",color:"#ffffff",width:"500px",margin:"auto",padding:"20px",borderRadius:"10px",zIndex:9999,inset:"50% auto auto 50%",transform:"translate(-50%, -50%)"}},children:[k.jsx("h2",{style:{marginBottom:"20px"},children:"Version Control Management"}),k.jsxs("ul",{style:{paddingLeft:"0",listStyle:"none",maxHeight:"300px",overflowY:"auto"},children:[k.jsx("li",{children:k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:Qo,children:"Clone Project"})}),k.jsx("li",{children:k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:Zo,children:"Fork Project"})}),k.jsx("li",{children:(he||ye)&&k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:Fo,children:"Commits"})}),k.jsx("li",{children:k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:En,children:"Close"})})]})]}),k.jsxs(Se,{isOpen:J,onRequestClose:ct,contentLabel:"Commits",style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:9997},content:{backgroundColor:"#2e2e2e",color:"#ffffff",width:"500px",margin:"auto",padding:"20px",borderRadius:"10px",zIndex:9999,inset:"50% auto auto 50%",transform:"translate(-50%, -50%)"}},children:[k.jsx("h2",{style:{marginBottom:"20px"},children:"Commits"}),u.length===0?k.jsx("p",{children:"No commits found."}):k.jsx("ul",{style:{paddingLeft:"0",listStyle:"none",maxHeight:"300px",overflowY:"auto"},children:[...u].sort((j,F)=>{const V=io(j.commit_time,"D MMM YYYY, HH:mm");return io(F.commit_time,"D MMM YYYY, HH:mm").valueOf()-V.valueOf()}).map((j,F)=>k.jsxs("li",{style:{marginBottom:"10px",padding:"10px 14px",background:"#3a3a3a",borderRadius:"6px",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px"},children:[k.jsx("span",{style:{flex:1},children:j.commit_name}),k.jsx("span",{style:{flex:1},children:j.commit_time}),k.jsx("button",{style:{marginLeft:"10px",background:"#ff4d4f",color:"white",border:"none",padding:"6px 10px",borderRadius:"4px",cursor:"pointer"},onClick:()=>Po(j.commitUUID),children:"Revert"})]},F))}),k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:Ho,children:"Make New Commit"}),k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:ct,children:"Close"})]}),k.jsxs(Se,{isOpen:oe,onRequestClose:at,contentLabel:"MakeCommit",style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:9998},content:{backgroundColor:"#2e2e2e",color:"#ffffff",width:"400px",margin:"auto",padding:"20px",borderRadius:"10px",zIndex:9999,inset:"50% auto auto 50%",transform:"translate(-50%, -50%)"}},children:[k.jsx("h2",{children:"Commit"}),k.jsxs("div",{children:[k.jsx("label",{children:"Commit Name: "}),k.jsx("input",{type:"commitName",value:le,onChange:j=>Y(j.target.value),placeholder:"Enter Commit Name",style:{width:"100%",marginBottom:"10px",padding:"8px"}}),k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:qo,children:"Commit"}),k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:at,children:"Close"})]})]}),k.jsxs(Se,{isOpen:E,onRequestClose:On,contentLabel:"Contributors",style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:9998},content:{backgroundColor:"#2e2e2e",color:"#ffffff",width:"500px",margin:"auto",padding:"20px",borderRadius:"10px",zIndex:9999,inset:"50% auto auto 50%",transform:"translate(-50%, -50%)"}},children:[k.jsx("h2",{style:{marginBottom:"20px"},children:"Contributors"}),C.length===0?k.jsx("p",{children:"No contributors found."}):k.jsx("ul",{style:{paddingLeft:"0",listStyle:"none",maxHeight:"300px",overflowY:"auto"},children:C.map((j,F)=>k.jsxs("li",{style:{marginBottom:"10px",padding:"10px 14px",background:"#3a3a3a",borderRadius:"6px",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px"},children:[k.jsx("span",{style:{flex:1},children:j.user_name}),k.jsx("span",{style:{flex:1},children:j.user_email}),k.jsx("span",{style:{flex:1,textAlign:"right"},children:j.role})]},F))}),k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:$o,children:"Add Contributor"}),k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:On,children:"Close"})]}),k.jsxs(Se,{isOpen:M,onRequestClose:st,contentLabel:"Add Contributor",style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:9998},content:{backgroundColor:"#2e2e2e",color:"#ffffff",width:"400px",margin:"auto",padding:"20px",borderRadius:"10px",zIndex:9999,inset:"50% auto auto 50%",transform:"translate(-50%, -50%)"}},children:[k.jsx("h2",{children:"Add Contributor"}),k.jsxs("div",{children:[k.jsx("label",{children:"Email: "}),k.jsx("input",{type:"email",value:d,onChange:j=>x(j.target.value),placeholder:"Enter email",style:{width:"100%",marginBottom:"10px",padding:"8px"}}),k.jsx("label",{children:"Role: "}),k.jsxs("select",{value:L,onChange:j=>q(j.target.value),style:{width:"100%",marginBottom:"10px",padding:"8px"},children:[k.jsx("option",{value:"Editor",children:"Editor"}),k.jsx("option",{value:"Viewer",children:"Viewer"})]}),k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:Lo,children:"Add Contributor"}),k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:st,children:"Close"})]})]})]}),k.jsxs("div",{className:"d-flex flex-grow-1",style:{height:"100%"},children:[s&&f&&k.jsxs("div",{style:{width:"250px",backgroundColor:"#252526",color:"#d4d4d4",borderRight:"1px solid #3c3c3c",overflowY:"auto",padding:"10px",boxSizing:"border-box"},children:[k.jsx("h6",{className:"text-light mb-3",children:"Project Files"}),k.jsx("ul",{style:{listStyle:"none",paddingLeft:"10px"},children:Rn(f.children)})]}),k.jsx("div",{style:{flexGrow:1},children:c?k.jsx(ls,{height:"100%",theme:"vs-dark",language:e,value:xe,onMount:Bo,onChange:j=>zo(j)}):k.jsxs("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",color:"#666",fontSize:"18px"},children:[k.jsx("p",{children:"No file selected"}),k.jsx("p",{children:"Please select a file from the sidebar to start editing."})]})}),k.jsxs("div",{style:{width:"500px",backgroundColor:"#1e1e1e",color:"#d4d4d4",display:"flex",flexDirection:"column",borderLeft:"1px solid #3c3c3c"},children:[k.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"10px",boxSizing:"border-box"},children:[k.jsx("label",{htmlFor:"inputBox",className:"form-label text-light mb-1",children:"Input:"}),k.jsx("textarea",{id:"inputBox",className:"form-control",style:{flex:1,resize:"none",backgroundColor:"#252526",color:"#d4d4d4",border:"1px solid #3c3c3c"},value:n,onChange:j=>o(j.target.value)})]}),k.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"10px",boxSizing:"border-box",borderTop:"1px solid #3c3c3c"},children:[k.jsx("label",{htmlFor:"outputBox",className:"form-label text-light mb-1",children:"Output:"}),k.jsx("textarea",{id:"outputBox",className:"form-control",style:{flex:1,resize:"none",backgroundColor:"#252526",color:"#d4d4d4",border:"1px solid #3c3c3c"},value:i,readOnly:!0})]})]})]})]})}export{fa as C};
