import{r as U,W as Oe,a as io,g as ei,b as ti,d as gn,e as P,j as k}from"./bootstrap.bundle.min-kXvpM-2A.js";function ni(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Rn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,n)}return t}function Tn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rn(Object(t),!0).forEach(function(n){ni(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Rn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function ri(r,e){if(r==null)return{};var t={},n=Object.keys(r),o,i;for(i=0;i<n.length;i++)o=n[i],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function oi(r,e){if(r==null)return{};var t=ri(r,e),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(o=0;o<i.length;o++)n=i[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function ii(r,e){return si(r)||ai(r,e)||ci(r,e)||li()}function si(r){if(Array.isArray(r))return r}function ai(r,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(r)))){var t=[],n=!0,o=!1,i=void 0;try{for(var a=r[Symbol.iterator](),s;!(n=(s=a.next()).done)&&(t.push(s.value),!(e&&t.length===e));n=!0);}catch(h){o=!0,i=h}finally{try{!n&&a.return!=null&&a.return()}finally{if(o)throw i}}return t}}function ci(r,e){if(r){if(typeof r=="string")return kn(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kn(r,e)}}function kn(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function li(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ui(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Nn(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,n)}return t}function jn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Nn(Object(t),!0).forEach(function(n){ui(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Nn(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function fi(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return function(n){return e.reduceRight(function(o,i){return i(o)},n)}}function je(r){return function e(){for(var t=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return o.length>=r.length?r.apply(this,o):function(){for(var a=arguments.length,s=new Array(a),h=0;h<a;h++)s[h]=arguments[h];return e.apply(t,[].concat(o,s))}}}function Ze(r){return{}.toString.call(r).includes("Object")}function di(r){return!Object.keys(r).length}function De(r){return typeof r=="function"}function hi(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function pi(r,e){return Ze(e)||ge("changeType"),Object.keys(e).some(function(t){return!hi(r,t)})&&ge("changeField"),e}function mi(r){De(r)||ge("selectorType")}function vi(r){De(r)||Ze(r)||ge("handlerType"),Ze(r)&&Object.values(r).some(function(e){return!De(e)})&&ge("handlersType")}function gi(r){r||ge("initialIsRequired"),Ze(r)||ge("initialType"),di(r)&&ge("initialContent")}function bi(r,e){throw new Error(r[e]||r.default)}var yi={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ge=je(bi)(yi),$e={changes:pi,selector:mi,handler:vi,initial:gi};function _i(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};$e.initial(r),$e.handler(e);var t={current:r},n=je(xi)(t,e),o=je(Ci)(t),i=je($e.changes)(r),a=je(wi)(t);function s(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(l){return l};return $e.selector(f),f(t.current)}function h(f){fi(n,o,i,a)(f)}return[s,h]}function wi(r,e){return De(e)?e(r.current):e}function Ci(r,e){return r.current=jn(jn({},r.current),e),e}function xi(r,e,t){return De(e)?e(r.current):Object.keys(t).forEach(function(n){var o;return(o=e[n])===null||o===void 0?void 0:o.call(e,r.current[n])}),t}var Si={create:_i},Ei={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function Oi(r){return function e(){for(var t=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return o.length>=r.length?r.apply(this,o):function(){for(var a=arguments.length,s=new Array(a),h=0;h<a;h++)s[h]=arguments[h];return e.apply(t,[].concat(o,s))}}}function Ri(r){return{}.toString.call(r).includes("Object")}function Ti(r){return r||In("configIsRequired"),Ri(r)||In("configType"),r.urls?(ki(),{paths:{vs:r.urls.monacoBase}}):r}function ki(){console.warn(so.deprecation)}function Ni(r,e){throw new Error(r[e]||r.default)}var so={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},In=Oi(Ni)(so),ji={config:Ti},Ii=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(o){return t.reduceRight(function(i,a){return a(i)},o)}};function ao(r,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&r[t]&&Object.assign(e[t],ao(r[t],e[t]))}),Tn(Tn({},r),e)}var Mi={type:"cancelation",msg:"operation is manually canceled"};function lt(r){var e=!1,t=new Promise(function(n,o){r.then(function(i){return e?o(Mi):n(i)}),r.catch(o)});return t.cancel=function(){return e=!0},t}var Di=Si.create({config:Ei,isInitialized:!1,resolve:null,reject:null,monaco:null}),co=ii(Di,2),Pe=co[0],tt=co[1];function Ai(r){var e=ji.config(r),t=e.monaco,n=oi(e,["monaco"]);tt(function(o){return{config:ao(o.config,n),monaco:t}})}function Pi(){var r=Pe(function(e){var t=e.monaco,n=e.isInitialized,o=e.resolve;return{monaco:t,isInitialized:n,resolve:o}});if(!r.isInitialized){if(tt({isInitialized:!0}),r.monaco)return r.resolve(r.monaco),lt(ut);if(window.monaco&&window.monaco.editor)return lo(window.monaco),r.resolve(window.monaco),lt(ut);Ii(Li,Ui)($i)}return lt(ut)}function Li(r){return document.body.appendChild(r)}function qi(r){var e=document.createElement("script");return r&&(e.src=r),e}function Ui(r){var e=Pe(function(n){var o=n.config,i=n.reject;return{config:o,reject:i}}),t=qi("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return r()},t.onerror=e.reject,t}function $i(){var r=Pe(function(t){var n=t.config,o=t.resolve,i=t.reject;return{config:n,resolve:o,reject:i}}),e=window.require;e.config(r.config),e(["vs/editor/editor.main"],function(t){lo(t),r.resolve(t)},function(t){r.reject(t)})}function lo(r){Pe().monaco||tt({monaco:r})}function Hi(){return Pe(function(r){var e=r.monaco;return e})}var ut=new Promise(function(r,e){return tt({resolve:r,reject:e})}),uo={config:Ai,init:Pi,__getMonacoInstance:Hi},Fi={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},ft=Fi,Wi={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Bi=Wi;function Vi({children:r}){return Oe.createElement("div",{style:Bi.container},r)}var Xi=Vi,zi=Xi;function Ji({width:r,height:e,isEditorReady:t,loading:n,_ref:o,className:i,wrapperProps:a}){return Oe.createElement("section",{style:{...ft.wrapper,width:r,height:e},...a},!t&&Oe.createElement(zi,null,n),Oe.createElement("div",{ref:o,style:{...ft.fullWidth,...!t&&ft.hide},className:i}))}var Gi=Ji,fo=U.memo(Gi);function Yi(r){U.useEffect(r,[])}var ho=Yi;function Ki(r,e,t=!0){let n=U.useRef(!0);U.useEffect(n.current||!t?()=>{n.current=!1}:r,e)}var ee=Ki;function Me(){}function Ee(r,e,t,n){return Qi(r,n)||Zi(r,e,t,n)}function Qi(r,e){return r.editor.getModel(po(r,e))}function Zi(r,e,t,n){return r.editor.createModel(e,t,n?po(r,n):void 0)}function po(r,e){return r.Uri.parse(e)}function es({original:r,modified:e,language:t,originalLanguage:n,modifiedLanguage:o,originalModelPath:i,modifiedModelPath:a,keepCurrentOriginalModel:s=!1,keepCurrentModifiedModel:h=!1,theme:f="light",loading:l="Loading...",options:c={},height:p="100%",width:C="100%",className:I,wrapperProps:D={},beforeMount:H=Me,onMount:W=Me}){let[v,T]=U.useState(!1),[m,g]=U.useState(!0),N=U.useRef(null),S=U.useRef(null),y=U.useRef(null),O=U.useRef(W),R=U.useRef(H),E=U.useRef(!1);ho(()=>{let u=uo.init();return u.then(b=>(S.current=b)&&g(!1)).catch(b=>(b==null?void 0:b.type)!=="cancelation"&&console.error("Monaco initialization: error:",b)),()=>N.current?_():u.cancel()}),ee(()=>{if(N.current&&S.current){let u=N.current.getOriginalEditor(),b=Ee(S.current,r||"",n||t||"text",i||"");b!==u.getModel()&&u.setModel(b)}},[i],v),ee(()=>{if(N.current&&S.current){let u=N.current.getModifiedEditor(),b=Ee(S.current,e||"",o||t||"text",a||"");b!==u.getModel()&&u.setModel(b)}},[a],v),ee(()=>{let u=N.current.getModifiedEditor();u.getOption(S.current.editor.EditorOption.readOnly)?u.setValue(e||""):e!==u.getValue()&&(u.executeEdits("",[{range:u.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),u.pushUndoStop())},[e],v),ee(()=>{var u,b;(b=(u=N.current)==null?void 0:u.getModel())==null||b.original.setValue(r||"")},[r],v),ee(()=>{let{original:u,modified:b}=N.current.getModel();S.current.editor.setModelLanguage(u,n||t||"text"),S.current.editor.setModelLanguage(b,o||t||"text")},[t,n,o],v),ee(()=>{var u;(u=S.current)==null||u.editor.setTheme(f)},[f],v),ee(()=>{var u;(u=N.current)==null||u.updateOptions(c)},[c],v);let A=U.useCallback(()=>{var d;if(!S.current)return;R.current(S.current);let u=Ee(S.current,r||"",n||t||"text",i||""),b=Ee(S.current,e||"",o||t||"text",a||"");(d=N.current)==null||d.setModel({original:u,modified:b})},[t,e,o,r,n,i,a]),x=U.useCallback(()=>{var u;!E.current&&y.current&&(N.current=S.current.editor.createDiffEditor(y.current,{automaticLayout:!0,...c}),A(),(u=S.current)==null||u.editor.setTheme(f),T(!0),E.current=!0)},[c,f,A]);U.useEffect(()=>{v&&O.current(N.current,S.current)},[v]),U.useEffect(()=>{!m&&!v&&x()},[m,v,x]);function _(){var b,d,w,L;let u=(b=N.current)==null?void 0:b.getModel();s||((d=u==null?void 0:u.original)==null||d.dispose()),h||((w=u==null?void 0:u.modified)==null||w.dispose()),(L=N.current)==null||L.dispose()}return Oe.createElement(fo,{width:C,height:p,isEditorReady:v,loading:l,_ref:y,className:I,wrapperProps:D})}var ts=es;U.memo(ts);function ns(r){let e=U.useRef();return U.useEffect(()=>{e.current=r},[r]),e.current}var rs=ns,He=new Map;function os({defaultValue:r,defaultLanguage:e,defaultPath:t,value:n,language:o,path:i,theme:a="light",line:s,loading:h="Loading...",options:f={},overrideServices:l={},saveViewState:c=!0,keepCurrentModel:p=!1,width:C="100%",height:I="100%",className:D,wrapperProps:H={},beforeMount:W=Me,onMount:v=Me,onChange:T,onValidate:m=Me}){let[g,N]=U.useState(!1),[S,y]=U.useState(!0),O=U.useRef(null),R=U.useRef(null),E=U.useRef(null),A=U.useRef(v),x=U.useRef(W),_=U.useRef(),u=U.useRef(n),b=rs(i),d=U.useRef(!1),w=U.useRef(!1);ho(()=>{let M=uo.init();return M.then($=>(O.current=$)&&y(!1)).catch($=>($==null?void 0:$.type)!=="cancelation"&&console.error("Monaco initialization: error:",$)),()=>R.current?q():M.cancel()}),ee(()=>{var $,B,X,J;let M=Ee(O.current,r||n||"",e||o||"",i||t||"");M!==(($=R.current)==null?void 0:$.getModel())&&(c&&He.set(b,(B=R.current)==null?void 0:B.saveViewState()),(X=R.current)==null||X.setModel(M),c&&((J=R.current)==null||J.restoreViewState(He.get(i))))},[i],g),ee(()=>{var M;(M=R.current)==null||M.updateOptions(f)},[f],g),ee(()=>{!R.current||n===void 0||(R.current.getOption(O.current.editor.EditorOption.readOnly)?R.current.setValue(n):n!==R.current.getValue()&&(w.current=!0,R.current.executeEdits("",[{range:R.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),R.current.pushUndoStop(),w.current=!1))},[n],g),ee(()=>{var $,B;let M=($=R.current)==null?void 0:$.getModel();M&&o&&((B=O.current)==null||B.editor.setModelLanguage(M,o))},[o],g),ee(()=>{var M;s!==void 0&&((M=R.current)==null||M.revealLine(s))},[s],g),ee(()=>{var M;(M=O.current)==null||M.editor.setTheme(a)},[a],g);let L=U.useCallback(()=>{var M;if(!(!E.current||!O.current)&&!d.current){x.current(O.current);let $=i||t,B=Ee(O.current,n||r||"",e||o||"",$||"");R.current=(M=O.current)==null?void 0:M.editor.create(E.current,{model:B,automaticLayout:!0,...f},l),c&&R.current.restoreViewState(He.get($)),O.current.editor.setTheme(a),s!==void 0&&R.current.revealLine(s),N(!0),d.current=!0}},[r,e,t,n,o,i,f,l,c,a,s]);U.useEffect(()=>{g&&A.current(R.current,O.current)},[g]),U.useEffect(()=>{!S&&!g&&L()},[S,g,L]),u.current=n,U.useEffect(()=>{var M,$;g&&T&&((M=_.current)==null||M.dispose(),_.current=($=R.current)==null?void 0:$.onDidChangeModelContent(B=>{w.current||T(R.current.getValue(),B)}))},[g,T]),U.useEffect(()=>{if(g){let M=O.current.editor.onDidChangeMarkers($=>{var X;let B=(X=R.current.getModel())==null?void 0:X.uri;if(B&&$.find(J=>J.path===B.path)){let J=O.current.editor.getModelMarkers({resource:B});m==null||m(J)}});return()=>{M==null||M.dispose()}}return()=>{}},[g,m]);function q(){var M,$;(M=_.current)==null||M.dispose(),p?c&&He.set(i,R.current.saveViewState()):($=R.current.getModel())==null||$.dispose(),R.current.dispose()}return Oe.createElement(fo,{width:C,height:I,isEditorReady:g,loading:h,_ref:E,className:D,wrapperProps:H})}var is=os,ss=U.memo(is),as=ss,Fe={exports:{}},pe={},dt={exports:{}},ht,Mn;function cs(){if(Mn)return ht;Mn=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ht=r,ht}var pt,Dn;function ls(){if(Dn)return pt;Dn=1;var r=cs();function e(){}function t(){}return t.resetWarningCache=e,pt=function(){function n(a,s,h,f,l,c){if(c!==r){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function o(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return i.PropTypes=i,i},pt}var An;function mo(){return An||(An=1,dt.exports=ls()()),dt.exports}var We={exports:{}},ne={},Be={exports:{}},Pn;function vo(){return Pn||(Pn=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var t="none",n="contents",o=/^(input|select|textarea|button|object|iframe)$/;function i(c,p){return p.getPropertyValue("overflow")!=="visible"||c.scrollWidth<=0&&c.scrollHeight<=0}function a(c){var p=c.offsetWidth<=0&&c.offsetHeight<=0;if(p&&!c.innerHTML)return!0;try{var C=window.getComputedStyle(c),I=C.getPropertyValue("display");return p?I!==n&&i(c,C):I===t}catch{return console.warn("Failed to inspect element style"),!1}}function s(c){for(var p=c,C=c.getRootNode&&c.getRootNode();p&&p!==document.body;){if(C&&p===C&&(p=C.host.parentNode),a(p))return!1;p=p.parentNode}return!0}function h(c,p){var C=c.nodeName.toLowerCase(),I=o.test(C)&&!c.disabled||C==="a"&&c.href||p;return I&&s(c)}function f(c){var p=c.getAttribute("tabindex");p===null&&(p=void 0);var C=isNaN(p);return(C||p>=0)&&h(c,!C)}function l(c){var p=[].slice.call(c.querySelectorAll("*"),0).reduce(function(C,I){return C.concat(I.shadowRoot?l(I.shadowRoot):[I])},[]);return p.filter(f)}r.exports=e.default}(Be,Be.exports)),Be.exports}var Ln;function us(){if(Ln)return ne;Ln=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.resetState=a,ne.log=s,ne.handleBlur=h,ne.handleFocus=f,ne.markForFocusLater=l,ne.returnFocus=c,ne.popWithoutFocus=p,ne.setupScopedFocus=C,ne.teardownScopedFocus=I;var r=vo(),e=t(r);function t(D){return D&&D.__esModule?D:{default:D}}var n=[],o=null,i=!1;function a(){n=[]}function s(){}function h(){i=!0}function f(){if(i){if(i=!1,!o)return;setTimeout(function(){if(!o.contains(document.activeElement)){var D=(0,e.default)(o)[0]||o;D.focus()}},0)}}function l(){n.push(document.activeElement)}function c(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,H=null;try{n.length!==0&&(H=n.pop(),H.focus({preventScroll:D}));return}catch{console.warn(["You tried to return focus to",H,"but it is not in the DOM anymore"].join(" "))}}function p(){n.length>0&&n.pop()}function C(D){o=D,window.addEventListener?(window.addEventListener("blur",h,!1),document.addEventListener("focus",f,!0)):(window.attachEvent("onBlur",h),document.attachEvent("onFocus",f))}function I(){o=null,window.addEventListener?(window.removeEventListener("blur",h),document.removeEventListener("focus",f)):(window.detachEvent("onBlur",h),document.detachEvent("onFocus",f))}return ne}var Ve={exports:{}},qn;function fs(){return qn||(qn=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=vo(),n=o(t);function o(s){return s&&s.__esModule?s:{default:s}}function i(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return s.activeElement.shadowRoot?i(s.activeElement.shadowRoot):s.activeElement}function a(s,h){var f=(0,n.default)(s);if(!f.length){h.preventDefault();return}var l=void 0,c=h.shiftKey,p=f[0],C=f[f.length-1],I=i();if(s===I){if(!c)return;l=C}if(C===I&&!c&&(l=p),p===I&&c&&(l=C),l){h.preventDefault(),l.focus();return}var D=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),H=D!=null&&D[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(H){var W=f.indexOf(I);if(W>-1&&(W+=c?-1:1),l=f[W],typeof l>"u"){h.preventDefault(),l=c?C:p,l.focus();return}h.preventDefault(),l.focus()}}r.exports=e.default}(Ve,Ve.exports)),Ve.exports}var ae={},mt,Un;function ds(){if(Un)return mt;Un=1;var r=function(){};return mt=r,mt}var fe={},vt={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var $n;function hs(){return $n||($n=1,function(r){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};r.exports?r.exports=t:window.ExecutionEnvironment=t})()}(vt)),vt.exports}var Hn;function bn(){if(Hn)return fe;Hn=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.canUseDOM=fe.SafeNodeList=fe.SafeHTMLCollection=void 0;var r=hs(),e=t(r);function t(i){return i&&i.__esModule?i:{default:i}}var n=e.default,o=n.canUseDOM?window.HTMLElement:{};return fe.SafeHTMLCollection=n.canUseDOM?window.HTMLCollection:{},fe.SafeNodeList=n.canUseDOM?window.NodeList:{},fe.canUseDOM=n.canUseDOM,fe.default=o,fe}var Fn;function go(){if(Fn)return ae;Fn=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.resetState=i,ae.log=a,ae.assertNodeList=s,ae.setElement=h,ae.validateElement=f,ae.hide=l,ae.show=c,ae.documentNotReadyOrSSRTesting=p;var r=ds(),e=n(r),t=bn();function n(C){return C&&C.__esModule?C:{default:C}}var o=null;function i(){o&&(o.removeAttribute?o.removeAttribute("aria-hidden"):o.length!=null?o.forEach(function(C){return C.removeAttribute("aria-hidden")}):document.querySelectorAll(o).forEach(function(C){return C.removeAttribute("aria-hidden")})),o=null}function a(){}function s(C,I){if(!C||!C.length)throw new Error("react-modal: No elements were found for selector "+I+".")}function h(C){var I=C;if(typeof I=="string"&&t.canUseDOM){var D=document.querySelectorAll(I);s(D,I),I=D}return o=I||o,o}function f(C){var I=C||o;return I?Array.isArray(I)||I instanceof HTMLCollection||I instanceof NodeList?I:[I]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function l(C){var I=!0,D=!1,H=void 0;try{for(var W=f(C)[Symbol.iterator](),v;!(I=(v=W.next()).done);I=!0){var T=v.value;T.setAttribute("aria-hidden","true")}}catch(m){D=!0,H=m}finally{try{!I&&W.return&&W.return()}finally{if(D)throw H}}}function c(C){var I=!0,D=!1,H=void 0;try{for(var W=f(C)[Symbol.iterator](),v;!(I=(v=W.next()).done);I=!0){var T=v.value;T.removeAttribute("aria-hidden")}}catch(m){D=!0,H=m}finally{try{!I&&W.return&&W.return()}finally{if(D)throw H}}}function p(){o=null}return ae}var Ce={},Wn;function ps(){if(Wn)return Ce;Wn=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.resetState=n,Ce.log=o;var r={},e={};function t(f,l){f.classList.remove(l)}function n(){var f=document.getElementsByTagName("html")[0];for(var l in r)t(f,r[l]);var c=document.body;for(var p in e)t(c,e[p]);r={},e={}}function o(){}var i=function(l,c){return l[c]||(l[c]=0),l[c]+=1,c},a=function(l,c){return l[c]&&(l[c]-=1),c},s=function(l,c,p){p.forEach(function(C){i(c,C),l.add(C)})},h=function(l,c,p){p.forEach(function(C){a(c,C),c[C]===0&&l.remove(C)})};return Ce.add=function(l,c){return s(l.classList,l.nodeName.toLowerCase()=="html"?r:e,c.split(" "))},Ce.remove=function(l,c){return h(l.classList,l.nodeName.toLowerCase()=="html"?r:e,c.split(" "))},Ce}var xe={},Bn;function bo(){if(Bn)return xe;Bn=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.log=n,xe.resetState=o;function r(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}var e=function i(){var a=this;r(this,i),this.register=function(s){a.openInstances.indexOf(s)===-1&&(a.openInstances.push(s),a.emit("register"))},this.deregister=function(s){var h=a.openInstances.indexOf(s);h!==-1&&(a.openInstances.splice(h,1),a.emit("deregister"))},this.subscribe=function(s){a.subscribers.push(s)},this.emit=function(s){a.subscribers.forEach(function(h){return h(s,a.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},t=new e;function n(){console.log("portalOpenInstances ----------"),console.log(t.openInstances.length),t.openInstances.forEach(function(i){return console.log(i)}),console.log("end portalOpenInstances ----------")}function o(){t=new e}return xe.default=t,xe}var Ne={},Vn;function ms(){if(Vn)return Ne;Vn=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.resetState=a,Ne.log=s;var r=bo(),e=t(r);function t(l){return l&&l.__esModule?l:{default:l}}var n=void 0,o=void 0,i=[];function a(){for(var l=[n,o],c=0;c<l.length;c++){var p=l[c];p&&p.parentNode&&p.parentNode.removeChild(p)}n=o=null,i=[]}function s(){console.log("bodyTrap ----------"),console.log(i.length);for(var l=[n,o],c=0;c<l.length;c++){var p=l[c],C=p||{};console.log(C.nodeName,C.className,C.id)}console.log("edn bodyTrap ----------")}function h(){i.length!==0&&i[i.length-1].focusContent()}function f(l,c){!n&&!o&&(n=document.createElement("div"),n.setAttribute("data-react-modal-body-trap",""),n.style.position="absolute",n.style.opacity="0",n.setAttribute("tabindex","0"),n.addEventListener("focus",h),o=n.cloneNode(),o.addEventListener("focus",h)),i=c,i.length>0?(document.body.firstChild!==n&&document.body.insertBefore(n,document.body.firstChild),document.body.lastChild!==o&&document.body.appendChild(o)):(n.parentElement&&n.parentElement.removeChild(n),o.parentElement&&o.parentElement.removeChild(o))}return e.default.subscribe(f),Ne}var Xn;function vs(){return Xn||(Xn=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=Object.assign||function(_){for(var u=1;u<arguments.length;u++){var b=arguments[u];for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(_[d]=b[d])}return _},n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},o=function(){function _(u,b){for(var d=0;d<b.length;d++){var w=b[d];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(u,w.key,w)}}return function(u,b,d){return b&&_(u.prototype,b),d&&_(u,d),u}}(),i=io(),a=mo(),s=g(a),h=us(),f=m(h),l=fs(),c=g(l),p=go(),C=m(p),I=ps(),D=m(I),H=bn(),W=g(H),v=bo(),T=g(v);ms();function m(_){if(_&&_.__esModule)return _;var u={};if(_!=null)for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(u[b]=_[b]);return u.default=_,u}function g(_){return _&&_.__esModule?_:{default:_}}function N(_,u){if(!(_ instanceof u))throw new TypeError("Cannot call a class as a function")}function S(_,u){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:_}function y(_,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);_.prototype=Object.create(u&&u.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(_,u):_.__proto__=u)}var O={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},R=function(u){return u.code==="Tab"||u.keyCode===9},E=function(u){return u.code==="Escape"||u.keyCode===27},A=0,x=function(_){y(u,_);function u(b){N(this,u);var d=S(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,b));return d.setOverlayRef=function(w){d.overlay=w,d.props.overlayRef&&d.props.overlayRef(w)},d.setContentRef=function(w){d.content=w,d.props.contentRef&&d.props.contentRef(w)},d.afterClose=function(){var w=d.props,L=w.appElement,q=w.ariaHideApp,M=w.htmlOpenClassName,$=w.bodyOpenClassName,B=w.parentSelector,X=B&&B().ownerDocument||document;$&&D.remove(X.body,$),M&&D.remove(X.getElementsByTagName("html")[0],M),q&&A>0&&(A-=1,A===0&&C.show(L)),d.props.shouldFocusAfterRender&&(d.props.shouldReturnFocusAfterClose?(f.returnFocus(d.props.preventScroll),f.teardownScopedFocus()):f.popWithoutFocus()),d.props.onAfterClose&&d.props.onAfterClose(),T.default.deregister(d)},d.open=function(){d.beforeOpen(),d.state.afterOpen&&d.state.beforeClose?(clearTimeout(d.closeTimer),d.setState({beforeClose:!1})):(d.props.shouldFocusAfterRender&&(f.setupScopedFocus(d.node),f.markForFocusLater()),d.setState({isOpen:!0},function(){d.openAnimationFrame=requestAnimationFrame(function(){d.setState({afterOpen:!0}),d.props.isOpen&&d.props.onAfterOpen&&d.props.onAfterOpen({overlayEl:d.overlay,contentEl:d.content})})}))},d.close=function(){d.props.closeTimeoutMS>0?d.closeWithTimeout():d.closeWithoutTimeout()},d.focusContent=function(){return d.content&&!d.contentHasFocus()&&d.content.focus({preventScroll:!0})},d.closeWithTimeout=function(){var w=Date.now()+d.props.closeTimeoutMS;d.setState({beforeClose:!0,closesAt:w},function(){d.closeTimer=setTimeout(d.closeWithoutTimeout,d.state.closesAt-Date.now())})},d.closeWithoutTimeout=function(){d.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},d.afterClose)},d.handleKeyDown=function(w){R(w)&&(0,c.default)(d.content,w),d.props.shouldCloseOnEsc&&E(w)&&(w.stopPropagation(),d.requestClose(w))},d.handleOverlayOnClick=function(w){d.shouldClose===null&&(d.shouldClose=!0),d.shouldClose&&d.props.shouldCloseOnOverlayClick&&(d.ownerHandlesClose()?d.requestClose(w):d.focusContent()),d.shouldClose=null},d.handleContentOnMouseUp=function(){d.shouldClose=!1},d.handleOverlayOnMouseDown=function(w){!d.props.shouldCloseOnOverlayClick&&w.target==d.overlay&&w.preventDefault()},d.handleContentOnClick=function(){d.shouldClose=!1},d.handleContentOnMouseDown=function(){d.shouldClose=!1},d.requestClose=function(w){return d.ownerHandlesClose()&&d.props.onRequestClose(w)},d.ownerHandlesClose=function(){return d.props.onRequestClose},d.shouldBeClosed=function(){return!d.state.isOpen&&!d.state.beforeClose},d.contentHasFocus=function(){return document.activeElement===d.content||d.content.contains(document.activeElement)},d.buildClassName=function(w,L){var q=(typeof L>"u"?"undefined":n(L))==="object"?L:{base:O[w],afterOpen:O[w]+"--after-open",beforeClose:O[w]+"--before-close"},M=q.base;return d.state.afterOpen&&(M=M+" "+q.afterOpen),d.state.beforeClose&&(M=M+" "+q.beforeClose),typeof L=="string"&&L?M+" "+L:M},d.attributesFromObject=function(w,L){return Object.keys(L).reduce(function(q,M){return q[w+"-"+M]=L[M],q},{})},d.state={afterOpen:!1,beforeClose:!1},d.shouldClose=null,d.moveFromContentToOverlay=null,d}return o(u,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(d,w){this.props.isOpen&&!d.isOpen?this.open():!this.props.isOpen&&d.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!w.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var d=this.props,w=d.appElement,L=d.ariaHideApp,q=d.htmlOpenClassName,M=d.bodyOpenClassName,$=d.parentSelector,B=$&&$().ownerDocument||document;M&&D.add(B.body,M),q&&D.add(B.getElementsByTagName("html")[0],q),L&&(A+=1,C.hide(w)),T.default.register(this)}},{key:"render",value:function(){var d=this.props,w=d.id,L=d.className,q=d.overlayClassName,M=d.defaultStyles,$=d.children,B=L?{}:M.content,X=q?{}:M.overlay;if(this.shouldBeClosed())return null;var J={ref:this.setOverlayRef,className:this.buildClassName("overlay",q),style:t({},X,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},oe=t({id:w,ref:this.setContentRef,style:t({},B,this.props.style.content),className:this.buildClassName("content",L),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",t({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),te=this.props.contentElement(oe,$);return this.props.overlayElement(J,te)}}]),u}(i.Component);x.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},x.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(W.default),s.default.instanceOf(H.SafeHTMLCollection),s.default.instanceOf(H.SafeNodeList),s.default.arrayOf(s.default.instanceOf(W.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},e.default=x,r.exports=e.default}(We,We.exports)),We.exports}function yo(){var r=this.constructor.getDerivedStateFromProps(this.props,this.state);r!=null&&this.setState(r)}function _o(r){function e(t){var n=this.constructor.getDerivedStateFromProps(r,t);return n??null}this.setState(e.bind(this))}function wo(r,e){try{var t=this.props,n=this.state;this.props=r,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,n)}finally{this.props=t,this.state=n}}yo.__suppressDeprecationWarning=!0;_o.__suppressDeprecationWarning=!0;wo.__suppressDeprecationWarning=!0;function gs(r){var e=r.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof r.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return r;var t=null,n=null,o=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?o="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(o="UNSAFE_componentWillUpdate"),t!==null||n!==null||o!==null){var i=r.displayName||r.name,a=typeof r.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+a+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(n!==null?`
  `+n:"")+(o!==null?`
  `+o:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof r.getDerivedStateFromProps=="function"&&(e.componentWillMount=yo,e.componentWillReceiveProps=_o),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=wo;var s=e.componentDidUpdate;e.componentDidUpdate=function(f,l,c){var p=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:c;s.call(this,f,l,p)}}return r}const bs=Object.freeze(Object.defineProperty({__proto__:null,polyfill:gs},Symbol.toStringTag,{value:"Module"})),ys=ei(bs);var zn;function _s(){if(zn)return pe;zn=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.bodyOpenClassName=pe.portalClassName=void 0;var r=Object.assign||function(E){for(var A=1;A<arguments.length;A++){var x=arguments[A];for(var _ in x)Object.prototype.hasOwnProperty.call(x,_)&&(E[_]=x[_])}return E},e=function(){function E(A,x){for(var _=0;_<x.length;_++){var u=x[_];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(A,u.key,u)}}return function(A,x,_){return x&&E(A.prototype,x),_&&E(A,_),A}}(),t=io(),n=H(t),o=ti(),i=H(o),a=mo(),s=H(a),h=vs(),f=H(h),l=go(),c=D(l),p=bn(),C=H(p),I=ys;function D(E){if(E&&E.__esModule)return E;var A={};if(E!=null)for(var x in E)Object.prototype.hasOwnProperty.call(E,x)&&(A[x]=E[x]);return A.default=E,A}function H(E){return E&&E.__esModule?E:{default:E}}function W(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}function v(E,A){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:E}function T(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(E,A):E.__proto__=A)}var m=pe.portalClassName="ReactModalPortal",g=pe.bodyOpenClassName="ReactModal__Body--open",N=p.canUseDOM&&i.default.createPortal!==void 0,S=function(A){return document.createElement(A)},y=function(){return N?i.default.createPortal:i.default.unstable_renderSubtreeIntoContainer};function O(E){return E()}var R=function(E){T(A,E);function A(){var x,_,u,b;W(this,A);for(var d=arguments.length,w=Array(d),L=0;L<d;L++)w[L]=arguments[L];return b=(_=(u=v(this,(x=A.__proto__||Object.getPrototypeOf(A)).call.apply(x,[this].concat(w))),u),u.removePortal=function(){!N&&i.default.unmountComponentAtNode(u.node);var q=O(u.props.parentSelector);q&&q.contains(u.node)?q.removeChild(u.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},u.portalRef=function(q){u.portal=q},u.renderPortal=function(q){var M=y(),$=M(u,n.default.createElement(f.default,r({defaultStyles:A.defaultStyles},q)),u.node);u.portalRef($)},_),v(u,b)}return e(A,[{key:"componentDidMount",value:function(){if(p.canUseDOM){N||(this.node=S("div")),this.node.className=this.props.portalClassName;var _=O(this.props.parentSelector);_.appendChild(this.node),!N&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(_){var u=O(_.parentSelector),b=O(this.props.parentSelector);return{prevParent:u,nextParent:b}}},{key:"componentDidUpdate",value:function(_,u,b){if(p.canUseDOM){var d=this.props,w=d.isOpen,L=d.portalClassName;_.portalClassName!==L&&(this.node.className=L);var q=b.prevParent,M=b.nextParent;M!==q&&(q.removeChild(this.node),M.appendChild(this.node)),!(!_.isOpen&&!w)&&!N&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!p.canUseDOM||!this.node||!this.portal)){var _=this.portal.state,u=Date.now(),b=_.isOpen&&this.props.closeTimeoutMS&&(_.closesAt||u+this.props.closeTimeoutMS);b?(_.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,b-u)):this.removePortal()}}},{key:"render",value:function(){if(!p.canUseDOM||!N)return null;!this.node&&N&&(this.node=S("div"));var _=y();return _(n.default.createElement(f.default,r({ref:this.portalRef,defaultStyles:A.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(_){c.setElement(_)}}]),A}(t.Component);return R.propTypes={isOpen:s.default.bool.isRequired,style:s.default.shape({content:s.default.object,overlay:s.default.object}),portalClassName:s.default.string,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,className:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),overlayClassName:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),appElement:s.default.oneOfType([s.default.instanceOf(C.default),s.default.instanceOf(p.SafeHTMLCollection),s.default.instanceOf(p.SafeNodeList),s.default.arrayOf(s.default.instanceOf(C.default))]),onAfterOpen:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,ariaHideApp:s.default.bool,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,parentSelector:s.default.func,aria:s.default.object,data:s.default.object,role:s.default.string,contentLabel:s.default.string,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func},R.defaultProps={isOpen:!1,portalClassName:m,bodyOpenClassName:g,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(A,x){return n.default.createElement("div",A,x)},contentElement:function(A,x){return n.default.createElement("div",A,x)}},R.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,I.polyfill)(R),pe.default=R,pe}var Jn;function ws(){return Jn||(Jn=1,function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=_s(),n=o(t);function o(i){return i&&i.__esModule?i:{default:i}}e.default=n.default,r.exports=e.default}(Fe,Fe.exports)),Fe.exports}var Cs=ws();const Se=gn(Cs);var gt={exports:{}},Xe={},Gn;function xs(){return Gn||(Gn=1,P.crypto&&P.crypto.getRandomValues?Xe.randomBytes=function(r){var e=new Uint8Array(r);return P.crypto.getRandomValues(e),e}:Xe.randomBytes=function(r){for(var e=new Array(r),t=0;t<r;t++)e[t]=Math.floor(Math.random()*256);return e}),Xe}var bt,Yn;function Re(){if(Yn)return bt;Yn=1;var r=xs(),e="abcdefghijklmnopqrstuvwxyz012345";return bt={string:function(t){for(var n=e.length,o=r.randomBytes(t),i=[],a=0;a<t;a++)i.push(e.substr(o[a]%n,1));return i.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var n=(""+(t-1)).length,o=new Array(n+1).join("0");return(o+this.number(t)).slice(-n)}},bt}var Kn;function be(){return Kn||(Kn=1,function(r){var e=Re(),t={},n=!1,o=P.chrome&&P.chrome.app&&P.chrome.app.runtime;r.exports={attachEvent:function(a,s){typeof P.addEventListener<"u"?P.addEventListener(a,s,!1):P.document&&P.attachEvent&&(P.document.attachEvent("on"+a,s),P.attachEvent("on"+a,s))},detachEvent:function(a,s){typeof P.addEventListener<"u"?P.removeEventListener(a,s,!1):P.document&&P.detachEvent&&(P.document.detachEvent("on"+a,s),P.detachEvent("on"+a,s))},unloadAdd:function(a){if(o)return null;var s=e.string(8);return t[s]=a,n&&setTimeout(this.triggerUnloadCallbacks,0),s},unloadDel:function(a){a in t&&delete t[a]},triggerUnloadCallbacks:function(){for(var a in t)t[a](),delete t[a]}};var i=function(){n||(n=!0,r.exports.triggerUnloadCallbacks())};o||r.exports.attachEvent("unload",i)}(gt)),gt.exports}var yt,Qn;function Ss(){return Qn||(Qn=1,yt=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}),yt}var ze={},Zn;function Es(){if(Zn)return ze;Zn=1;var r=Object.prototype.hasOwnProperty,e;function t(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch{return null}}function n(a){try{return encodeURIComponent(a)}catch{return null}}function o(a){for(var s=/([^=?#&]+)=?([^&]*)/g,h={},f;f=s.exec(a);){var l=t(f[1]),c=t(f[2]);l===null||c===null||l in h||(h[l]=c)}return h}function i(a,s){s=s||"";var h=[],f,l;typeof s!="string"&&(s="?");for(l in a)if(r.call(a,l)){if(f=a[l],!f&&(f===null||f===e||isNaN(f))&&(f=""),l=n(l),f=n(f),l===null||f===null)continue;h.push(l+"="+f)}return h.length?s+h.join("&"):""}return ze.stringify=i,ze.parse=o,ze}var _t,er;function Co(){if(er)return _t;er=1;var r=Ss(),e=Es(),t=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,n=/[\n\r\t]/g,o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,i=/:\d+$/,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,s=/^[a-zA-Z]:/;function h(v){return(v||"").toString().replace(t,"")}var f=[["#","hash"],["?","query"],function(T,m){return p(m.protocol)?T.replace(/\\/g,"/"):T},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function c(v){var T;typeof window<"u"?T=window:typeof P<"u"?T=P:typeof self<"u"?T=self:T={};var m=T.location||{};v=v||m;var g={},N=typeof v,S;if(v.protocol==="blob:")g=new D(unescape(v.pathname),{});else if(N==="string"){g=new D(v,{});for(S in l)delete g[S]}else if(N==="object"){for(S in v)S in l||(g[S]=v[S]);g.slashes===void 0&&(g.slashes=o.test(v.href))}return g}function p(v){return v==="file:"||v==="ftp:"||v==="http:"||v==="https:"||v==="ws:"||v==="wss:"}function C(v,T){v=h(v),v=v.replace(n,""),T=T||{};var m=a.exec(v),g=m[1]?m[1].toLowerCase():"",N=!!m[2],S=!!m[3],y=0,O;return N?S?(O=m[2]+m[3]+m[4],y=m[2].length+m[3].length):(O=m[2]+m[4],y=m[2].length):S?(O=m[3]+m[4],y=m[3].length):O=m[4],g==="file:"?y>=2&&(O=O.slice(2)):p(g)?O=m[4]:g?N&&(O=O.slice(2)):y>=2&&p(T.protocol)&&(O=m[4]),{protocol:g,slashes:N||p(g),slashesCount:y,rest:O}}function I(v,T){if(v==="")return T;for(var m=(T||"/").split("/").slice(0,-1).concat(v.split("/")),g=m.length,N=m[g-1],S=!1,y=0;g--;)m[g]==="."?m.splice(g,1):m[g]===".."?(m.splice(g,1),y++):y&&(g===0&&(S=!0),m.splice(g,1),y--);return S&&m.unshift(""),(N==="."||N==="..")&&m.push(""),m.join("/")}function D(v,T,m){if(v=h(v),v=v.replace(n,""),!(this instanceof D))return new D(v,T,m);var g,N,S,y,O,R,E=f.slice(),A=typeof T,x=this,_=0;for(A!=="object"&&A!=="string"&&(m=T,T=null),m&&typeof m!="function"&&(m=e.parse),T=c(T),N=C(v||"",T),g=!N.protocol&&!N.slashes,x.slashes=N.slashes||g&&T.slashes,x.protocol=N.protocol||T.protocol||"",v=N.rest,(N.protocol==="file:"&&(N.slashesCount!==2||s.test(v))||!N.slashes&&(N.protocol||N.slashesCount<2||!p(x.protocol)))&&(E[3]=[/(.*)/,"pathname"]);_<E.length;_++){if(y=E[_],typeof y=="function"){v=y(v,x);continue}S=y[0],R=y[1],S!==S?x[R]=v:typeof S=="string"?(O=S==="@"?v.lastIndexOf(S):v.indexOf(S),~O&&(typeof y[2]=="number"?(x[R]=v.slice(0,O),v=v.slice(O+y[2])):(x[R]=v.slice(O),v=v.slice(0,O)))):(O=S.exec(v))&&(x[R]=O[1],v=v.slice(0,O.index)),x[R]=x[R]||g&&y[3]&&T[R]||"",y[4]&&(x[R]=x[R].toLowerCase())}m&&(x.query=m(x.query)),g&&T.slashes&&x.pathname.charAt(0)!=="/"&&(x.pathname!==""||T.pathname!=="")&&(x.pathname=I(x.pathname,T.pathname)),x.pathname.charAt(0)!=="/"&&p(x.protocol)&&(x.pathname="/"+x.pathname),r(x.port,x.protocol)||(x.host=x.hostname,x.port=""),x.username=x.password="",x.auth&&(O=x.auth.indexOf(":"),~O?(x.username=x.auth.slice(0,O),x.username=encodeURIComponent(decodeURIComponent(x.username)),x.password=x.auth.slice(O+1),x.password=encodeURIComponent(decodeURIComponent(x.password))):x.username=encodeURIComponent(decodeURIComponent(x.auth)),x.auth=x.password?x.username+":"+x.password:x.username),x.origin=x.protocol!=="file:"&&p(x.protocol)&&x.host?x.protocol+"//"+x.host:"null",x.href=x.toString()}function H(v,T,m){var g=this;switch(v){case"query":typeof T=="string"&&T.length&&(T=(m||e.parse)(T)),g[v]=T;break;case"port":g[v]=T,r(T,g.protocol)?T&&(g.host=g.hostname+":"+T):(g.host=g.hostname,g[v]="");break;case"hostname":g[v]=T,g.port&&(T+=":"+g.port),g.host=T;break;case"host":g[v]=T,i.test(T)?(T=T.split(":"),g.port=T.pop(),g.hostname=T.join(":")):(g.hostname=T,g.port="");break;case"protocol":g.protocol=T.toLowerCase(),g.slashes=!m;break;case"pathname":case"hash":if(T){var N=v==="pathname"?"/":"#";g[v]=T.charAt(0)!==N?N+T:T}else g[v]=T;break;case"username":case"password":g[v]=encodeURIComponent(T);break;case"auth":var S=T.indexOf(":");~S?(g.username=T.slice(0,S),g.username=encodeURIComponent(decodeURIComponent(g.username)),g.password=T.slice(S+1),g.password=encodeURIComponent(decodeURIComponent(g.password))):g.username=encodeURIComponent(decodeURIComponent(T))}for(var y=0;y<f.length;y++){var O=f[y];O[4]&&(g[O[1]]=g[O[1]].toLowerCase())}return g.auth=g.password?g.username+":"+g.password:g.username,g.origin=g.protocol!=="file:"&&p(g.protocol)&&g.host?g.protocol+"//"+g.host:"null",g.href=g.toString(),g}function W(v){(!v||typeof v!="function")&&(v=e.stringify);var T,m=this,g=m.host,N=m.protocol;N&&N.charAt(N.length-1)!==":"&&(N+=":");var S=N+(m.protocol&&m.slashes||p(m.protocol)?"//":"");return m.username?(S+=m.username,m.password&&(S+=":"+m.password),S+="@"):m.password?(S+=":"+m.password,S+="@"):m.protocol!=="file:"&&p(m.protocol)&&!g&&m.pathname!=="/"&&(S+="@"),(g[g.length-1]===":"||i.test(m.hostname)&&!m.port)&&(g+=":"),S+=g+m.pathname,T=typeof m.query=="object"?v(m.query):m.query,T&&(S+=T.charAt(0)!=="?"?"?"+T:T),m.hash&&(S+=m.hash),S}return D.prototype={set:H,toString:W},D.extractProtocol=C,D.location=c,D.trimLeft=h,D.qs=e,_t=D,_t}var wt,tr;function re(){if(tr)return wt;tr=1;var r=Co();return wt={getOrigin:function(e){if(!e)return null;var t=new r(e);if(t.protocol==="file:")return null;var n=t.port;return n||(n=t.protocol==="https:"?"443":"80"),t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},wt}var Je={exports:{}},nr;function z(){return nr||(nr=1,typeof Object.create=="function"?Je.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Je.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),Je.exports}var Ct={},xt,rr;function xo(){if(rr)return xt;rr=1;function r(){this._listeners={}}return r.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(t)===-1&&(n=n.concat([t])),this._listeners[e]=n},r.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(n){var o=n.indexOf(t);if(o!==-1){n.length>1?this._listeners[e]=n.slice(0,o).concat(n.slice(o+1)):delete this._listeners[e];return}}},r.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var o=this._listeners[t],i=0;i<o.length;i++)o[i].apply(this,n)},xt=r,xt}var or;function Z(){if(or)return Ct;or=1;var r=z(),e=xo();function t(){e.call(this)}return r(t,e),t.prototype.removeAllListeners=function(n){n?delete this._listeners[n]:this._listeners={}},t.prototype.once=function(n,o){var i=this,a=!1;function s(){i.removeListener(n,s),a||(a=!0,o.apply(this,arguments))}this.on(n,s)},t.prototype.emit=function(){var n=arguments[0],o=this._listeners[n];if(o){for(var i=arguments.length,a=new Array(i-1),s=1;s<i;s++)a[s-1]=arguments[s];for(var h=0;h<o.length;h++)o[h].apply(this,a)}},t.prototype.on=t.prototype.addListener=e.prototype.addEventListener,t.prototype.removeListener=e.prototype.removeEventListener,Ct.EventEmitter=t,Ct}var Ge={exports:{}},ir;function Os(){if(ir)return Ge.exports;ir=1;var r=P.WebSocket||P.MozWebSocket;return r?Ge.exports=function(t){return new r(t)}:Ge.exports=void 0,Ge.exports}var St,sr;function Rs(){if(sr)return St;sr=1;var r=be(),e=re(),t=z(),n=Z().EventEmitter,o=Os(),i=function(){};function a(s,h,f){if(!a.enabled())throw new Error("Transport created when disabled");n.call(this);var l=this,c=e.addPath(s,"/websocket");c.slice(0,5)==="https"?c="wss"+c.slice(5):c="ws"+c.slice(4),this.url=c,this.ws=new o(this.url,[],f),this.ws.onmessage=function(p){i("message event",p.data),l.emit("message",p.data)},this.unloadRef=r.unloadAdd(function(){l.ws.close()}),this.ws.onclose=function(p){i("close event",p.code,p.reason),l.emit("close",p.code,p.reason),l._cleanup()},this.ws.onerror=function(p){l.emit("close",1006,"WebSocket connection broken"),l._cleanup()}}return t(a,n),a.prototype.send=function(s){var h="["+s+"]";this.ws.send(h)},a.prototype.close=function(){var s=this.ws;this._cleanup(),s&&s.close()},a.prototype._cleanup=function(){var s=this.ws;s&&(s.onmessage=s.onclose=s.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},a.enabled=function(){return!!o},a.transportName="websocket",a.roundTrips=2,St=a,St}var Et,ar;function Ts(){if(ar)return Et;ar=1;var r=z(),e=Z().EventEmitter,t=function(){};function n(o,i){e.call(this),this.sendBuffer=[],this.sender=i,this.url=o}return r(n,e),n.prototype.send=function(o){this.sendBuffer.push(o),this.sendStop||this.sendSchedule()},n.prototype.sendScheduleWait=function(){var o=this,i;this.sendStop=function(){o.sendStop=null,clearTimeout(i)},i=setTimeout(function(){o.sendStop=null,o.sendSchedule()},25)},n.prototype.sendSchedule=function(){t("sendSchedule",this.sendBuffer.length);var o=this;if(this.sendBuffer.length>0){var i="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,i,function(a){o.sendStop=null,a?(o.emit("close",a.code||1006,"Sending error: "+a),o.close()):o.sendScheduleWait()}),this.sendBuffer=[]}},n.prototype._cleanup=function(){this.removeAllListeners()},n.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},Et=n,Et}var Ot,cr;function ks(){if(cr)return Ot;cr=1;var r=z(),e=Z().EventEmitter,t=function(){};function n(o,i,a){e.call(this),this.Receiver=o,this.receiveUrl=i,this.AjaxObject=a,this._scheduleReceiver()}return r(n,e),n.prototype._scheduleReceiver=function(){var o=this,i=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);i.on("message",function(a){o.emit("message",a)}),i.once("close",function(a,s){t("close",a,s,o.pollIsClosing),o.poll=i=null,o.pollIsClosing||(s==="network"?o._scheduleReceiver():(o.emit("close",a||1006,s),o.removeAllListeners()))})},n.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},Ot=n,Ot}var Rt,lr;function So(){if(lr)return Rt;lr=1;var r=z(),e=re(),t=Ts(),n=ks();function o(i,a,s,h,f){var l=e.addPath(i,a),c=this;t.call(this,i,s),this.poll=new n(h,l,f),this.poll.on("message",function(p){c.emit("message",p)}),this.poll.once("close",function(p,C){c.poll=null,c.emit("close",p,C),c.close()})}return r(o,t),o.prototype.close=function(){t.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},Rt=o,Rt}var Tt,ur;function Te(){if(ur)return Tt;ur=1;var r=z(),e=re(),t=So();function n(i){return function(a,s,h){var f={};typeof s=="string"&&(f.headers={"Content-type":"text/plain"});var l=e.addPath(a,"/xhr_send"),c=new i("POST",l,s,f);return c.once("finish",function(p){if(c=null,p!==200&&p!==204)return h(new Error("http status "+p));h()}),function(){c.close(),c=null;var p=new Error("Aborted");p.code=1e3,h(p)}}}function o(i,a,s,h){t.call(this,i,a,n(h),s,h)}return r(o,t),Tt=o,Tt}var kt,fr;function nt(){if(fr)return kt;fr=1;var r=z(),e=Z().EventEmitter;function t(n,o){e.call(this);var i=this;this.bufferPosition=0,this.xo=new o("POST",n,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(a,s){i._chunkHandler(a,s),i.xo=null;var h=a===200?"network":"permanent";i.emit("close",null,h),i._cleanup()})}return r(t,e),t.prototype._chunkHandler=function(n,o){if(!(n!==200||!o))for(var i=-1;;this.bufferPosition+=i+1){var a=o.slice(this.bufferPosition);if(i=a.indexOf(`
`),i===-1)break;var s=a.slice(0,i);s&&this.emit("message",s)}},t.prototype._cleanup=function(){this.removeAllListeners()},t.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},kt=t,kt}var Nt,dr;function Eo(){if(dr)return Nt;dr=1;var r=Z().EventEmitter,e=z(),t=be(),n=re(),o=P.XMLHttpRequest,i=function(){};function a(f,l,c,p){var C=this;r.call(this),setTimeout(function(){C._start(f,l,c,p)},0)}e(a,r),a.prototype._start=function(f,l,c,p){var C=this;try{this.xhr=new o}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}l=n.addQuery(l,"t="+ +new Date),this.unloadRef=t.unloadAdd(function(){C._cleanup(!0)});try{this.xhr.open(f,l,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){i("xhr timeout"),C.emit("finish",0,""),C._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!p||!p.noCredentials)&&a.supportsCORS&&(this.xhr.withCredentials=!0),p&&p.headers)for(var I in p.headers)this.xhr.setRequestHeader(I,p.headers[I]);this.xhr.onreadystatechange=function(){if(C.xhr){var D=C.xhr,H,W;switch(i("readyState",D.readyState),D.readyState){case 3:try{W=D.status,H=D.responseText}catch{}W===1223&&(W=204),W===200&&H&&H.length>0&&C.emit("chunk",W,H);break;case 4:W=D.status,W===1223&&(W=204),(W===12005||W===12029)&&(W=0),i("finish",W,D.responseText),C.emit("finish",W,D.responseText),C._cleanup(!1);break}}};try{C.xhr.send(c)}catch{C.emit("finish",0,""),C._cleanup(!1)}},a.prototype._cleanup=function(f){if(this.xhr){if(this.removeAllListeners(),t.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),f)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}},a.prototype.close=function(){this._cleanup(!0)},a.enabled=!!o;var s=["Active"].concat("Object").join("X");!a.enabled&&s in P&&(o=function(){try{return new P[s]("Microsoft.XMLHTTP")}catch{return null}},a.enabled=!!new o);var h=!1;try{h="withCredentials"in new o}catch{}return a.supportsCORS=h,Nt=a,Nt}var jt,hr;function rt(){if(hr)return jt;hr=1;var r=z(),e=Eo();function t(n,o,i,a){e.call(this,n,o,i,a)}return r(t,e),t.enabled=e.enabled&&e.supportsCORS,jt=t,jt}var It,pr;function Le(){if(pr)return It;pr=1;var r=z(),e=Eo();function t(n,o,i){e.call(this,n,o,i,{noCredentials:!0})}return r(t,e),t.enabled=e.enabled,It=t,It}var Mt,mr;function qe(){return mr||(mr=1,Mt={isOpera:function(){return P.navigator&&/opera/i.test(P.navigator.userAgent)},isKonqueror:function(){return P.navigator&&/konqueror/i.test(P.navigator.userAgent)},hasDomain:function(){if(!P.document)return!0;try{return!!P.document.domain}catch{return!1}}}),Mt}var Dt,vr;function Ns(){if(vr)return Dt;vr=1;var r=z(),e=Te(),t=nt(),n=rt(),o=Le(),i=qe();function a(s){if(!o.enabled&&!n.enabled)throw new Error("Transport created when disabled");e.call(this,s,"/xhr_streaming",t,n)}return r(a,e),a.enabled=function(s){return s.nullOrigin||i.isOpera()?!1:n.enabled},a.transportName="xhr-streaming",a.roundTrips=2,a.needBody=!!P.document,Dt=a,Dt}var At,gr;function yn(){if(gr)return At;gr=1;var r=Z().EventEmitter,e=z(),t=be(),n=qe(),o=re(),i=function(){};function a(s,h,f){var l=this;r.call(this),setTimeout(function(){l._start(s,h,f)},0)}return e(a,r),a.prototype._start=function(s,h,f){var l=this,c=new P.XDomainRequest;h=o.addQuery(h,"t="+ +new Date),c.onerror=function(){l._error()},c.ontimeout=function(){l._error()},c.onprogress=function(){i("progress",c.responseText),l.emit("chunk",200,c.responseText)},c.onload=function(){l.emit("finish",200,c.responseText),l._cleanup(!1)},this.xdr=c,this.unloadRef=t.unloadAdd(function(){l._cleanup(!0)});try{this.xdr.open(s,h),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(f)}catch{this._error()}},a.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},a.prototype._cleanup=function(s){if(this.xdr){if(this.removeAllListeners(),t.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,s)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}},a.prototype.close=function(){this._cleanup(!0)},a.enabled=!!(P.XDomainRequest&&n.hasDomain()),At=a,At}var Pt,br;function Oo(){if(br)return Pt;br=1;var r=z(),e=Te(),t=nt(),n=yn();function o(i){if(!n.enabled)throw new Error("Transport created when disabled");e.call(this,i,"/xhr_streaming",t,n)}return r(o,e),o.enabled=function(i){return i.cookie_needed||i.nullOrigin?!1:n.enabled&&i.sameScheme},o.transportName="xdr-streaming",o.roundTrips=2,Pt=o,Pt}var Lt,yr;function Ro(){return yr||(yr=1,Lt=P.EventSource),Lt}var qt,_r;function js(){if(_r)return qt;_r=1;var r=z(),e=Z().EventEmitter,t=Ro(),n=function(){};function o(i){e.call(this);var a=this,s=this.es=new t(i);s.onmessage=function(h){n("message",h.data),a.emit("message",decodeURI(h.data))},s.onerror=function(h){n("error",s.readyState);var f=s.readyState!==2?"network":"permanent";a._cleanup(),a._close(f)}}return r(o,e),o.prototype.abort=function(){this._cleanup(),this._close("user")},o.prototype._cleanup=function(){var i=this.es;i&&(i.onmessage=i.onerror=null,i.close(),this.es=null)},o.prototype._close=function(i){var a=this;setTimeout(function(){a.emit("close",null,i),a.removeAllListeners()},200)},qt=o,qt}var Ut,wr;function Cr(){if(wr)return Ut;wr=1;var r=z(),e=Te(),t=js(),n=rt(),o=Ro();function i(a){if(!i.enabled())throw new Error("Transport created when disabled");e.call(this,a,"/eventsource",t,n)}return r(i,e),i.enabled=function(){return!!o},i.transportName="eventsource",i.roundTrips=2,Ut=i,Ut}var $t,xr;function To(){return xr||(xr=1,$t="1.6.1"),$t}var Ht={exports:{}},Sr;function Ue(){return Sr||(Sr=1,function(r){var e=be(),t=qe();r.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){r.exports.WPrefix in P||(P[r.exports.WPrefix]={})},postMessage:function(n,o){P.parent!==P&&P.parent.postMessage(JSON.stringify({windowId:r.exports.currentWindowId,type:n,data:o||""}),"*")},createIframe:function(n,o){var i=P.document.createElement("iframe"),a,s,h=function(){clearTimeout(a);try{i.onload=null}catch{}i.onerror=null},f=function(){i&&(h(),setTimeout(function(){i&&i.parentNode.removeChild(i),i=null},0),e.unloadDel(s))},l=function(p){i&&(f(),o(p))},c=function(p,C){setTimeout(function(){try{i&&i.contentWindow&&i.contentWindow.postMessage(p,C)}catch{}},0)};return i.src=n,i.style.display="none",i.style.position="absolute",i.onerror=function(){l("onerror")},i.onload=function(){clearTimeout(a),a=setTimeout(function(){l("onload timeout")},2e3)},P.document.body.appendChild(i),a=setTimeout(function(){l("timeout")},15e3),s=e.unloadAdd(f),{post:c,cleanup:f,loaded:h}},createHtmlfile:function(n,o){var i=["Active"].concat("Object").join("X"),a=new P[i]("htmlfile"),s,h,f,l=function(){clearTimeout(s),f.onerror=null},c=function(){a&&(l(),e.unloadDel(h),f.parentNode.removeChild(f),f=a=null,CollectGarbage())},p=function(D){a&&(c(),o(D))},C=function(D,H){try{setTimeout(function(){f&&f.contentWindow&&f.contentWindow.postMessage(D,H)},0)}catch{}};a.open(),a.write('<html><script>document.domain="'+P.document.domain+'";<\/script></html>'),a.close(),a.parentWindow[r.exports.WPrefix]=P[r.exports.WPrefix];var I=a.createElement("div");return a.body.appendChild(I),f=a.createElement("iframe"),I.appendChild(f),f.src=n,f.onerror=function(){p("onerror")},s=setTimeout(function(){p("timeout")},15e3),h=e.unloadAdd(c),{post:C,cleanup:c,loaded:l}}},r.exports.iframeEnabled=!1,P.document&&(r.exports.iframeEnabled=(typeof P.postMessage=="function"||typeof P.postMessage=="object")&&!t.isKonqueror())}(Ht)),Ht.exports}var Ft,Er;function ko(){if(Er)return Ft;Er=1;var r=z(),e=Z().EventEmitter,t=To(),n=re(),o=Ue(),i=be(),a=Re(),s=function(){};function h(f,l,c){if(!h.enabled())throw new Error("Transport created when disabled");e.call(this);var p=this;this.origin=n.getOrigin(c),this.baseUrl=c,this.transUrl=l,this.transport=f,this.windowId=a.string(8);var C=n.addPath(c,"/iframe.html")+"#"+this.windowId;this.iframeObj=o.createIframe(C,function(I){p.emit("close",1006,"Unable to load an iframe ("+I+")"),p.close()}),this.onmessageCallback=this._message.bind(this),i.attachEvent("message",this.onmessageCallback)}return r(h,e),h.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){i.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},h.prototype._message=function(f){if(s("message",f.data),!n.isOriginEqual(f.origin,this.origin)){s("not same origin",f.origin,this.origin);return}var l;try{l=JSON.parse(f.data)}catch{s("bad json",f.data);return}if(l.windowId!==this.windowId){s("mismatched window id",l.windowId,this.windowId);return}switch(l.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([t,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",l.data);break;case"c":var c;try{c=JSON.parse(l.data)}catch{s("bad json",l.data);return}this.emit("close",c[0],c[1]),this.close();break}},h.prototype.postMessage=function(f,l){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:f,data:l||""}),this.origin)},h.prototype.send=function(f){this.postMessage("m",f)},h.enabled=function(){return o.iframeEnabled},h.transportName="iframe",h.roundTrips=2,Ft=h,Ft}var Wt,Or;function _n(){return Or||(Or=1,Wt={isObject:function(r){var e=typeof r;return e==="function"||e==="object"&&!!r},extend:function(r){if(!this.isObject(r))return r;for(var e,t,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}return r}}),Wt}var Bt,Rr;function Vt(){if(Rr)return Bt;Rr=1;var r=z(),e=ko(),t=_n();return Bt=function(n){function o(i,a){e.call(this,n.transportName,i,a)}return r(o,e),o.enabled=function(i,a){if(!P.document)return!1;var s=t.extend({},a);return s.sameOrigin=!0,n.enabled(s)&&e.enabled()},o.transportName="iframe-"+n.transportName,o.needBody=!0,o.roundTrips=e.roundTrips+n.roundTrips-1,o.facadeTransport=n,o},Bt}var Xt,Tr;function Is(){if(Tr)return Xt;Tr=1;var r=z(),e=Ue(),t=re(),n=Z().EventEmitter,o=Re(),i=function(){};function a(h){n.call(this);var f=this;e.polluteGlobalNamespace(),this.id="a"+o.string(6),h=t.addQuery(h,"c="+decodeURIComponent(e.WPrefix+"."+this.id)),i("using htmlfile",a.htmlfileEnabled);var l=a.htmlfileEnabled?e.createHtmlfile:e.createIframe;P[e.WPrefix][this.id]={start:function(){f.iframeObj.loaded()},message:function(c){f.emit("message",c)},stop:function(){f._cleanup(),f._close("network")}},this.iframeObj=l(h,function(){f._cleanup(),f._close("permanent")})}r(a,n),a.prototype.abort=function(){this._cleanup(),this._close("user")},a.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete P[e.WPrefix][this.id]},a.prototype._close=function(h){this.emit("close",null,h),this.removeAllListeners()},a.htmlfileEnabled=!1;var s=["Active"].concat("Object").join("X");if(s in P)try{a.htmlfileEnabled=!!new P[s]("htmlfile")}catch{}return a.enabled=a.htmlfileEnabled||e.iframeEnabled,Xt=a,Xt}var zt,kr;function Nr(){if(kr)return zt;kr=1;var r=z(),e=Is(),t=Le(),n=Te();function o(i){if(!e.enabled)throw new Error("Transport created when disabled");n.call(this,i,"/htmlfile",e,t)}return r(o,n),o.enabled=function(i){return e.enabled&&i.sameOrigin},o.transportName="htmlfile",o.roundTrips=2,zt=o,zt}var Jt,jr;function Ir(){if(jr)return Jt;jr=1;var r=z(),e=Te(),t=nt(),n=rt(),o=Le();function i(a){if(!o.enabled&&!n.enabled)throw new Error("Transport created when disabled");e.call(this,a,"/xhr",t,n)}return r(i,e),i.enabled=function(a){return a.nullOrigin?!1:o.enabled&&a.sameOrigin?!0:n.enabled},i.transportName="xhr-polling",i.roundTrips=2,Jt=i,Jt}var Gt,Mr;function Ms(){if(Mr)return Gt;Mr=1;var r=z(),e=Te(),t=Oo(),n=nt(),o=yn();function i(a){if(!o.enabled)throw new Error("Transport created when disabled");e.call(this,a,"/xhr",n,o)}return r(i,e),i.enabled=t.enabled,i.transportName="xdr-polling",i.roundTrips=2,Gt=i,Gt}var Yt,Dr;function Ds(){if(Dr)return Yt;Dr=1;var r=Ue(),e=Re(),t=qe(),n=re(),o=z(),i=Z().EventEmitter,a=function(){};function s(h){var f=this;i.call(this),r.polluteGlobalNamespace(),this.id="a"+e.string(6);var l=n.addQuery(h,"c="+encodeURIComponent(r.WPrefix+"."+this.id));P[r.WPrefix][this.id]=this._callback.bind(this),this._createScript(l),this.timeoutId=setTimeout(function(){f._abort(new Error("JSONP script loaded abnormally (timeout)"))},s.timeout)}return o(s,i),s.prototype.abort=function(){if(P[r.WPrefix][this.id]){var h=new Error("JSONP user aborted read");h.code=1e3,this._abort(h)}},s.timeout=35e3,s.scriptErrorTimeout=1e3,s.prototype._callback=function(h){this._cleanup(),!this.aborting&&(h&&this.emit("message",h),this.emit("close",null,"network"),this.removeAllListeners())},s.prototype._abort=function(h){this._cleanup(),this.aborting=!0,this.emit("close",h.code,h.message),this.removeAllListeners()},s.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var h=this.script;h.parentNode.removeChild(h),h.onreadystatechange=h.onerror=h.onload=h.onclick=null,this.script=null}delete P[r.WPrefix][this.id]},s.prototype._scriptError=function(){var h=this;this.errorTimer||(this.errorTimer=setTimeout(function(){h.loadedOkay||h._abort(new Error("JSONP script loaded abnormally (onerror)"))},s.scriptErrorTimeout))},s.prototype._createScript=function(h){var f=this,l=this.script=P.document.createElement("script"),c;if(l.id="a"+e.string(8),l.src=h,l.type="text/javascript",l.charset="UTF-8",l.onerror=this._scriptError.bind(this),l.onload=function(){f._abort(new Error("JSONP script loaded abnormally (onload)"))},l.onreadystatechange=function(){if(a("onreadystatechange",l.readyState),/loaded|closed/.test(l.readyState)){if(l&&l.htmlFor&&l.onclick){f.loadedOkay=!0;try{l.onclick()}catch{}}l&&f._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof l.async>"u"&&P.document.attachEvent)if(t.isOpera())c=this.script2=P.document.createElement("script"),c.text="try{var a = document.getElementById('"+l.id+"'); if(a)a.onerror();}catch(x){};",l.async=c.async=!1;else{try{l.htmlFor=l.id,l.event="onclick"}catch{}l.async=!0}typeof l.async<"u"&&(l.async=!0);var p=P.document.getElementsByTagName("head")[0];p.insertBefore(l,p.firstChild),c&&p.insertBefore(c,p.firstChild)},Yt=s,Yt}var Kt,Ar;function As(){if(Ar)return Kt;Ar=1;var r=Re(),e=re(),t=function(){},n,o;function i(s){try{return P.document.createElement('<iframe name="'+s+'">')}catch{var h=P.document.createElement("iframe");return h.name=s,h}}function a(){n=P.document.createElement("form"),n.style.display="none",n.style.position="absolute",n.method="POST",n.enctype="application/x-www-form-urlencoded",n.acceptCharset="UTF-8",o=P.document.createElement("textarea"),o.name="d",n.appendChild(o),P.document.body.appendChild(n)}return Kt=function(s,h,f){n||a();var l="a"+r.string(8);n.target=l,n.action=e.addQuery(e.addPath(s,"/jsonp_send"),"i="+l);var c=i(l);c.id=l,c.style.display="none",n.appendChild(c);try{o.value=h}catch{}n.submit();var p=function(C){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,setTimeout(function(){c.parentNode.removeChild(c),c=null},500),o.value="",f(C))};return c.onerror=function(){p()},c.onload=function(){p()},c.onreadystatechange=function(C){t("onreadystatechange",l,c.readyState),c.readyState==="complete"&&p()},function(){p(new Error("Aborted"))}},Kt}var Qt,Pr;function Ps(){if(Pr)return Qt;Pr=1;var r=z(),e=So(),t=Ds(),n=As();function o(i){if(!o.enabled())throw new Error("Transport created when disabled");e.call(this,i,"/jsonp",n,t)}return r(o,e),o.enabled=function(){return!!P.document},o.transportName="jsonp-polling",o.roundTrips=1,o.needBody=!0,Qt=o,Qt}var Zt,Lr;function Ls(){return Lr||(Lr=1,Zt=[Rs(),Ns(),Oo(),Cr(),Vt()(Cr()),Nr(),Vt()(Nr()),Ir(),Ms(),Vt()(Ir()),Ps()]),Zt}var qr={},Ur;function qs(){if(Ur)return qr;Ur=1;var r=Array.prototype,e=Object.prototype,t=Function.prototype,n=String.prototype,o=r.slice,i=e.toString,a=function(S){return e.toString.call(S)==="[object Function]"},s=function(y){return i.call(y)==="[object Array]"},h=function(y){return i.call(y)==="[object String]"},f=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),l;f?l=function(S,y,O,R){!R&&y in S||Object.defineProperty(S,y,{configurable:!0,enumerable:!1,writable:!0,value:O})}:l=function(S,y,O,R){!R&&y in S||(S[y]=O)};var c=function(S,y,O){for(var R in y)e.hasOwnProperty.call(y,R)&&l(S,R,y[R],O)},p=function(S){if(S==null)throw new TypeError("can't convert "+S+" to object");return Object(S)};function C(S){var y=+S;return y!==y?y=0:y!==0&&y!==1/0&&y!==-1/0&&(y=(y>0||-1)*Math.floor(Math.abs(y))),y}function I(S){return S>>>0}function D(){}c(t,{bind:function(y){var O=this;if(!a(O))throw new TypeError("Function.prototype.bind called on incompatible "+O);for(var R=o.call(arguments,1),E=function(){if(this instanceof u){var b=O.apply(this,R.concat(o.call(arguments)));return Object(b)===b?b:this}else return O.apply(y,R.concat(o.call(arguments)))},A=Math.max(0,O.length-R.length),x=[],_=0;_<A;_++)x.push("$"+_);var u=Function("binder","return function ("+x.join(",")+"){ return binder.apply(this, arguments); }")(E);return O.prototype&&(D.prototype=O.prototype,u.prototype=new D,D.prototype=null),u}}),c(Array,{isArray:s});var H=Object("a"),W=H[0]!=="a"||!(0 in H),v=function(y){var O=!0,R=!0;return y&&(y.call("foo",function(E,A,x){typeof x!="object"&&(O=!1)}),y.call([1],function(){R=typeof this=="string"},"x")),!!y&&O&&R};c(r,{forEach:function(y){var O=p(this),R=W&&h(this)?this.split(""):O,E=arguments[1],A=-1,x=R.length>>>0;if(!a(y))throw new TypeError;for(;++A<x;)A in R&&y.call(E,R[A],A,O)}},!v(r.forEach));var T=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;c(r,{indexOf:function(y){var O=W&&h(this)?this.split(""):p(this),R=O.length>>>0;if(!R)return-1;var E=0;for(arguments.length>1&&(E=C(arguments[1])),E=E>=0?E:Math.max(0,R+E);E<R;E++)if(E in O&&O[E]===y)return E;return-1}},T);var m=n.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var S=/()??/.exec("")[1]===void 0;n.split=function(y,O){var R=this;if(y===void 0&&O===0)return[];if(i.call(y)!=="[object RegExp]")return m.call(this,y,O);var E=[],A=(y.ignoreCase?"i":"")+(y.multiline?"m":"")+(y.extended?"x":"")+(y.sticky?"y":""),x=0,_,u,b,d;for(y=new RegExp(y.source,A+"g"),R+="",S||(_=new RegExp("^"+y.source+"$(?!\\s)",A)),O=O===void 0?-1>>>0:I(O);(u=y.exec(R))&&(b=u.index+u[0].length,!(b>x&&(E.push(R.slice(x,u.index)),!S&&u.length>1&&u[0].replace(_,function(){for(var w=1;w<arguments.length-2;w++)arguments[w]===void 0&&(u[w]=void 0)}),u.length>1&&u.index<R.length&&r.push.apply(E,u.slice(1)),d=u[0].length,x=b,E.length>=O)));)y.lastIndex===u.index&&y.lastIndex++;return x===R.length?(d||!y.test(""))&&E.push(""):E.push(R.slice(x)),E.length>O?E.slice(0,O):E}}():"0".split(void 0,0).length&&(n.split=function(y,O){return y===void 0&&O===0?[]:m.call(this,y,O)});var g=n.substr,N="".substr&&"0b".substr(-1)!=="b";return c(n,{substr:function(y,O){return g.call(this,y<0&&(y=this.length+y)<0?0:y,O)}},N),qr}var en,$r;function Us(){if($r)return en;$r=1;var r=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,e,t=function(n){var o,i={},a=[];for(o=0;o<65536;o++)a.push(String.fromCharCode(o));return n.lastIndex=0,a.join("").replace(n,function(s){return i[s]="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),""}),n.lastIndex=0,i};return en={quote:function(n){var o=JSON.stringify(n);return r.lastIndex=0,r.test(o)?(e||(e=t(r)),o.replace(r,function(i){return e[i]})):o}},en}var tn,Hr;function $s(){if(Hr)return tn;Hr=1;var r=function(){};return tn=function(e){return{filterToEnabled:function(t,n){var o={main:[],facade:[]};return t?typeof t=="string"&&(t=[t]):t=[],e.forEach(function(i){if(i&&!(i.transportName==="websocket"&&n.websocket===!1)){if(t.length&&t.indexOf(i.transportName)===-1){r("not in whitelist",i.transportName);return}i.enabled(n)?(r("enabled",i.transportName),o.main.push(i),i.facadeTransport&&o.facade.push(i.facadeTransport)):r("disabled",i.transportName)}}),o}}},tn}var nn,Fr;function Hs(){if(Fr)return nn;Fr=1;var r={};return["log","debug","warn"].forEach(function(e){var t;try{t=P.console&&P.console[e]&&P.console[e].apply}catch{}r[e]=t?function(){return P.console[e].apply(P.console,arguments)}:e==="log"?function(){}:r.log}),nn=r,nn}var rn,Wr;function wn(){if(Wr)return rn;Wr=1;function r(e){this.type=e}return r.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this},r.prototype.stopPropagation=function(){},r.prototype.preventDefault=function(){},r.CAPTURING_PHASE=1,r.AT_TARGET=2,r.BUBBLING_PHASE=3,rn=r,rn}var on,Br;function No(){return Br||(Br=1,on=P.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}),on}var sn,Vr;function Fs(){if(Vr)return sn;Vr=1;var r=z(),e=wn();function t(){e.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}return r(t,e),sn=t,sn}var an,Xr;function Ws(){if(Xr)return an;Xr=1;var r=z(),e=wn();function t(n){e.call(this),this.initEvent("message",!1,!1),this.data=n}return r(t,e),an=t,an}var cn,zr;function Bs(){if(zr)return cn;zr=1;var r=Z().EventEmitter,e=z();function t(){var n=this;r.call(this),this.to=setTimeout(function(){n.emit("finish",200,"{}")},t.timeout)}return e(t,r),t.prototype.close=function(){clearTimeout(this.to)},t.timeout=2e3,cn=t,cn}var ln,Jr;function jo(){if(Jr)return ln;Jr=1;var r=Z().EventEmitter,e=z(),t=_n();function n(o,i){r.call(this);var a=this,s=+new Date;this.xo=new i("GET",o),this.xo.once("finish",function(h,f){var l,c;if(h===200){if(c=+new Date-s,f)try{l=JSON.parse(f)}catch{}t.isObject(l)||(l={})}a.emit("finish",l,c),a.removeAllListeners()})}return e(n,r),n.prototype.close=function(){this.removeAllListeners(),this.xo.close()},ln=n,ln}var un,Gr;function Io(){if(Gr)return un;Gr=1;var r=z(),e=Z().EventEmitter,t=Le(),n=jo();function o(i){var a=this;e.call(this),this.ir=new n(i,t),this.ir.once("finish",function(s,h){a.ir=null,a.emit("message",JSON.stringify([s,h]))})}return r(o,e),o.transportName="iframe-info-receiver",o.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},un=o,un}var fn,Yr;function Vs(){if(Yr)return fn;Yr=1;var r=Z().EventEmitter,e=z(),t=be(),n=ko(),o=Io();function i(a,s){var h=this;r.call(this);var f=function(){var l=h.ifr=new n(o.transportName,s,a);l.once("message",function(c){if(c){var p;try{p=JSON.parse(c)}catch{h.emit("finish"),h.close();return}var C=p[0],I=p[1];h.emit("finish",C,I)}h.close()}),l.once("close",function(){h.emit("finish"),h.close()})};P.document.body?f():t.attachEvent("load",f)}return e(i,r),i.enabled=function(){return n.enabled()},i.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},fn=i,fn}var dn,Kr;function Xs(){if(Kr)return dn;Kr=1;var r=Z().EventEmitter,e=z(),t=re(),n=yn(),o=rt(),i=Le(),a=Bs(),s=Vs(),h=jo();function f(l,c){var p=this;r.call(this),setTimeout(function(){p.doXhr(l,c)},0)}return e(f,r),f._getReceiver=function(l,c,p){return p.sameOrigin?new h(c,i):o.enabled?new h(c,o):n.enabled&&p.sameScheme?new h(c,n):s.enabled()?new s(l,c):new h(c,a)},f.prototype.doXhr=function(l,c){var p=this,C=t.addPath(l,"/info");this.xo=f._getReceiver(l,C,c),this.timeoutRef=setTimeout(function(){p._cleanup(!1),p.emit("finish")},f.timeout),this.xo.once("finish",function(I,D){p._cleanup(!0),p.emit("finish",I,D)})},f.prototype._cleanup=function(l){clearTimeout(this.timeoutRef),this.timeoutRef=null,!l&&this.xo&&this.xo.close(),this.xo=null},f.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},f.timeout=8e3,dn=f,dn}var hn,Qr;function zs(){if(Qr)return hn;Qr=1;var r=Ue();function e(t){this._transport=t,t.on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}return e.prototype._transportClose=function(t,n){r.postMessage("c",JSON.stringify([t,n]))},e.prototype._transportMessage=function(t){r.postMessage("t",t)},e.prototype._send=function(t){this._transport.send(t)},e.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},hn=e,hn}var pn,Zr;function Js(){if(Zr)return pn;Zr=1;var r=re(),e=be(),t=zs(),n=Io(),o=Ue(),i=No(),a=function(){};return pn=function(s,h){var f={};h.forEach(function(c){c.facadeTransport&&(f[c.facadeTransport.transportName]=c.facadeTransport)}),f[n.transportName]=n;var l;s.bootstrap_iframe=function(){var c;o.currentWindowId=i.hash.slice(1);var p=function(C){if(C.source===parent&&(typeof l>"u"&&(l=C.origin),C.origin===l)){var I;try{I=JSON.parse(C.data)}catch{a("bad json",C.data);return}if(I.windowId===o.currentWindowId)switch(I.type){case"s":var D;try{D=JSON.parse(I.data)}catch{a("bad json",I.data);break}var H=D[0],W=D[1],v=D[2],T=D[3];if(H!==s.version)throw new Error('Incompatible SockJS! Main site uses: "'+H+'", the iframe: "'+s.version+'".');if(!r.isOriginEqual(v,i.href)||!r.isOriginEqual(T,i.href))throw new Error("Can't connect to different domain from within an iframe. ("+i.href+", "+v+", "+T+")");c=new t(new f[W](v,T));break;case"m":c._send(I.data);break;case"c":c&&c._close(),c=null;break}}};e.attachEvent("message",p),o.postMessage("s")}},pn}var mn,eo;function Gs(){if(eo)return mn;eo=1,qs();var r=Co(),e=z(),t=Re(),n=Us(),o=re(),i=be(),a=$s(),s=_n(),h=qe(),f=Hs(),l=wn(),c=xo(),p=No(),C=Fs(),I=Ws(),D=Xs(),H=function(){},W;function v(m,g,N){if(!(this instanceof v))return new v(m,g,N);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");c.call(this),this.readyState=v.CONNECTING,this.extensions="",this.protocol="",N=N||{},N.protocols_whitelist&&f.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=N.transports,this._transportOptions=N.transportOptions||{},this._timeout=N.timeout||0;var S=N.sessionId||8;if(typeof S=="function")this._generateSessionId=S;else if(typeof S=="number")this._generateSessionId=function(){return t.string(S)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=N.server||t.numberString(1e3);var y=new r(m);if(!y.host||!y.protocol)throw new SyntaxError("The URL '"+m+"' is invalid");if(y.hash)throw new SyntaxError("The URL must not contain a fragment");if(y.protocol!=="http:"&&y.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+y.protocol+"' is not allowed.");var O=y.protocol==="https:";if(p.protocol==="https:"&&!O&&!o.isLoopbackAddr(y.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");g?Array.isArray(g)||(g=[g]):g=[];var R=g.sort();R.forEach(function(A,x){if(!A)throw new SyntaxError("The protocols entry '"+A+"' is invalid.");if(x<R.length-1&&A===R[x+1])throw new SyntaxError("The protocols entry '"+A+"' is duplicated.")});var E=o.getOrigin(p.href);this._origin=E?E.toLowerCase():null,y.set("pathname",y.pathname.replace(/\/+$/,"")),this.url=y.href,H("using url",this.url),this._urlInfo={nullOrigin:!h.hasDomain(),sameOrigin:o.isOriginEqual(this.url,p.href),sameScheme:o.isSchemeEqual(this.url,p.href)},this._ir=new D(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}e(v,c);function T(m){return m===1e3||m>=3e3&&m<=4999}return v.prototype.close=function(m,g){if(m&&!T(m))throw new Error("InvalidAccessError: Invalid code");if(g&&g.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===v.CLOSING||this.readyState===v.CLOSED)){var N=!0;this._close(m||1e3,g||"Normal closure",N)}},v.prototype.send=function(m){if(typeof m!="string"&&(m=""+m),this.readyState===v.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===v.OPEN&&this._transport.send(n.quote(m))},v.version=To(),v.CONNECTING=0,v.OPEN=1,v.CLOSING=2,v.CLOSED=3,v.prototype._receiveInfo=function(m,g){if(this._ir=null,!m){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(g),this._transUrl=m.base_url?m.base_url:this.url,m=s.extend(m,this._urlInfo);var N=W.filterToEnabled(this._transportsWhitelist,m);this._transports=N.main,H(this._transports.length+" enabled transports"),this._connect()},v.prototype._connect=function(){for(var m=this._transports.shift();m;m=this._transports.shift()){if(H("attempt",m.transportName),m.needBody&&(!P.document.body||typeof P.document.readyState<"u"&&P.document.readyState!=="complete"&&P.document.readyState!=="interactive")){this._transports.unshift(m),i.attachEvent("load",this._connect.bind(this));return}var g=Math.max(this._timeout,this._rto*m.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),g);var N=o.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),S=this._transportOptions[m.transportName],y=new m(N,this._transUrl,S);y.on("message",this._transportMessage.bind(this)),y.once("close",this._transportClose.bind(this)),y.transportName=m.transportName,this._transport=y;return}this._close(2e3,"All transports failed",!1)},v.prototype._transportTimeout=function(){this.readyState===v.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},v.prototype._transportMessage=function(m){var g=this,N=m.slice(0,1),S=m.slice(1),y;switch(N){case"o":this._open();return;case"h":this.dispatchEvent(new l("heartbeat")),H("heartbeat",this.transport);return}if(S)try{y=JSON.parse(S)}catch{}if(!(typeof y>"u"))switch(N){case"a":Array.isArray(y)&&y.forEach(function(O){H("message",g.transport),g.dispatchEvent(new I(O))});break;case"m":H("message",this.transport),this.dispatchEvent(new I(y));break;case"c":Array.isArray(y)&&y.length===2&&this._close(y[0],y[1],!0);break}},v.prototype._transportClose=function(m,g){if(H("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!T(m)&&m!==2e3&&this.readyState===v.CONNECTING){this._connect();return}this._close(m,g)},v.prototype._open=function(){H("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===v.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=v.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new l("open")),H("connected",this.transport)):this._close(1006,"Server lost session")},v.prototype._close=function(m,g,N){H("_close",this.transport,m,g,N,this.readyState);var S=!1;if(this._ir&&(S=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===v.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=v.CLOSING,setTimeout((function(){this.readyState=v.CLOSED,S&&this.dispatchEvent(new l("error"));var y=new C("close");y.wasClean=N||!1,y.code=m||1e3,y.reason=g,this.dispatchEvent(y),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)},v.prototype.countRTO=function(m){return m>100?4*m:300+m},mn=function(m){return W=a(m),Js()(v,m),v},mn}var vn,to;function Ys(){if(to)return vn;to=1;var r=Ls();return vn=Gs()(r),"_sockjs_onload"in P&&setTimeout(P._sockjs_onload,1),vn}var Ks=Ys();const Qs=gn(Ks);function Zs(r,e){r.terminate=function(){const t=()=>{};this.onerror=t,this.onmessage=t,this.onopen=t;const n=new Date,o=Math.random().toString().substring(2,8),i=this.onclose;this.onclose=a=>{const s=new Date().getTime()-n.getTime();e(`Discarded socket (#${o})  closed after ${s}ms, with code/reason: ${a.code}/${a.reason}`)},this.close(),i==null||i.call(r,{code:4001,reason:`Quick discarding socket (#${o}) without waiting for the shutdown sequence.`,wasClean:!1})}}const Ie={LF:`
`,NULL:"\0"};class me{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(e){const{command:t,headers:n,body:o,binaryBody:i,escapeHeaderValues:a,skipContentLengthHeader:s}=e;this.command=t,this.headers=Object.assign({},n||{}),i?(this._binaryBody=i,this.isBinaryBody=!0):(this._body=o||"",this.isBinaryBody=!1),this.escapeHeaderValues=a||!1,this.skipContentLengthHeader=s||!1}static fromRawFrame(e,t){const n={},o=i=>i.replace(/^\s+|\s+$/g,"");for(const i of e.headers.reverse()){i.indexOf(":");const a=o(i[0]);let s=o(i[1]);t&&e.command!=="CONNECT"&&e.command!=="CONNECTED"&&(s=me.hdrValueUnEscape(s)),n[a]=s}return new me({command:e.command,headers:n,binaryBody:e.binaryBody,escapeHeaderValues:t})}toString(){return this.serializeCmdAndHeaders()}serialize(){const e=this.serializeCmdAndHeaders();return this.isBinaryBody?me.toUnit8Array(e,this._binaryBody).buffer:e+this._body+Ie.NULL}serializeCmdAndHeaders(){const e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const t of Object.keys(this.headers||{})){const n=this.headers[t];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?e.push(`${t}:${me.hdrValueEscape(`${n}`)}`):e.push(`${t}:${n}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&e.push(`content-length:${this.bodyLength()}`),e.join(Ie.LF)+Ie.LF+Ie.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const e=this.binaryBody;return e?e.length:0}static sizeOfUTF8(e){return e?new TextEncoder().encode(e).length:0}static toUnit8Array(e,t){const n=new TextEncoder().encode(e),o=new Uint8Array([0]),i=new Uint8Array(n.length+t.length+o.length);return i.set(n),i.set(t,n.length),i.set(o,n.length+t.length),i}static marshall(e){return new me(e).serialize()}static hdrValueEscape(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const no=0,Ye=10,Ke=13,ea=58;class ta{constructor(e,t){this.onFrame=e,this.onIncomingPing=t,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(e,t=!1){let n;if(typeof e=="string"?n=this._encoder.encode(e):n=new Uint8Array(e),t&&n[n.length-1]!==0){const o=new Uint8Array(n.length+1);o.set(n,0),o[n.length]=0,n=o}for(let o=0;o<n.length;o++){const i=n[o];this._onByte(i)}}_collectFrame(e){if(e!==no&&e!==Ke){if(e===Ye){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(e)}}_collectCommand(e){if(e!==Ke){if(e===Ye){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_collectHeaders(e){if(e!==Ke){if(e===Ye){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(e)}}_reinjectByte(e){this._onByte(e)}_collectHeaderKey(e){if(e===ea){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(e)}_collectHeaderValue(e){if(e!==Ke){if(e===Ye){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_setupCollectBody(){const e=this._results.headers.filter(t=>t[0]==="content-length")[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(e){if(e===no){this._retrievedBody();return}this._consumeByte(e)}_collectBodyFixedSize(e){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(e)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(e){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",e)}this._initState()}_consumeByte(e){this._token.push(e)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const e=new Uint8Array(this._token);return this._token=[],e}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var ve;(function(r){r[r.CONNECTING=0]="CONNECTING",r[r.OPEN=1]="OPEN",r[r.CLOSING=2]="CLOSING",r[r.CLOSED=3]="CLOSED"})(ve||(ve={}));var ce;(function(r){r[r.ACTIVE=0]="ACTIVE",r[r.DEACTIVATING=1]="DEACTIVATING",r[r.INACTIVE=2]="INACTIVE"})(ce||(ce={}));var et;(function(r){r[r.LINEAR=0]="LINEAR",r[r.EXPONENTIAL=1]="EXPONENTIAL"})(et||(et={}));var Ae;(function(r){r.Interval="interval",r.Worker="worker"})(Ae||(Ae={}));class na{constructor(e,t=Ae.Interval,n){this._interval=e,this._strategy=t,this._debug=n,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(e){this.stop(),this.shouldUseWorker()?this.runWorker(e):this.runInterval(e)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===Ae.Worker}runWorker(e){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=t=>e(t.data))}runInterval(e){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const t=Date.now();this._timer=setInterval(()=>{e(Date.now()-t)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class Q{constructor(e){this.versions=e}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(e=>`v${e.replace(".","")}.stomp`)}}Q.V1_0="1.0";Q.V1_1="1.1";Q.V1_2="1.2";Q.default=new Q([Q.V1_2,Q.V1_1,Q.V1_0]);class ra{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(e,t,n){this._client=e,this._webSocket=t,this._connected=!1,this._serverFrameHandlers={CONNECTED:o=>{this.debug(`connected to server ${o.headers.server}`),this._connected=!0,this._connectedVersion=o.headers.version,this._connectedVersion===Q.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(o.headers),this.onConnect(o)},MESSAGE:o=>{const i=o.headers.subscription,a=this._subscriptions[i]||this.onUnhandledMessage,s=o,h=this,f=this._connectedVersion===Q.V1_2?s.headers.ack:s.headers["message-id"];s.ack=(l={})=>h.ack(f,i,l),s.nack=(l={})=>h.nack(f,i,l),a(s)},RECEIPT:o=>{const i=this._receiptWatchers[o.headers["receipt-id"]];i?(i(o),delete this._receiptWatchers[o.headers["receipt-id"]]):this.onUnhandledReceipt(o)},ERROR:o=>{this.onStompError(o)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=n.debug,this.stompVersions=n.stompVersions,this.connectHeaders=n.connectHeaders,this.disconnectHeaders=n.disconnectHeaders,this.heartbeatIncoming=n.heartbeatIncoming,this.heartbeatOutgoing=n.heartbeatOutgoing,this.splitLargeFrames=n.splitLargeFrames,this.maxWebSocketChunkSize=n.maxWebSocketChunkSize,this.forceBinaryWSFrames=n.forceBinaryWSFrames,this.logRawCommunication=n.logRawCommunication,this.appendMissingNULLonIncoming=n.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=n.discardWebsocketOnCommFailure,this.onConnect=n.onConnect,this.onDisconnect=n.onDisconnect,this.onStompError=n.onStompError,this.onWebSocketClose=n.onWebSocketClose,this.onWebSocketError=n.onWebSocketError,this.onUnhandledMessage=n.onUnhandledMessage,this.onUnhandledReceipt=n.onUnhandledReceipt,this.onUnhandledFrame=n.onUnhandledFrame}start(){const e=new ta(t=>{const n=me.fromRawFrame(t,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${n}`),(this._serverFrameHandlers[n.command]||this.onUnhandledFrame)(n)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=t=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const n=t.data instanceof ArrayBuffer?new TextDecoder().decode(t.data):t.data;this.debug(`<<< ${n}`)}e.parseChunk(t.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=t=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(t)},this._webSocket.onerror=t=>{this.onWebSocketError(t)},this._webSocket.onopen=()=>{const t=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),t["accept-version"]=this.stompVersions.supportedVersions(),t["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:t})}}_setupHeartbeat(e){if(e.version!==Q.V1_1&&e.version!==Q.V1_2||!e["heart-beat"])return;const[t,n]=e["heart-beat"].split(",").map(o=>parseInt(o,10));if(this.heartbeatOutgoing!==0&&n!==0){const o=Math.max(this.heartbeatOutgoing,n);this.debug(`send PING every ${o}ms`),this._pinger=new na(o,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===ve.OPEN&&(this._webSocket.send(Ie.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&t!==0){const o=Math.max(this.heartbeatIncoming,t);this.debug(`check PONG every ${o}ms`),this._ponger=setInterval(()=>{const i=Date.now()-this._lastServerActivityTS;i>o*2&&(this.debug(`did not receive server activity for the last ${i}ms`),this._closeOrDiscardWebsocket())},o)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===ve.CONNECTING||this._webSocket.readyState===ve.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&Zs(this._webSocket,e=>this.debug(e)),this._webSocket.terminate()}_transmit(e){const{command:t,headers:n,body:o,binaryBody:i,skipContentLengthHeader:a}=e,s=new me({command:t,headers:n,body:o,binaryBody:i,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:a});let h=s.serialize();if(this.logRawCommunication?this.debug(`>>> ${h}`):this.debug(`>>> ${s}`),this.forceBinaryWSFrames&&typeof h=="string"&&(h=new TextEncoder().encode(h)),typeof h!="string"||!this.splitLargeFrames)this._webSocket.send(h);else{let f=h;for(;f.length>0;){const l=f.substring(0,this.maxWebSocketChunkSize);f=f.substring(this.maxWebSocketChunkSize),this._webSocket.send(l),this.debug(`chunk sent = ${l.length}, remaining = ${f.length}`)}}}dispose(){if(this.connected)try{const e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt=`close-${this._counter++}`),this.watchForReceipt(e.receipt,t=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(t)}),this._transmit({command:"DISCONNECT",headers:e})}catch(e){this.debug(`Ignoring error during disconnect ${e}`)}else(this._webSocket.readyState===ve.CONNECTING||this._webSocket.readyState===ve.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(e){const{destination:t,headers:n,body:o,binaryBody:i,skipContentLengthHeader:a}=e,s=Object.assign({destination:t},n);this._transmit({command:"SEND",headers:s,body:o,binaryBody:i,skipContentLengthHeader:a})}watchForReceipt(e,t){this._receiptWatchers[e]=t}subscribe(e,t,n={}){n=Object.assign({},n),n.id||(n.id=`sub-${this._counter++}`),n.destination=e,this._subscriptions[n.id]=t,this._transmit({command:"SUBSCRIBE",headers:n});const o=this;return{id:n.id,unsubscribe(i){return o.unsubscribe(n.id,i)}}}unsubscribe(e,t={}){t=Object.assign({},t),delete this._subscriptions[e],t.id=e,this._transmit({command:"UNSUBSCRIBE",headers:t})}begin(e){const t=e||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:t}});const n=this;return{id:t,commit(){n.commit(t)},abort(){n.abort(t)}}}commit(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}abort(e){this._transmit({command:"ABORT",headers:{transaction:e}})}ack(e,t,n={}){n=Object.assign({},n),this._connectedVersion===Q.V1_2?n.id=e:n["message-id"]=e,n.subscription=t,this._transmit({command:"ACK",headers:n})}nack(e,t,n={}){return n=Object.assign({},n),this._connectedVersion===Q.V1_2?n.id=e:n["message-id"]=e,n.subscription=t,this._transmit({command:"NACK",headers:n})}}class oa{get webSocket(){var e;return(e=this._stompHandler)==null?void 0:e._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===ce.ACTIVE}_changeState(e){this.state=e,this.onChangeState(e)}constructor(e={}){this.stompVersions=Q.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=et.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=Ae.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=ce.INACTIVE;const t=()=>{};this.debug=t,this.beforeConnect=t,this.onConnect=t,this.onDisconnect=t,this.onUnhandledMessage=t,this.onUnhandledReceipt=t,this.onUnhandledFrame=t,this.onStompError=t,this.onWebSocketClose=t,this.onWebSocketError=t,this.logRawCommunication=!1,this.onChangeState=t,this.connectHeaders={},this._disconnectHeaders={},this.configure(e)}configure(e){Object.assign(this,e),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const e=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(ce.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===ce.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{e()})):e()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const e=this._createWebSocket();this._stompHandler=new ra(this,e,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:t=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(t)},onDisconnect:t=>{this.onDisconnect(t)},onStompError:t=>{this.onStompError(t)},onWebSocketClose:t=>{this._stompHandler=void 0,this.state===ce.DEACTIVATING&&this._changeState(ce.INACTIVE),this.onWebSocketClose(t),this.active&&this._schedule_reconnect()},onWebSocketError:t=>{this.onWebSocketError(t)},onUnhandledMessage:t=>{this.onUnhandledMessage(t)},onUnhandledReceipt:t=>{this.onUnhandledReceipt(t)},onUnhandledFrame:t=>{this.onUnhandledFrame(t)}}),this._stompHandler.start()}_createWebSocket(){let e;if(this.webSocketFactory)e=this.webSocketFactory();else if(this.brokerURL)e=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return e.binaryType="arraybuffer",e}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===et.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(e={}){var i;const t=e.force||!1,n=this.active;let o;if(this.state===ce.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(ce.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==ve.CLOSED){const a=this._stompHandler.onWebSocketClose;o=new Promise((s,h)=>{this._stompHandler.onWebSocketClose=f=>{a(f),s()}})}else return this._changeState(ce.INACTIVE),Promise.resolve();return t?(i=this._stompHandler)==null||i.discardWebsocket():n&&this._disposeStompHandler(),o}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(e){this._checkConnection(),this._stompHandler.publish(e)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(e,t){this._checkConnection(),this._stompHandler.watchForReceipt(e,t)}subscribe(e,t,n={}){return this._checkConnection(),this._stompHandler.subscribe(e,t,n)}unsubscribe(e,t={}){this._checkConnection(),this._stompHandler.unsubscribe(e,t)}begin(e){return this._checkConnection(),this._stompHandler.begin(e)}commit(e){this._checkConnection(),this._stompHandler.commit(e)}abort(e){this._checkConnection(),this._stompHandler.abort(e)}ack(e,t,n={}){this._checkConnection(),this._stompHandler.ack(e,t,n)}nack(e,t,n={}){this._checkConnection(),this._stompHandler.nack(e,t,n)}}var Qe={exports:{}},ia=Qe.exports,ro;function sa(){return ro||(ro=1,function(r,e){(function(t,n){r.exports=n()})(ia,function(){var t=1e3,n=6e4,o=36e5,i="millisecond",a="second",s="minute",h="hour",f="day",l="week",c="month",p="quarter",C="year",I="date",D="Invalid Date",H=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,W=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var u=["th","st","nd","rd"],b=_%100;return"["+_+(u[(b-20)%10]||u[b]||u[0])+"]"}},T=function(_,u,b){var d=String(_);return!d||d.length>=u?_:""+Array(u+1-d.length).join(b)+_},m={s:T,z:function(_){var u=-_.utcOffset(),b=Math.abs(u),d=Math.floor(b/60),w=b%60;return(u<=0?"+":"-")+T(d,2,"0")+":"+T(w,2,"0")},m:function _(u,b){if(u.date()<b.date())return-_(b,u);var d=12*(b.year()-u.year())+(b.month()-u.month()),w=u.clone().add(d,c),L=b-w<0,q=u.clone().add(d+(L?-1:1),c);return+(-(d+(b-w)/(L?w-q:q-w))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:c,y:C,w:l,d:f,D:I,h,m:s,s:a,ms:i,Q:p}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},g="en",N={};N[g]=v;var S="$isDayjsObject",y=function(_){return _ instanceof A||!(!_||!_[S])},O=function _(u,b,d){var w;if(!u)return g;if(typeof u=="string"){var L=u.toLowerCase();N[L]&&(w=L),b&&(N[L]=b,w=L);var q=u.split("-");if(!w&&q.length>1)return _(q[0])}else{var M=u.name;N[M]=u,w=M}return!d&&w&&(g=w),w||!d&&g},R=function(_,u){if(y(_))return _.clone();var b=typeof u=="object"?u:{};return b.date=_,b.args=arguments,new A(b)},E=m;E.l=O,E.i=y,E.w=function(_,u){return R(_,{locale:u.$L,utc:u.$u,x:u.$x,$offset:u.$offset})};var A=function(){function _(b){this.$L=O(b.locale,null,!0),this.parse(b),this.$x=this.$x||b.x||{},this[S]=!0}var u=_.prototype;return u.parse=function(b){this.$d=function(d){var w=d.date,L=d.utc;if(w===null)return new Date(NaN);if(E.u(w))return new Date;if(w instanceof Date)return new Date(w);if(typeof w=="string"&&!/Z$/i.test(w)){var q=w.match(H);if(q){var M=q[2]-1||0,$=(q[7]||"0").substring(0,3);return L?new Date(Date.UTC(q[1],M,q[3]||1,q[4]||0,q[5]||0,q[6]||0,$)):new Date(q[1],M,q[3]||1,q[4]||0,q[5]||0,q[6]||0,$)}}return new Date(w)}(b),this.init()},u.init=function(){var b=this.$d;this.$y=b.getFullYear(),this.$M=b.getMonth(),this.$D=b.getDate(),this.$W=b.getDay(),this.$H=b.getHours(),this.$m=b.getMinutes(),this.$s=b.getSeconds(),this.$ms=b.getMilliseconds()},u.$utils=function(){return E},u.isValid=function(){return this.$d.toString()!==D},u.isSame=function(b,d){var w=R(b);return this.startOf(d)<=w&&w<=this.endOf(d)},u.isAfter=function(b,d){return R(b)<this.startOf(d)},u.isBefore=function(b,d){return this.endOf(d)<R(b)},u.$g=function(b,d,w){return E.u(b)?this[d]:this.set(w,b)},u.unix=function(){return Math.floor(this.valueOf()/1e3)},u.valueOf=function(){return this.$d.getTime()},u.startOf=function(b,d){var w=this,L=!!E.u(d)||d,q=E.p(b),M=function(de,K){var le=E.w(w.$u?Date.UTC(w.$y,K,de):new Date(w.$y,K,de),w);return L?le:le.endOf(f)},$=function(de,K){return E.w(w.toDate()[de].apply(w.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(K)),w)},B=this.$W,X=this.$M,J=this.$D,oe="set"+(this.$u?"UTC":"");switch(q){case C:return L?M(1,0):M(31,11);case c:return L?M(1,X):M(0,X+1);case l:var te=this.$locale().weekStart||0,ye=(B<te?B+7:B)-te;return M(L?J-ye:J+(6-ye),X);case f:case I:return $(oe+"Hours",0);case h:return $(oe+"Minutes",1);case s:return $(oe+"Seconds",2);case a:return $(oe+"Milliseconds",3);default:return this.clone()}},u.endOf=function(b){return this.startOf(b,!1)},u.$set=function(b,d){var w,L=E.p(b),q="set"+(this.$u?"UTC":""),M=(w={},w[f]=q+"Date",w[I]=q+"Date",w[c]=q+"Month",w[C]=q+"FullYear",w[h]=q+"Hours",w[s]=q+"Minutes",w[a]=q+"Seconds",w[i]=q+"Milliseconds",w)[L],$=L===f?this.$D+(d-this.$W):d;if(L===c||L===C){var B=this.clone().set(I,1);B.$d[M]($),B.init(),this.$d=B.set(I,Math.min(this.$D,B.daysInMonth())).$d}else M&&this.$d[M]($);return this.init(),this},u.set=function(b,d){return this.clone().$set(b,d)},u.get=function(b){return this[E.p(b)]()},u.add=function(b,d){var w,L=this;b=Number(b);var q=E.p(d),M=function(X){var J=R(L);return E.w(J.date(J.date()+Math.round(X*b)),L)};if(q===c)return this.set(c,this.$M+b);if(q===C)return this.set(C,this.$y+b);if(q===f)return M(1);if(q===l)return M(7);var $=(w={},w[s]=n,w[h]=o,w[a]=t,w)[q]||1,B=this.$d.getTime()+b*$;return E.w(B,this)},u.subtract=function(b,d){return this.add(-1*b,d)},u.format=function(b){var d=this,w=this.$locale();if(!this.isValid())return w.invalidDate||D;var L=b||"YYYY-MM-DDTHH:mm:ssZ",q=E.z(this),M=this.$H,$=this.$m,B=this.$M,X=w.weekdays,J=w.months,oe=w.meridiem,te=function(K,le,_e,ue){return K&&(K[le]||K(d,L))||_e[le].slice(0,ue)},ye=function(K){return E.s(M%12||12,K,"0")},de=oe||function(K,le,_e){var ue=K<12?"AM":"PM";return _e?ue.toLowerCase():ue};return L.replace(W,function(K,le){return le||function(_e){switch(_e){case"YY":return String(d.$y).slice(-2);case"YYYY":return E.s(d.$y,4,"0");case"M":return B+1;case"MM":return E.s(B+1,2,"0");case"MMM":return te(w.monthsShort,B,J,3);case"MMMM":return te(J,B);case"D":return d.$D;case"DD":return E.s(d.$D,2,"0");case"d":return String(d.$W);case"dd":return te(w.weekdaysMin,d.$W,X,2);case"ddd":return te(w.weekdaysShort,d.$W,X,3);case"dddd":return X[d.$W];case"H":return String(M);case"HH":return E.s(M,2,"0");case"h":return ye(1);case"hh":return ye(2);case"a":return de(M,$,!0);case"A":return de(M,$,!1);case"m":return String($);case"mm":return E.s($,2,"0");case"s":return String(d.$s);case"ss":return E.s(d.$s,2,"0");case"SSS":return E.s(d.$ms,3,"0");case"Z":return q}return null}(K)||q.replace(":","")})},u.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},u.diff=function(b,d,w){var L,q=this,M=E.p(d),$=R(b),B=($.utcOffset()-this.utcOffset())*n,X=this-$,J=function(){return E.m(q,$)};switch(M){case C:L=J()/12;break;case c:L=J();break;case p:L=J()/3;break;case l:L=(X-B)/6048e5;break;case f:L=(X-B)/864e5;break;case h:L=X/o;break;case s:L=X/n;break;case a:L=X/t;break;default:L=X}return w?L:E.a(L)},u.daysInMonth=function(){return this.endOf(c).$D},u.$locale=function(){return N[this.$L]},u.locale=function(b,d){if(!b)return this.$L;var w=this.clone(),L=O(b,d,!0);return L&&(w.$L=L),w},u.clone=function(){return E.w(this.$d,this)},u.toDate=function(){return new Date(this.valueOf())},u.toJSON=function(){return this.isValid()?this.toISOString():null},u.toISOString=function(){return this.$d.toISOString()},u.toString=function(){return this.$d.toUTCString()},_}(),x=A.prototype;return R.prototype=x,[["$ms",i],["$s",a],["$m",s],["$H",h],["$W",f],["$M",c],["$y",C],["$D",I]].forEach(function(_){x[_[1]]=function(u){return this.$g(u,_[0],_[1])}}),R.extend=function(_,u){return _.$i||(_(u,A,R),_.$i=!0),R},R.locale=O,R.isDayjs=y,R.unix=function(_){return R(1e3*_)},R.en=N[g],R.Ls=N,R.p={},R})}(Qe)),Qe.exports}var aa=sa();const oo=gn(aa);Se.setAppElement("#root");function la(){const r=U.useRef(null),[e,t]=U.useState("javascript"),[n,o]=U.useState(""),[i,a]=U.useState(""),[s,h]=U.useState(!0),[f,l]=U.useState(null),[c,p]=U.useState(""),[C,I]=U.useState(!1),[D,H]=U.useState(!1),[W,v]=U.useState(""),[T,m]=U.useState(""),[g,N]=U.useState(!1),[S,y]=U.useState(""),[O,R]=U.useState(!1),[E,A]=U.useState([]),[x,_]=U.useState([]),[u,b]=U.useState(""),[d,w]=U.useState("Editor"),[L,q]=U.useState(!1),[M,$]=U.useState(!1),[B,X]=U.useState(!1),[J,oe]=U.useState(!1),[te,ye]=U.useState(""),[de,K]=U.useState({user_name:"",user_email:"",role:""}),[le,_e]=U.useState("// some comment"),ue=U.useRef(null),ot=U.useRef(null),Cn=new URLSearchParams(window.location.search),G=Cn.get("projectUUID"),xn=Cn.get("role"),he=xn==="admin",we=xn==="editor";U.useEffect(()=>{const j=new Qs("http://localhost:8081/ws"),F=new oa({webSocketFactory:()=>j,reconnectDelay:5e3,onConnect:()=>console.log("Connected to WebSocket")});return F.activate(),ue.current=F,()=>{F.deactivate()}},[]);const Mo=j=>{if(!ue.current||!ue.current.connected)return;ot.current&&ot.current.unsubscribe();const F=`/topic/${G}/${j}`;ot.current=ue.current.subscribe(F,V=>{const Y=JSON.parse(V.body);Y&&Y.content&&(_e(Y.content),console.log(Y.content))})},Do=async j=>{try{if(!(await fetch(`http://localhost:8081/versionControl/revert?projectUUID=${G}&commitUUID=${j}`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to revert");at()}catch(F){console.error("Error reverting:",F),alert("Error reverting")}},Ao=async()=>{try{if(!(await fetch(`http://localhost:8081/roles/give?projectUUID=${G}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u,role:d})})).ok)throw new Error("Failed to add contributor");fetch(`http://localhost:8081/project/getUsers?projectUUID=${G}`).then(F=>F.json()).then(F=>{A(F),R(!0)}).catch(F=>{console.error("Error fetching contributors:",F),alert("Failed to load contributors.")}),it()}catch(j){console.error("Error adding contributor:",j),alert("Error adding contributor")}},Po=async()=>{try{if(!(await fetch(`http://localhost:8081/versionControl/commit?versionName=${te}&projectUUID=${G}`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to commit");fetch(`http://localhost:8081/versionControl/getCommits?projectUUID=${G}`).then(F=>F.json()).then(F=>{_(F),X(!0)}).catch(F=>{console.error("Error fetching commits:",F),alert("Failed to load commits.")}),st()}catch(j){console.error("Error making the commit:",j),alert("Error making the commit")}},Lo=()=>$(!0),Sn=()=>$(!1),qo=()=>q(!0),it=()=>q(!1),Uo=()=>oe(!0),st=()=>oe(!1),$o=()=>{fetch(`http://localhost:8081/versionControl/getCommits?projectUUID=${G}`).then(j=>j.json()).then(j=>{_(j),X(!0)}).catch(j=>{console.error("Error fetching commits:",j),alert("Failed to load commits.")})},at=()=>X(!1),Ho=()=>{fetch(`http://localhost:8081/project/getUsers?projectUUID=${G}`).then(j=>j.json()).then(j=>{A(j),R(!0)}).catch(j=>{console.error("Error fetching contributors:",j),alert("Failed to load contributors.")})},En=()=>R(!1),ke=()=>{fetch(`http://localhost:8081/storage/projectStructure/${G}`).then(j=>j.json()).then(j=>{l(j)}).catch(j=>console.error("Error fetching project structure:",j))};U.useEffect(()=>{ke()},[G]);function Fo(j,F){r.current=j}const Wo=async()=>{a("Running...");try{const j=await fetch("http://localhost:8081/executor/executeFile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectUUID:G,filePath:c,language:e,inputData:n})});if(!j.ok)throw new Error(`HTTP error! status: ${j.status}`);const F=await j.text();a(F)}catch(j){console.error("Error executing file:",j),a(`Error: ${j.message}`)}},Bo=(j,F)=>{p(j),fetch(`http://localhost:8081/log?value=${encodeURIComponent(j)}`).then(V=>V.json()).then(V=>console.log("Path logged successfully:",V)).catch(V=>console.error("Error logging path:",V)),F&&r.current&&fetch(`http://localhost:8081/storage/getFile?projectUUID=${G}&filePath=${encodeURIComponent(j)}`).then(V=>V.text()).then(V=>{r.current.setValue(V),console.log("will connect"),Mo(j)}).catch(V=>console.error("Error fetching file content:",V))},Vo=j=>{var V;console.log(j),(V=ue.current)==null||V.publish({destination:"/app/communication",body:JSON.stringify({content:j,projectUUID:G,filePath:c})})},On=(j,F="")=>j.map(V=>{const Y=F?`${F}/${V.name}`:V.name;return k.jsxs("li",{children:[k.jsxs("span",{onClick:()=>Bo(Y,V.type==="file"),style:{cursor:"pointer",color:c===Y?"#ffcc00":"#d4d4d4"},children:[V.type==="directory"?"":""," ",V.name]}),V.type==="directory"&&V.children&&k.jsx("ul",{style:{listStyle:"none",paddingLeft:"20px"},children:On(V.children,Y)})]},Y)}),Xo=async()=>{if(!W){alert("Please enter a file name.");return}let j="";if(!c)j="";else{const F=c.split("/"),V=F[F.length-1],Y=(ie,ct)=>{for(const se of ct)if(se.name===ie&&se.type==="directory"||se.type==="directory"&&se.children&&Y(ie,se.children))return!0;return!1};if(Y(V,(f==null?void 0:f.children)||[])||c.endsWith("/"))j=c.replace(/\/$/,"");else{const ie=c.lastIndexOf("/");j=ie!==-1?c.substring(0,ie):""}}await fetch("http://localhost:8081/storage/createFile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectUUID:G,relativePath:j,fileName:W})}).then(F=>{F.status===201?(alert("File created successfully!"),ke(),v(""),I(!1)):alert("Failed to create file")}).catch(F=>{console.error("Create file error:",F),alert("Error creating file")})},zo=async()=>{if(!T){alert("Please enter a directory name.");return}let j="";if(!c)j="";else{const F=c.split("/"),V=F[F.length-1],Y=(ie,ct)=>{for(const se of ct)if(se.name===ie&&se.type==="directory"||se.type==="directory"&&se.children&&Y(ie,se.children))return!0;return!1};if(Y(V,(f==null?void 0:f.children)||[])||c.endsWith("/"))j=c.replace(/\/$/,"");else{const ie=c.lastIndexOf("/");j=ie!==-1?c.substring(0,ie):""}}await fetch("http://localhost:8081/storage/createDirectory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectUUID:G,relativePath:j,directoryName:T})}).then(F=>{F.status===201?(alert("Directory created successfully!"),ke(),m(""),H(!1)):alert("Failed to create directory")}).catch(F=>{console.error("Create directory error:",F),alert("Error creating directory")})},Jo=async()=>{if(!c){alert("Please select a file or directory to delete.");return}const j=c.split("/").pop(),F=c.substring(0,c.lastIndexOf("/"));await fetch("http://localhost:8081/storage/deleteComponent",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectUUID:G,relativePath:F,componentName:j})}).then(V=>{V.status===201?(alert("Component deleted successfully!"),ke(),p("")):alert("Failed to delete component")}).catch(V=>{console.error("Delete component error:",V),alert("Error deleting component")})},Go=async()=>{if(!c||!S){alert("Please select a file/directory and enter the new name.");return}const j=c.split("/").pop(),F=c.substring(0,c.lastIndexOf("/"));await fetch("http://localhost:8081/storage/renameComponent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectUUID:G,relativePath:F,componentName:j,newName:S})}).then(V=>{V.status===201?(alert("Component renamed successfully!"),ke(),y(""),N(!1),p("")):alert("Failed to rename component")}).catch(V=>{console.error("Rename component error:",V),alert("Error renaming component")})},Yo=async()=>{window.open(`http://localhost:8081/storage/download-zip?projectUUID=${G}`,"_blank")},Ko=async()=>{try{if(!(await fetch(`http://localhost:8081/versionControl/forkProject?projectUUID=${G}`,{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw new Error("Failed to fork")}catch(j){console.error("Error making the fork:",j),alert("Error making the fork")}};return k.jsxs("div",{className:"d-flex flex-column",style:{height:"100vh",backgroundColor:"#1e1e1e"},children:[k.jsxs("div",{className:"d-flex p-2",children:[(he||we)&&k.jsx("button",{className:"btn btn-primary me-2",onClick:Wo,children:"Run"}),(he||we)&&k.jsx("button",{className:"btn btn-success me-2",onClick:()=>I(!C),children:"+ File"}),(he||we)&&k.jsx("button",{className:"btn btn-info me-2",onClick:()=>H(!D),children:"+ Directory"}),(he||we)&&k.jsx("button",{className:"btn btn-danger me-2",onClick:Jo,children:"Delete"}),(he||we)&&k.jsx("button",{className:"btn btn-warning me-2",onClick:()=>N(!g),children:"Rename"}),g&&k.jsxs("div",{className:"d-flex align-items-center me-2",children:[k.jsx("input",{type:"text",className:"form-control",placeholder:"Enter new name...",value:S,onChange:j=>y(j.target.value),style:{width:"200px",marginRight:"5px"}}),k.jsx("button",{className:"btn btn-outline-light",onClick:Go,children:"Rename"})]}),C&&k.jsxs("div",{className:"d-flex align-items-center me-2",children:[k.jsx("input",{type:"text",className:"form-control",placeholder:"Enter file name...",value:W,onChange:j=>v(j.target.value),style:{width:"200px",marginRight:"5px"}}),k.jsx("button",{className:"btn btn-outline-light",onClick:Xo,children:"Create File"})]}),D&&k.jsxs("div",{className:"d-flex align-items-center me-2",children:[k.jsx("input",{type:"text",className:"form-control",placeholder:"Enter directory name...",value:T,onChange:j=>m(j.target.value),style:{width:"200px",marginRight:"5px"}}),k.jsx("button",{className:"btn btn-outline-light",onClick:zo,children:"Create Directory"})]}),(he||we)&&k.jsxs("div",{className:"dropdown me-2",children:[k.jsx("button",{className:"btn btn-secondary dropdown-toggle",type:"button","data-bs-toggle":"dropdown",children:"Language"}),k.jsxs("ul",{className:"dropdown-menu",children:[k.jsx("li",{children:k.jsx("a",{className:"dropdown-item",href:"#",onClick:()=>t("java"),children:"Java"})}),k.jsx("li",{children:k.jsx("a",{className:"dropdown-item",href:"#",onClick:()=>t("cpp"),children:"C++"})}),k.jsx("li",{children:k.jsx("a",{className:"dropdown-item",href:"#",onClick:()=>t("python"),children:"Python"})})]})]}),k.jsx("button",{className:"btn btn-outline-light",onClick:Lo,children:"Version Control Management"}),k.jsxs(Se,{isOpen:M,onRequestClose:Sn,contentLabel:"VersionControlManagement",style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:9996},content:{backgroundColor:"#2e2e2e",color:"#ffffff",width:"500px",margin:"auto",padding:"20px",borderRadius:"10px",zIndex:9999,inset:"50% auto auto 50%",transform:"translate(-50%, -50%)"}},children:[k.jsx("h2",{style:{marginBottom:"20px"},children:"Version Control Management"}),k.jsxs("ul",{style:{paddingLeft:"0",listStyle:"none",maxHeight:"300px",overflowY:"auto"},children:[k.jsx("li",{children:k.jsx("button",{className:"btn btn-outline-light",onClick:Yo,children:"Clone Project"})}),k.jsx("li",{children:k.jsx("button",{className:"btn btn-outline-light",onClick:Ko,children:"Fork Project"})}),k.jsx("li",{children:(he||we)&&k.jsx("button",{className:"btn btn-outline-light",onClick:$o,children:"Commits"})}),k.jsx("li",{children:k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:Sn,children:"Close"})})]})]}),k.jsxs(Se,{isOpen:B,onRequestClose:at,contentLabel:"Commits",style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:9997},content:{backgroundColor:"#2e2e2e",color:"#ffffff",width:"500px",margin:"auto",padding:"20px",borderRadius:"10px",zIndex:9999,inset:"50% auto auto 50%",transform:"translate(-50%, -50%)"}},children:[k.jsx("h2",{style:{marginBottom:"20px"},children:"Commits"}),x.length===0?k.jsx("p",{children:"No commits found."}):k.jsx("ul",{style:{paddingLeft:"0",listStyle:"none",maxHeight:"300px",overflowY:"auto"},children:[...x].sort((j,F)=>{const V=oo(j.commit_time,"D MMM YYYY, HH:mm");return oo(F.commit_time,"D MMM YYYY, HH:mm").valueOf()-V.valueOf()}).map((j,F)=>k.jsxs("li",{style:{marginBottom:"10px",padding:"10px 14px",background:"#3a3a3a",borderRadius:"6px",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px"},children:[k.jsx("span",{style:{flex:1},children:j.commit_name}),k.jsx("span",{style:{flex:1},children:j.commit_time}),k.jsx("button",{style:{marginLeft:"10px",background:"#ff4d4f",color:"white",border:"none",padding:"6px 10px",borderRadius:"4px",cursor:"pointer"},onClick:()=>Do(j.commitUUID),children:"Revert"})]},F))}),k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:Uo,children:"Make New Commit"}),k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:at,children:"Close"})]}),k.jsxs(Se,{isOpen:J,onRequestClose:st,contentLabel:"MakeCommit",style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:9998},content:{backgroundColor:"#2e2e2e",color:"#ffffff",width:"400px",margin:"auto",padding:"20px",borderRadius:"10px",zIndex:9999,inset:"50% auto auto 50%",transform:"translate(-50%, -50%)"}},children:[k.jsx("h2",{children:"Commit"}),k.jsxs("div",{children:[k.jsx("label",{children:"Commit Name: "}),k.jsx("input",{type:"commitName",value:te,onChange:j=>ye(j.target.value),placeholder:"Enter Commit Name",style:{width:"100%",marginBottom:"10px",padding:"8px"}}),k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:Po,children:"Commit"}),k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:st,children:"Close"})]})]}),he&&k.jsx("button",{className:"btn btn-outline-light",onClick:Ho,children:"Contributors"}),k.jsxs(Se,{isOpen:O,onRequestClose:En,contentLabel:"Contributors",style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:9998},content:{backgroundColor:"#2e2e2e",color:"#ffffff",width:"500px",margin:"auto",padding:"20px",borderRadius:"10px",zIndex:9999,inset:"50% auto auto 50%",transform:"translate(-50%, -50%)"}},children:[k.jsx("h2",{style:{marginBottom:"20px"},children:"Contributors"}),E.length===0?k.jsx("p",{children:"No contributors found."}):k.jsx("ul",{style:{paddingLeft:"0",listStyle:"none",maxHeight:"300px",overflowY:"auto"},children:E.map((j,F)=>k.jsxs("li",{style:{marginBottom:"10px",padding:"10px 14px",background:"#3a3a3a",borderRadius:"6px",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px"},children:[k.jsx("span",{style:{flex:1},children:j.user_name}),k.jsx("span",{style:{flex:1},children:j.user_email}),k.jsx("span",{style:{flex:1,textAlign:"right"},children:j.role})]},F))}),k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:qo,children:"Add Contributor"}),k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:En,children:"Close"})]}),k.jsxs(Se,{isOpen:L,onRequestClose:it,contentLabel:"Add Contributor",style:{overlay:{backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:9998},content:{backgroundColor:"#2e2e2e",color:"#ffffff",width:"400px",margin:"auto",padding:"20px",borderRadius:"10px",zIndex:9999,inset:"50% auto auto 50%",transform:"translate(-50%, -50%)"}},children:[k.jsx("h2",{children:"Add Contributor"}),k.jsxs("div",{children:[k.jsx("label",{children:"Email: "}),k.jsx("input",{type:"email",value:u,onChange:j=>b(j.target.value),placeholder:"Enter email",style:{width:"100%",marginBottom:"10px",padding:"8px"}}),k.jsx("label",{children:"Role: "}),k.jsxs("select",{value:d,onChange:j=>w(j.target.value),style:{width:"100%",marginBottom:"10px",padding:"8px"},children:[k.jsx("option",{value:"Editor",children:"Editor"}),k.jsx("option",{value:"Viewer",children:"Viewer"})]}),k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:Ao,children:"Add Contributor"}),k.jsx("button",{className:"btn btn-outline-light mt-3",onClick:it,children:"Close"})]})]}),k.jsxs("button",{className:"btn btn-outline-light ms-auto",onClick:()=>h(!s),children:[s?"Hide":"Show"," Project"]})]}),k.jsxs("div",{className:"d-flex flex-grow-1",style:{height:"100%"},children:[s&&f&&k.jsxs("div",{style:{width:"250px",backgroundColor:"#252526",color:"#d4d4d4",borderRight:"1px solid #3c3c3c",overflowY:"auto",padding:"10px",boxSizing:"border-box"},children:[k.jsx("h6",{className:"text-light mb-3",children:"Project Files"}),k.jsx("ul",{style:{listStyle:"none",paddingLeft:"10px"},children:On(f.children)})]}),k.jsx("div",{style:{flexGrow:1},children:k.jsx(as,{height:"100%",theme:"vs-dark",language:e,value:le,onMount:Fo,onChange:j=>Vo(j)})}),k.jsxs("div",{style:{width:"500px",backgroundColor:"#1e1e1e",color:"#d4d4d4",display:"flex",flexDirection:"column",borderLeft:"1px solid #3c3c3c"},children:[k.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"10px",boxSizing:"border-box"},children:[k.jsx("label",{htmlFor:"inputBox",className:"form-label text-light mb-1",children:"Input:"}),k.jsx("textarea",{id:"inputBox",className:"form-control",style:{flex:1,resize:"none",backgroundColor:"#252526",color:"#d4d4d4",border:"1px solid #3c3c3c"},value:n,onChange:j=>o(j.target.value)})]}),k.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"10px",boxSizing:"border-box",borderTop:"1px solid #3c3c3c"},children:[k.jsx("label",{htmlFor:"outputBox",className:"form-label text-light mb-1",children:"Output:"}),k.jsx("textarea",{id:"outputBox",className:"form-control",style:{flex:1,resize:"none",backgroundColor:"#252526",color:"#d4d4d4",border:"1px solid #3c3c3c"},value:i,readOnly:!0})]})]})]})]})}export{la as C};
