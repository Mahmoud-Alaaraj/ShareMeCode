import{r as s,a as l,j as e}from"./index-CbNxTyl6.js";const m=()=>{const[i,h]=s.useState([]),[j,o]=s.useState(!1),[r,a]=s.useState("");s.useEffect(()=>{n()},[]);const n=()=>{l.get("http://localhost:8081/project/getProjects",{withCredentials:!0}).then(t=>h(t.data)).catch(t=>console.error("Failed to fetch projects:",t))},d=t=>{const c=`http://localhost:8081/project/${t}/admin`;window.location.href=c},p=()=>{r.trim()&&l.post(`http://localhost:8081/storage/createProject/${r}`,{},{withCredentials:!0}).then(t=>{console.log("Project created:",t.data),o(!1),a(""),n()}).catch(t=>console.error("Failed to create project:",t))};return e.jsxs("div",{className:"dashboard-container",children:[e.jsx("h1",{children:"Welcome to Your Projects"}),e.jsxs("div",{className:"project-table",children:[e.jsxs("div",{className:"project-header",children:[e.jsx("span",{children:"Project Name"}),e.jsx("span",{children:"Owner"}),e.jsx("span",{children:"Your Role"})]}),i.map((t,c)=>e.jsxs("div",{className:"project-row",onClick:()=>d(t.project_uuid),children:[e.jsx("span",{children:t.project_name}),e.jsx("span",{children:t.owner_name}),e.jsx("span",{children:t.role})]},c)),e.jsx("div",{className:"create-project-button",onClick:()=>o(!0),children:e.jsx("span",{children:"+ Create New Project"})})]}),j&&e.jsx("div",{className:"popup-overlay",children:e.jsxs("div",{className:"popup-box",children:[e.jsx("h3",{style:{color:"#333",fontSize:"1.6rem",fontFamily:"'Segoe UI', sans-serif",marginBottom:"1rem"},children:"Create New Project"}),e.jsx("input",{type:"text",placeholder:"Project Name",value:r,onChange:t=>a(t.target.value)}),e.jsxs("div",{className:"popup-actions",children:[e.jsx("button",{onClick:p,children:"Create"}),e.jsx("button",{onClick:()=>o(!1),children:"Cancel"})]})]})})]})};export{m as S};
