import{r as y,c as R,g as On,j as P,a as Ln}from"./bootstrap.bundle.min-BOiEAwIT.js";import{C as Nn}from"./CodeEditor-3IpsOctO.js";import{S as Pn}from"./ShowProjects-BtiTvd8f.js";var te={},$t;function An(){if($t)return te;$t=1,Object.defineProperty(te,"__esModule",{value:!0}),te.parse=s,te.serialize=u;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const f=function(){};return f.prototype=Object.create(null),f})();function s(f,w){const b=new o,x=f.length;if(x<2)return b;const C=(w==null?void 0:w.decode)||c;let _=0;do{const d=f.indexOf("=",_);if(d===-1)break;const m=f.indexOf(";",_),p=m===-1?x:m;if(d>p){_=f.lastIndexOf(";",d-1)+1;continue}const g=a(f,_,d),T=l(f,d,g),E=f.slice(g,T);if(b[E]===void 0){let v=a(f,d+1,p),S=l(f,p,v);const I=C(f.slice(v,S));b[E]=I}_=p+1}while(_<x);return b}function a(f,w,b){do{const x=f.charCodeAt(w);if(x!==32&&x!==9)return w}while(++w<b);return b}function l(f,w,b){for(;w>b;){const x=f.charCodeAt(--w);if(x!==32&&x!==9)return w+1}return b}function u(f,w,b){const x=(b==null?void 0:b.encode)||encodeURIComponent;if(!t.test(f))throw new TypeError(`argument name is invalid: ${f}`);const C=x(w);if(!e.test(C))throw new TypeError(`argument val is invalid: ${w}`);let _=f+"="+C;if(!b)return _;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);_+="; Max-Age="+b.maxAge}if(b.domain){if(!r.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);_+="; Domain="+b.domain}if(b.path){if(!n.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);_+="; Path="+b.path}if(b.expires){if(!h(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);_+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(_+="; HttpOnly"),b.secure&&(_+="; Secure"),b.partitioned&&(_+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return _}function c(f){if(f.indexOf("%")===-1)return f;try{return decodeURIComponent(f)}catch{return f}}function h(f){return i.call(f)==="[object Date]"}return te}An();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wt="popstate";function qn(t={}){function e(n,i){let{pathname:o,search:s,hash:a}=n.location;return Ot("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:ie(i)}return Un(e,r,null,t)}function N(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Bn(){return Math.random().toString(36).substring(2,10)}function Ft(t,e){return{usr:t.state,key:t.key,idx:e}}function Ot(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Y(e):e,state:r,key:e&&e.key||n||Bn()}}function ie({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Y(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Un(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,a="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function h(){a="POP";let C=c(),_=C==null?null:C-u;u=C,l&&l({action:a,location:x.location,delta:_})}function f(C,_){a="PUSH";let d=Ot(x.location,C,_);u=c()+1;let m=Ft(d,u),p=x.createHref(d);try{s.pushState(m,"",p)}catch(g){if(g instanceof DOMException&&g.name==="DataCloneError")throw g;i.location.assign(p)}o&&l&&l({action:a,location:x.location,delta:1})}function w(C,_){a="REPLACE";let d=Ot(x.location,C,_);u=c();let m=Ft(d,u),p=x.createHref(d);s.replaceState(m,"",p),o&&l&&l({action:a,location:x.location,delta:0})}function b(C){let _=i.location.origin!=="null"?i.location.origin:i.location.href,d=typeof C=="string"?C:ie(C);return d=d.replace(/ $/,"%20"),N(_,`No window.location.(origin|href) available to create URL for href: ${d}`),new URL(d,_)}let x={get action(){return a},get location(){return t(i,s)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Wt,h),l=C,()=>{i.removeEventListener(Wt,h),l=null}},createHref(C){return e(i,C)},createURL:b,encodeLocation(C){let _=b(C);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:w,go(C){return s.go(C)}};return x}function tn(t,e,r="/"){return jn(t,e,r,!1)}function jn(t,e,r,n){let i=typeof e=="string"?Y(e):e,o=M(i.pathname||"/",r);if(o==null)return null;let s=rn(t);Dn(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=Kn(o);a=Jn(s[l],u,n)}return a}function rn(t,e=[],r=[],n=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(N(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let u=F([n,l.relativePath]),c=r.concat(l);o.children&&o.children.length>0&&(N(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),rn(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:Xn(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of nn(o.path))i(o,s,l)}),e}function nn(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let s=nn(n.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Dn(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:zn(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Hn=/^:[\w-]+$/,$n=3,Wn=2,Fn=1,Mn=10,Vn=-2,Mt=t=>t==="*";function Xn(t,e){let r=t.split("/"),n=r.length;return r.some(Mt)&&(n+=Vn),e&&(n+=Wn),r.filter(i=>!Mt(i)).reduce((i,o)=>i+(Hn.test(o)?$n:o===""?Fn:Mn),n)}function zn(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Jn(t,e,r=!1){let{routesMeta:n}=t,i={},o="/",s=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=o==="/"?e:e.slice(o.length)||"/",h=xe({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=xe({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:F([o,h.pathname]),pathnameBase:ei(F([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=F([o,h.pathnameBase]))}return s}function xe(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Gn(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,{paramName:c,isOptional:h},f)=>{if(c==="*"){let b=a[f]||"";s=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const w=a[f];return h&&!w?u[c]=void 0:u[c]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function Gn(t,e=!1,r=!0){$(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Kn(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function M(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Yn(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Y(t):t;return{pathname:r?r.startsWith("/")?r:Qn(r,e):e,search:ti(n),hash:ri(i)}}function Qn(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Ie(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zn(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function on(t){let e=Zn(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function sn(t,e,r,n=!1){let i;typeof t=="string"?i=Y(t):(i={...t},N(!i.pathname||!i.pathname.includes("?"),Ie("?","pathname","search",i)),N(!i.pathname||!i.pathname.includes("#"),Ie("#","pathname","hash",i)),N(!i.search||!i.search.includes("#"),Ie("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=r;else{let h=e.length-1;if(!n&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=Yn(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var F=t=>t.join("/").replace(/\/\/+/g,"/"),ei=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ti=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ri=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ni(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var an=["POST","PUT","PATCH","DELETE"];new Set(an);var ii=["GET",...an];new Set(ii);var Q=y.createContext(null);Q.displayName="DataRouter";var Ce=y.createContext(null);Ce.displayName="DataRouterState";var ln=y.createContext({isTransitioning:!1});ln.displayName="ViewTransition";var oi=y.createContext(new Map);oi.displayName="Fetchers";var si=y.createContext(null);si.displayName="Await";var W=y.createContext(null);W.displayName="Navigation";var se=y.createContext(null);se.displayName="Location";var V=y.createContext({outlet:null,matches:[],isDataRoute:!1});V.displayName="Route";var Nt=y.createContext(null);Nt.displayName="RouteError";function ai(t,{relative:e}={}){N(ae(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=y.useContext(W),{hash:i,pathname:o,search:s}=le(t,{relative:e}),a=o;return r!=="/"&&(a=o==="/"?r:F([r,o])),n.createHref({pathname:a,search:s,hash:i})}function ae(){return y.useContext(se)!=null}function K(){return N(ae(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(se).location}var un="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cn(t){y.useContext(W).static||y.useLayoutEffect(t)}function li(){let{isDataRoute:t}=y.useContext(V);return t?_i():ui()}function ui(){N(ae(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(Q),{basename:e,navigator:r}=y.useContext(W),{matches:n}=y.useContext(V),{pathname:i}=K(),o=JSON.stringify(on(n)),s=y.useRef(!1);return cn(()=>{s.current=!0}),y.useCallback((l,u={})=>{if($(s.current,un),!s.current)return;if(typeof l=="number"){r.go(l);return}let c=sn(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:F([e,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[e,r,o,i,t])}y.createContext(null);function le(t,{relative:e}={}){let{matches:r}=y.useContext(V),{pathname:n}=K(),i=JSON.stringify(on(r));return y.useMemo(()=>sn(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function ci(t,e){return hn(t,e)}function hn(t,e,r,n){var d;N(ae(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=y.useContext(W),{matches:s}=y.useContext(V),a=s[s.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",h=a&&a.route;{let m=h&&h.path||"";fn(u,!h||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let f=K(),w;if(e){let m=typeof e=="string"?Y(e):e;N(c==="/"||((d=m.pathname)==null?void 0:d.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${m.pathname}" was given in the \`location\` prop.`),w=m}else w=f;let b=w.pathname||"/",x=b;if(c!=="/"){let m=c.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(m.length).join("/")}let C=!o&&r&&r.matches&&r.matches.length>0?r.matches:tn(t,{pathname:x});$(h||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),$(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=mi(C&&C.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:F([c,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:F([c,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),s,r,n);return e&&_?y.createElement(se.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},_):_}function hi(){let t=wi(),e=ni(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:o},"ErrorBoundary")," or"," ",y.createElement("code",{style:o},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),r?y.createElement("pre",{style:i},r):null,s)}var fi=y.createElement(hi,null),di=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?y.createElement(V.Provider,{value:this.props.routeContext},y.createElement(Nt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pi({routeContext:t,match:e,children:r}){let n=y.useContext(Q);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(V.Provider,{value:t},r)}function mi(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r==null?void 0:r.errors;if(o!=null){let l=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);N(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(r)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:h}=r,f=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let h,f=!1,w=null,b=null;r&&(h=o&&u.route.id?o[u.route.id]:void 0,w=u.route.errorElement||fi,s&&(a<0&&c===0?(fn("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,b=null):a===c&&(f=!0,b=u.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,c+1)),C=()=>{let _;return h?_=w:f?_=b:u.route.Component?_=y.createElement(u.route.Component,null):u.route.element?_=u.route.element:_=l,y.createElement(pi,{match:u,routeContext:{outlet:l,matches:x,isDataRoute:r!=null},children:_})};return r&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?y.createElement(di,{location:r.location,revalidation:r.revalidation,component:w,error:h,children:C(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):C()},null)}function Pt(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vi(t){let e=y.useContext(Q);return N(e,Pt(t)),e}function gi(t){let e=y.useContext(Ce);return N(e,Pt(t)),e}function yi(t){let e=y.useContext(V);return N(e,Pt(t)),e}function At(t){let e=yi(t),r=e.matches[e.matches.length-1];return N(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function bi(){return At("useRouteId")}function wi(){var n;let t=y.useContext(Nt),e=gi("useRouteError"),r=At("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function _i(){let{router:t}=vi("useNavigate"),e=At("useNavigate"),r=y.useRef(!1);return cn(()=>{r.current=!0}),y.useCallback(async(i,o={})=>{$(r.current,un),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var Vt={};function fn(t,e,r){!e&&!Vt[t]&&(Vt[t]=!0,$(!1,r))}y.memo(Ei);function Ei({routes:t,future:e,state:r}){return hn(t,void 0,r,e)}function we(t){N(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xi({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:o=!1}){N(!ae(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),a=y.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof r=="string"&&(r=Y(r));let{pathname:l="/",search:u="",hash:c="",state:h=null,key:f="default"}=r,w=y.useMemo(()=>{let b=M(l,s);return b==null?null:{location:{pathname:b,search:u,hash:c,state:h,key:f},navigationType:n}},[s,l,u,c,h,f,n]);return $(w!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:y.createElement(W.Provider,{value:a},y.createElement(se.Provider,{children:e,value:w}))}function Si({children:t,location:e}){return ci(Lt(t),e)}function Lt(t,e=[]){let r=[];return y.Children.forEach(t,(n,i)=>{if(!y.isValidElement(n))return;let o=[...e,i];if(n.type===y.Fragment){r.push.apply(r,Lt(n.props.children,o));return}N(n.type===we,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),N(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Lt(n.props.children,o)),r.push(s)}),r}var _e="get",Ee="application/x-www-form-urlencoded";function Re(t){return t!=null&&typeof t.tagName=="string"}function Ci(t){return Re(t)&&t.tagName.toLowerCase()==="button"}function Ri(t){return Re(t)&&t.tagName.toLowerCase()==="form"}function ki(t){return Re(t)&&t.tagName.toLowerCase()==="input"}function Ti(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ii(t,e){return t.button===0&&(!e||e==="_self")&&!Ti(t)}var de=null;function Oi(){if(de===null)try{new FormData(document.createElement("form"),0),de=!1}catch{de=!0}return de}var Li=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Oe(t){return t!=null&&!Li.has(t)?($(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ee}"`),null):t}function Ni(t,e){let r,n,i,o,s;if(Ri(t)){let a=t.getAttribute("action");n=a?M(a,e):null,r=t.getAttribute("method")||_e,i=Oe(t.getAttribute("enctype"))||Ee,o=new FormData(t)}else if(Ci(t)||ki(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(n=l?M(l,e):null,r=t.getAttribute("formmethod")||a.getAttribute("method")||_e,i=Oe(t.getAttribute("formenctype"))||Oe(a.getAttribute("enctype"))||Ee,o=new FormData(a,t),!Oi()){let{name:u,type:c,value:h}=t;if(c==="image"){let f=u?`${u}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else u&&o.append(u,h)}}else{if(Re(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=_e,n=null,i=Ee,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:o,body:s}}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Pi(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ai(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function qi(t,e,r){let n=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await Pi(o,r);return s.links?s.links():[]}return[]}));return Di(n.flat(1).filter(Ai).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Xt(t,e,r,n,i,o){let s=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,a=(l,u)=>{var c;return r[u].pathname!==l.pathname||((c=r[u].route.path)==null?void 0:c.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,u)=>s(l,u)||a(l,u)):o==="data"?e.filter((l,u)=>{var h;let c=n.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Bi(t,e,{includeHydrateFallback:r}={}){return Ui(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function Ui(t){return[...new Set(t)]}function ji(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function Di(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let o=JSON.stringify(ji(i));return r.has(o)||(r.add(o),n.push({key:o,link:i})),n},[])}function Hi(t,e){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname="_root.data":e&&M(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function dn(){let t=y.useContext(Q);return qt(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function $i(){let t=y.useContext(Ce);return qt(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Bt=y.createContext(void 0);Bt.displayName="FrameworkContext";function pn(){let t=y.useContext(Bt);return qt(t,"You must render this element inside a <HydratedRouter> element"),t}function Wi(t,e){let r=y.useContext(Bt),[n,i]=y.useState(!1),[o,s]=y.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:h}=e,f=y.useRef(null);y.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let x=_=>{_.forEach(d=>{s(d.isIntersecting)})},C=new IntersectionObserver(x,{threshold:.5});return f.current&&C.observe(f.current),()=>{C.disconnect()}}},[t]),y.useEffect(()=>{if(n){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[n]);let w=()=>{i(!0)},b=()=>{i(!1),s(!1)};return r?t!=="intent"?[o,f,{}]:[o,f,{onFocus:re(a,w),onBlur:re(l,b),onMouseEnter:re(u,w),onMouseLeave:re(c,b),onTouchStart:re(h,w)}]:[!1,f,{}]}function re(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Fi({page:t,...e}){let{router:r}=dn(),n=y.useMemo(()=>tn(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?y.createElement(Vi,{page:t,matches:n,...e}):null}function Mi(t){let{manifest:e,routeModules:r}=pn(),[n,i]=y.useState([]);return y.useEffect(()=>{let o=!1;return qi(t,e,r).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,r]),n}function Vi({page:t,matches:e,...r}){let n=K(),{manifest:i,routeModules:o}=pn(),{basename:s}=dn(),{loaderData:a,matches:l}=$i(),u=y.useMemo(()=>Xt(t,e,l,i,n,"data"),[t,e,l,i,n]),c=y.useMemo(()=>Xt(t,e,l,i,n,"assets"),[t,e,l,i,n]),h=y.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let b=new Set,x=!1;if(e.forEach(_=>{var m;let d=i.routes[_.route.id];!d||!d.hasLoader||(!u.some(p=>p.route.id===_.route.id)&&_.route.id in a&&((m=o[_.route.id])!=null&&m.shouldRevalidate)||d.hasClientLoader?x=!0:b.add(_.route.id))}),b.size===0)return[];let C=Hi(t,s);return x&&b.size>0&&C.searchParams.set("_routes",e.filter(_=>b.has(_.route.id)).map(_=>_.route.id).join(",")),[C.pathname+C.search]},[s,a,n,i,u,e,t,o]),f=y.useMemo(()=>Bi(c,i),[c,i]),w=Mi(c);return y.createElement(y.Fragment,null,h.map(b=>y.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),f.map(b=>y.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),w.map(({key:b,link:x})=>y.createElement("link",{key:b,...x})))}function Xi(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var mn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mn&&(window.__reactRouterVersion="7.5.0")}catch{}function zi({basename:t,children:e,window:r}){let n=y.useRef();n.current==null&&(n.current=qn({window:r,v5Compat:!0}));let i=n.current,[o,s]=y.useState({action:i.action,location:i.location}),a=y.useCallback(l=>{y.startTransition(()=>s(l))},[s]);return y.useLayoutEffect(()=>i.listen(a),[i,a]),y.createElement(xi,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var vn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=y.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h,...f},w){let{basename:b}=y.useContext(W),x=typeof u=="string"&&vn.test(u),C,_=!1;if(typeof u=="string"&&x&&(C=u,mn))try{let S=new URL(window.location.href),I=u.startsWith("//")?new URL(S.protocol+u):new URL(u),O=M(I.pathname,b);I.origin===S.origin&&O!=null?u=O+I.search+I.hash:_=!0}catch{$(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let d=ai(u,{relative:i}),[m,p,g]=Wi(n,f),T=Yi(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:h});function E(S){e&&e(S),S.defaultPrevented||T(S)}let v=y.createElement("a",{...f,...g,href:C||d,onClick:_||o?e:E,ref:Xi(w,p),target:l,"data-discover":!x&&r==="render"?"true":void 0});return m&&!x?y.createElement(y.Fragment,null,v,y.createElement(Fi,{page:d})):v});gn.displayName="Link";var Ji=y.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...u},c){let h=le(s,{relative:u.relative}),f=K(),w=y.useContext(Ce),{navigator:b,basename:x}=y.useContext(W),C=w!=null&&ro(h)&&a===!0,_=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,d=f.pathname,m=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(d=d.toLowerCase(),m=m?m.toLowerCase():null,_=_.toLowerCase()),m&&x&&(m=M(m,x)||m);const p=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let g=d===_||!i&&d.startsWith(_)&&d.charAt(p)==="/",T=m!=null&&(m===_||!i&&m.startsWith(_)&&m.charAt(_.length)==="/"),E={isActive:g,isPending:T,isTransitioning:C},v=g?e:void 0,S;typeof n=="function"?S=n(E):S=[n,g?"active":null,T?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(E):o;return y.createElement(gn,{...u,"aria-current":v,className:S,ref:c,style:I,to:s,viewTransition:a},typeof l=="function"?l(E):l)});Ji.displayName="NavLink";var Gi=y.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:o,method:s=_e,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:h,...f},w)=>{let b=eo(),x=to(a,{relative:u}),C=s.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&vn.test(a),d=m=>{if(l&&l(m),m.defaultPrevented)return;m.preventDefault();let p=m.nativeEvent.submitter,g=(p==null?void 0:p.getAttribute("formmethod"))||s;b(p||m.currentTarget,{fetcherKey:e,method:g,navigate:r,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:h})};return y.createElement("form",{ref:w,method:C,action:x,onSubmit:n?l:d,...f,"data-discover":!_&&t==="render"?"true":void 0})});Gi.displayName="Form";function Ki(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yn(t){let e=y.useContext(Q);return N(e,Ki(t)),e}function Yi(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=li(),l=K(),u=le(t,{relative:o});return y.useCallback(c=>{if(Ii(c,e)){c.preventDefault();let h=r!==void 0?r:ie(l)===ie(u);a(t,{replace:h,state:n,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,u,r,n,e,t,i,o,s])}var Qi=0,Zi=()=>`__${String(++Qi)}__`;function eo(){let{router:t}=yn("useSubmit"),{basename:e}=y.useContext(W),r=bi();return y.useCallback(async(n,i={})=>{let{action:o,method:s,encType:a,formData:l,body:u}=Ni(n,e);if(i.navigate===!1){let c=i.fetcherKey||Zi();await t.fetch(c,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function to(t,{relative:e}={}){let{basename:r}=y.useContext(W),n=y.useContext(V);N(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...le(t||".",{relative:e})},s=K();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let c=a.toString();o.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:F([r,o.pathname])),ie(o)}function ro(t,e={}){let r=y.useContext(ln);N(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=yn("useViewTransitionState"),i=le(t,{relative:e.relative});if(!r.isTransitioning)return!1;let o=M(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=M(r.nextLocation.pathname,n)||r.nextLocation.pathname;return xe(i.pathname,s)!=null||xe(i.pathname,o)!=null}new TextEncoder;var Le={exports:{}},pe={},zt;function no(){return zt||(zt=1,R.crypto&&R.crypto.getRandomValues?pe.randomBytes=function(t){var e=new Uint8Array(t);return R.crypto.getRandomValues(e),e}:pe.randomBytes=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=Math.floor(Math.random()*256);return e}),pe}var Ne,Jt;function Z(){if(Jt)return Ne;Jt=1;var t=no(),e="abcdefghijklmnopqrstuvwxyz012345";return Ne={string:function(r){for(var n=e.length,i=t.randomBytes(r),o=[],s=0;s<r;s++)o.push(e.substr(i[s]%n,1));return o.join("")},number:function(r){return Math.floor(Math.random()*r)},numberString:function(r){var n=(""+(r-1)).length,i=new Array(n+1).join("0");return(i+this.number(r)).slice(-n)}},Ne}var Gt;function J(){return Gt||(Gt=1,function(t){var e=Z(),r={},n=!1,i=R.chrome&&R.chrome.app&&R.chrome.app.runtime;t.exports={attachEvent:function(s,a){typeof R.addEventListener<"u"?R.addEventListener(s,a,!1):R.document&&R.attachEvent&&(R.document.attachEvent("on"+s,a),R.attachEvent("on"+s,a))},detachEvent:function(s,a){typeof R.addEventListener<"u"?R.removeEventListener(s,a,!1):R.document&&R.detachEvent&&(R.document.detachEvent("on"+s,a),R.detachEvent("on"+s,a))},unloadAdd:function(s){if(i)return null;var a=e.string(8);return r[a]=s,n&&setTimeout(this.triggerUnloadCallbacks,0),a},unloadDel:function(s){s in r&&delete r[s]},triggerUnloadCallbacks:function(){for(var s in r)r[s](),delete r[s]}};var o=function(){n||(n=!0,t.exports.triggerUnloadCallbacks())};i||t.exports.attachEvent("unload",o)}(Le)),Le.exports}var Pe,Kt;function io(){return Kt||(Kt=1,Pe=function(e,r){if(r=r.split(":")[0],e=+e,!e)return!1;switch(r){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}),Pe}var me={},Yt;function oo(){if(Yt)return me;Yt=1;var t=Object.prototype.hasOwnProperty,e;function r(s){try{return decodeURIComponent(s.replace(/\+/g," "))}catch{return null}}function n(s){try{return encodeURIComponent(s)}catch{return null}}function i(s){for(var a=/([^=?#&]+)=?([^&]*)/g,l={},u;u=a.exec(s);){var c=r(u[1]),h=r(u[2]);c===null||h===null||c in l||(l[c]=h)}return l}function o(s,a){a=a||"";var l=[],u,c;typeof a!="string"&&(a="?");for(c in s)if(t.call(s,c)){if(u=s[c],!u&&(u===null||u===e||isNaN(u))&&(u=""),c=n(c),u=n(u),c===null||u===null)continue;l.push(c+"="+u)}return l.length?a+l.join("&"):""}return me.stringify=o,me.parse=i,me}var Ae,Qt;function bn(){if(Qt)return Ae;Qt=1;var t=io(),e=oo(),r=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,n=/[\n\r\t]/g,i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o=/:\d+$/,s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,a=/^[a-zA-Z]:/;function l(d){return(d||"").toString().replace(r,"")}var u=[["#","hash"],["?","query"],function(m,p){return f(p.protocol)?m.replace(/\\/g,"/"):m},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],c={hash:1,query:1};function h(d){var m;typeof window<"u"?m=window:typeof R<"u"?m=R:typeof self<"u"?m=self:m={};var p=m.location||{};d=d||p;var g={},T=typeof d,E;if(d.protocol==="blob:")g=new x(unescape(d.pathname),{});else if(T==="string"){g=new x(d,{});for(E in c)delete g[E]}else if(T==="object"){for(E in d)E in c||(g[E]=d[E]);g.slashes===void 0&&(g.slashes=i.test(d.href))}return g}function f(d){return d==="file:"||d==="ftp:"||d==="http:"||d==="https:"||d==="ws:"||d==="wss:"}function w(d,m){d=l(d),d=d.replace(n,""),m=m||{};var p=s.exec(d),g=p[1]?p[1].toLowerCase():"",T=!!p[2],E=!!p[3],v=0,S;return T?E?(S=p[2]+p[3]+p[4],v=p[2].length+p[3].length):(S=p[2]+p[4],v=p[2].length):E?(S=p[3]+p[4],v=p[3].length):S=p[4],g==="file:"?v>=2&&(S=S.slice(2)):f(g)?S=p[4]:g?T&&(S=S.slice(2)):v>=2&&f(m.protocol)&&(S=p[4]),{protocol:g,slashes:T||f(g),slashesCount:v,rest:S}}function b(d,m){if(d==="")return m;for(var p=(m||"/").split("/").slice(0,-1).concat(d.split("/")),g=p.length,T=p[g-1],E=!1,v=0;g--;)p[g]==="."?p.splice(g,1):p[g]===".."?(p.splice(g,1),v++):v&&(g===0&&(E=!0),p.splice(g,1),v--);return E&&p.unshift(""),(T==="."||T==="..")&&p.push(""),p.join("/")}function x(d,m,p){if(d=l(d),d=d.replace(n,""),!(this instanceof x))return new x(d,m,p);var g,T,E,v,S,I,O=u.slice(),A=typeof m,k=this,H=0;for(A!=="object"&&A!=="string"&&(p=m,m=null),p&&typeof p!="function"&&(p=e.parse),m=h(m),T=w(d||"",m),g=!T.protocol&&!T.slashes,k.slashes=T.slashes||g&&m.slashes,k.protocol=T.protocol||m.protocol||"",d=T.rest,(T.protocol==="file:"&&(T.slashesCount!==2||a.test(d))||!T.slashes&&(T.protocol||T.slashesCount<2||!f(k.protocol)))&&(O[3]=[/(.*)/,"pathname"]);H<O.length;H++){if(v=O[H],typeof v=="function"){d=v(d,k);continue}E=v[0],I=v[1],E!==E?k[I]=d:typeof E=="string"?(S=E==="@"?d.lastIndexOf(E):d.indexOf(E),~S&&(typeof v[2]=="number"?(k[I]=d.slice(0,S),d=d.slice(S+v[2])):(k[I]=d.slice(S),d=d.slice(0,S)))):(S=E.exec(d))&&(k[I]=S[1],d=d.slice(0,S.index)),k[I]=k[I]||g&&v[3]&&m[I]||"",v[4]&&(k[I]=k[I].toLowerCase())}p&&(k.query=p(k.query)),g&&m.slashes&&k.pathname.charAt(0)!=="/"&&(k.pathname!==""||m.pathname!=="")&&(k.pathname=b(k.pathname,m.pathname)),k.pathname.charAt(0)!=="/"&&f(k.protocol)&&(k.pathname="/"+k.pathname),t(k.port,k.protocol)||(k.host=k.hostname,k.port=""),k.username=k.password="",k.auth&&(S=k.auth.indexOf(":"),~S?(k.username=k.auth.slice(0,S),k.username=encodeURIComponent(decodeURIComponent(k.username)),k.password=k.auth.slice(S+1),k.password=encodeURIComponent(decodeURIComponent(k.password))):k.username=encodeURIComponent(decodeURIComponent(k.auth)),k.auth=k.password?k.username+":"+k.password:k.username),k.origin=k.protocol!=="file:"&&f(k.protocol)&&k.host?k.protocol+"//"+k.host:"null",k.href=k.toString()}function C(d,m,p){var g=this;switch(d){case"query":typeof m=="string"&&m.length&&(m=(p||e.parse)(m)),g[d]=m;break;case"port":g[d]=m,t(m,g.protocol)?m&&(g.host=g.hostname+":"+m):(g.host=g.hostname,g[d]="");break;case"hostname":g[d]=m,g.port&&(m+=":"+g.port),g.host=m;break;case"host":g[d]=m,o.test(m)?(m=m.split(":"),g.port=m.pop(),g.hostname=m.join(":")):(g.hostname=m,g.port="");break;case"protocol":g.protocol=m.toLowerCase(),g.slashes=!p;break;case"pathname":case"hash":if(m){var T=d==="pathname"?"/":"#";g[d]=m.charAt(0)!==T?T+m:m}else g[d]=m;break;case"username":case"password":g[d]=encodeURIComponent(m);break;case"auth":var E=m.indexOf(":");~E?(g.username=m.slice(0,E),g.username=encodeURIComponent(decodeURIComponent(g.username)),g.password=m.slice(E+1),g.password=encodeURIComponent(decodeURIComponent(g.password))):g.username=encodeURIComponent(decodeURIComponent(m))}for(var v=0;v<u.length;v++){var S=u[v];S[4]&&(g[S[1]]=g[S[1]].toLowerCase())}return g.auth=g.password?g.username+":"+g.password:g.username,g.origin=g.protocol!=="file:"&&f(g.protocol)&&g.host?g.protocol+"//"+g.host:"null",g.href=g.toString(),g}function _(d){(!d||typeof d!="function")&&(d=e.stringify);var m,p=this,g=p.host,T=p.protocol;T&&T.charAt(T.length-1)!==":"&&(T+=":");var E=T+(p.protocol&&p.slashes||f(p.protocol)?"//":"");return p.username?(E+=p.username,p.password&&(E+=":"+p.password),E+="@"):p.password?(E+=":"+p.password,E+="@"):p.protocol!=="file:"&&f(p.protocol)&&!g&&p.pathname!=="/"&&(E+="@"),(g[g.length-1]===":"||o.test(p.hostname)&&!p.port)&&(g+=":"),E+=g+p.pathname,m=typeof p.query=="object"?d(p.query):p.query,m&&(E+=m.charAt(0)!=="?"?"?"+m:m),p.hash&&(E+=p.hash),E}return x.prototype={set:C,toString:_},x.extractProtocol=w,x.location=h,x.trimLeft=l,x.qs=e,Ae=x,Ae}var qe,Zt;function j(){if(Zt)return qe;Zt=1;var t=bn();return qe={getOrigin:function(e){if(!e)return null;var r=new t(e);if(r.protocol==="file:")return null;var n=r.port;return n||(n=r.protocol==="https:"?"443":"80"),r.protocol+"//"+r.hostname+":"+n},isOriginEqual:function(e,r){var n=this.getOrigin(e)===this.getOrigin(r);return n},isSchemeEqual:function(e,r){return e.split(":")[0]===r.split(":")[0]},addPath:function(e,r){var n=e.split("?");return n[0]+r+(n[1]?"?"+n[1]:"")},addQuery:function(e,r){return e+(e.indexOf("?")===-1?"?"+r:"&"+r)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}},qe}var ve={exports:{}},er;function L(){return er||(er=1,typeof Object.create=="function"?ve.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:ve.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),ve.exports}var Be={},Ue,tr;function wn(){if(tr)return Ue;tr=1;function t(){this._listeners={}}return t.prototype.addEventListener=function(e,r){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];n.indexOf(r)===-1&&(n=n.concat([r])),this._listeners[e]=n},t.prototype.removeEventListener=function(e,r){var n=this._listeners[e];if(n){var i=n.indexOf(r);if(i!==-1){n.length>1?this._listeners[e]=n.slice(0,i).concat(n.slice(i+1)):delete this._listeners[e];return}}},t.prototype.dispatchEvent=function(){var e=arguments[0],r=e.type,n=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+r]&&this["on"+r].apply(this,n),r in this._listeners)for(var i=this._listeners[r],o=0;o<i.length;o++)i[o].apply(this,n)},Ue=t,Ue}var rr;function U(){if(rr)return Be;rr=1;var t=L(),e=wn();function r(){e.call(this)}return t(r,e),r.prototype.removeAllListeners=function(n){n?delete this._listeners[n]:this._listeners={}},r.prototype.once=function(n,i){var o=this,s=!1;function a(){o.removeListener(n,a),s||(s=!0,i.apply(this,arguments))}this.on(n,a)},r.prototype.emit=function(){var n=arguments[0],i=this._listeners[n];if(i){for(var o=arguments.length,s=new Array(o-1),a=1;a<o;a++)s[a-1]=arguments[a];for(var l=0;l<i.length;l++)i[l].apply(this,s)}},r.prototype.on=r.prototype.addListener=e.prototype.addEventListener,r.prototype.removeListener=e.prototype.removeEventListener,Be.EventEmitter=r,Be}var ge={exports:{}},nr;function so(){if(nr)return ge.exports;nr=1;var t=R.WebSocket||R.MozWebSocket;return t?ge.exports=function(r){return new t(r)}:ge.exports=void 0,ge.exports}var je,ir;function ao(){if(ir)return je;ir=1;var t=J(),e=j(),r=L(),n=U().EventEmitter,i=so(),o=function(){};function s(a,l,u){if(!s.enabled())throw new Error("Transport created when disabled");n.call(this);var c=this,h=e.addPath(a,"/websocket");h.slice(0,5)==="https"?h="wss"+h.slice(5):h="ws"+h.slice(4),this.url=h,this.ws=new i(this.url,[],u),this.ws.onmessage=function(f){o("message event",f.data),c.emit("message",f.data)},this.unloadRef=t.unloadAdd(function(){c.ws.close()}),this.ws.onclose=function(f){o("close event",f.code,f.reason),c.emit("close",f.code,f.reason),c._cleanup()},this.ws.onerror=function(f){c.emit("close",1006,"WebSocket connection broken"),c._cleanup()}}return r(s,n),s.prototype.send=function(a){var l="["+a+"]";this.ws.send(l)},s.prototype.close=function(){var a=this.ws;this._cleanup(),a&&a.close()},s.prototype._cleanup=function(){var a=this.ws;a&&(a.onmessage=a.onclose=a.onerror=null),t.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},s.enabled=function(){return!!i},s.transportName="websocket",s.roundTrips=2,je=s,je}var De,or;function lo(){if(or)return De;or=1;var t=L(),e=U().EventEmitter,r=function(){};function n(i,o){e.call(this),this.sendBuffer=[],this.sender=o,this.url=i}return t(n,e),n.prototype.send=function(i){this.sendBuffer.push(i),this.sendStop||this.sendSchedule()},n.prototype.sendScheduleWait=function(){var i=this,o;this.sendStop=function(){i.sendStop=null,clearTimeout(o)},o=setTimeout(function(){i.sendStop=null,i.sendSchedule()},25)},n.prototype.sendSchedule=function(){r("sendSchedule",this.sendBuffer.length);var i=this;if(this.sendBuffer.length>0){var o="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,o,function(s){i.sendStop=null,s?(i.emit("close",s.code||1006,"Sending error: "+s),i.close()):i.sendScheduleWait()}),this.sendBuffer=[]}},n.prototype._cleanup=function(){this.removeAllListeners()},n.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},De=n,De}var He,sr;function uo(){if(sr)return He;sr=1;var t=L(),e=U().EventEmitter,r=function(){};function n(i,o,s){e.call(this),this.Receiver=i,this.receiveUrl=o,this.AjaxObject=s,this._scheduleReceiver()}return t(n,e),n.prototype._scheduleReceiver=function(){var i=this,o=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);o.on("message",function(s){i.emit("message",s)}),o.once("close",function(s,a){r("close",s,a,i.pollIsClosing),i.poll=o=null,i.pollIsClosing||(a==="network"?i._scheduleReceiver():(i.emit("close",s||1006,a),i.removeAllListeners()))})},n.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},He=n,He}var $e,ar;function _n(){if(ar)return $e;ar=1;var t=L(),e=j(),r=lo(),n=uo();function i(o,s,a,l,u){var c=e.addPath(o,s),h=this;r.call(this,o,a),this.poll=new n(l,c,u),this.poll.on("message",function(f){h.emit("message",f)}),this.poll.once("close",function(f,w){h.poll=null,h.emit("close",f,w),h.close()})}return t(i,r),i.prototype.close=function(){r.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},$e=i,$e}var We,lr;function ee(){if(lr)return We;lr=1;var t=L(),e=j(),r=_n();function n(o){return function(s,a,l){var u={};typeof a=="string"&&(u.headers={"Content-type":"text/plain"});var c=e.addPath(s,"/xhr_send"),h=new o("POST",c,a,u);return h.once("finish",function(f){if(h=null,f!==200&&f!==204)return l(new Error("http status "+f));l()}),function(){h.close(),h=null;var f=new Error("Aborted");f.code=1e3,l(f)}}}function i(o,s,a,l){r.call(this,o,s,n(l),a,l)}return t(i,r),We=i,We}var Fe,ur;function ke(){if(ur)return Fe;ur=1;var t=L(),e=U().EventEmitter;function r(n,i){e.call(this);var o=this;this.bufferPosition=0,this.xo=new i("POST",n,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(s,a){o._chunkHandler(s,a),o.xo=null;var l=s===200?"network":"permanent";o.emit("close",null,l),o._cleanup()})}return t(r,e),r.prototype._chunkHandler=function(n,i){if(!(n!==200||!i))for(var o=-1;;this.bufferPosition+=o+1){var s=i.slice(this.bufferPosition);if(o=s.indexOf(`
`),o===-1)break;var a=s.slice(0,o);a&&this.emit("message",a)}},r.prototype._cleanup=function(){this.removeAllListeners()},r.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},Fe=r,Fe}var Me,cr;function En(){if(cr)return Me;cr=1;var t=U().EventEmitter,e=L(),r=J(),n=j(),i=R.XMLHttpRequest,o=function(){};function s(u,c,h,f){var w=this;t.call(this),setTimeout(function(){w._start(u,c,h,f)},0)}e(s,t),s.prototype._start=function(u,c,h,f){var w=this;try{this.xhr=new i}catch{}if(!this.xhr){this.emit("finish",0,"no xhr support"),this._cleanup();return}c=n.addQuery(c,"t="+ +new Date),this.unloadRef=r.unloadAdd(function(){w._cleanup(!0)});try{this.xhr.open(u,c,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){o("xhr timeout"),w.emit("finish",0,""),w._cleanup(!1)})}catch{this.emit("finish",0,""),this._cleanup(!1);return}if((!f||!f.noCredentials)&&s.supportsCORS&&(this.xhr.withCredentials=!0),f&&f.headers)for(var b in f.headers)this.xhr.setRequestHeader(b,f.headers[b]);this.xhr.onreadystatechange=function(){if(w.xhr){var x=w.xhr,C,_;switch(o("readyState",x.readyState),x.readyState){case 3:try{_=x.status,C=x.responseText}catch{}_===1223&&(_=204),_===200&&C&&C.length>0&&w.emit("chunk",_,C);break;case 4:_=x.status,_===1223&&(_=204),(_===12005||_===12029)&&(_=0),o("finish",_,x.responseText),w.emit("finish",_,x.responseText),w._cleanup(!1);break}}};try{w.xhr.send(h)}catch{w.emit("finish",0,""),w._cleanup(!1)}},s.prototype._cleanup=function(u){if(this.xhr){if(this.removeAllListeners(),r.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),u)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}},s.prototype.close=function(){this._cleanup(!0)},s.enabled=!!i;var a=["Active"].concat("Object").join("X");!s.enabled&&a in R&&(i=function(){try{return new R[a]("Microsoft.XMLHTTP")}catch{return null}},s.enabled=!!new i);var l=!1;try{l="withCredentials"in new i}catch{}return s.supportsCORS=l,Me=s,Me}var Ve,hr;function Te(){if(hr)return Ve;hr=1;var t=L(),e=En();function r(n,i,o,s){e.call(this,n,i,o,s)}return t(r,e),r.enabled=e.enabled&&e.supportsCORS,Ve=r,Ve}var Xe,fr;function ue(){if(fr)return Xe;fr=1;var t=L(),e=En();function r(n,i,o){e.call(this,n,i,o,{noCredentials:!0})}return t(r,e),r.enabled=e.enabled,Xe=r,Xe}var ze,dr;function ce(){return dr||(dr=1,ze={isOpera:function(){return R.navigator&&/opera/i.test(R.navigator.userAgent)},isKonqueror:function(){return R.navigator&&/konqueror/i.test(R.navigator.userAgent)},hasDomain:function(){if(!R.document)return!0;try{return!!R.document.domain}catch{return!1}}}),ze}var Je,pr;function co(){if(pr)return Je;pr=1;var t=L(),e=ee(),r=ke(),n=Te(),i=ue(),o=ce();function s(a){if(!i.enabled&&!n.enabled)throw new Error("Transport created when disabled");e.call(this,a,"/xhr_streaming",r,n)}return t(s,e),s.enabled=function(a){return a.nullOrigin||o.isOpera()?!1:n.enabled},s.transportName="xhr-streaming",s.roundTrips=2,s.needBody=!!R.document,Je=s,Je}var Ge,mr;function Ut(){if(mr)return Ge;mr=1;var t=U().EventEmitter,e=L(),r=J(),n=ce(),i=j(),o=function(){};function s(a,l,u){var c=this;t.call(this),setTimeout(function(){c._start(a,l,u)},0)}return e(s,t),s.prototype._start=function(a,l,u){var c=this,h=new R.XDomainRequest;l=i.addQuery(l,"t="+ +new Date),h.onerror=function(){c._error()},h.ontimeout=function(){c._error()},h.onprogress=function(){o("progress",h.responseText),c.emit("chunk",200,h.responseText)},h.onload=function(){c.emit("finish",200,h.responseText),c._cleanup(!1)},this.xdr=h,this.unloadRef=r.unloadAdd(function(){c._cleanup(!0)});try{this.xdr.open(a,l),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(u)}catch{this._error()}},s.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},s.prototype._cleanup=function(a){if(this.xdr){if(this.removeAllListeners(),r.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,a)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}},s.prototype.close=function(){this._cleanup(!0)},s.enabled=!!(R.XDomainRequest&&n.hasDomain()),Ge=s,Ge}var Ke,vr;function xn(){if(vr)return Ke;vr=1;var t=L(),e=ee(),r=ke(),n=Ut();function i(o){if(!n.enabled)throw new Error("Transport created when disabled");e.call(this,o,"/xhr_streaming",r,n)}return t(i,e),i.enabled=function(o){return o.cookie_needed||o.nullOrigin?!1:n.enabled&&o.sameScheme},i.transportName="xdr-streaming",i.roundTrips=2,Ke=i,Ke}var Ye,gr;function Sn(){return gr||(gr=1,Ye=R.EventSource),Ye}var Qe,yr;function ho(){if(yr)return Qe;yr=1;var t=L(),e=U().EventEmitter,r=Sn(),n=function(){};function i(o){e.call(this);var s=this,a=this.es=new r(o);a.onmessage=function(l){n("message",l.data),s.emit("message",decodeURI(l.data))},a.onerror=function(l){n("error",a.readyState);var u=a.readyState!==2?"network":"permanent";s._cleanup(),s._close(u)}}return t(i,e),i.prototype.abort=function(){this._cleanup(),this._close("user")},i.prototype._cleanup=function(){var o=this.es;o&&(o.onmessage=o.onerror=null,o.close(),this.es=null)},i.prototype._close=function(o){var s=this;setTimeout(function(){s.emit("close",null,o),s.removeAllListeners()},200)},Qe=i,Qe}var Ze,br;function wr(){if(br)return Ze;br=1;var t=L(),e=ee(),r=ho(),n=Te(),i=Sn();function o(s){if(!o.enabled())throw new Error("Transport created when disabled");e.call(this,s,"/eventsource",r,n)}return t(o,e),o.enabled=function(){return!!i},o.transportName="eventsource",o.roundTrips=2,Ze=o,Ze}var et,_r;function Cn(){return _r||(_r=1,et="1.6.1"),et}var tt={exports:{}},Er;function he(){return Er||(Er=1,function(t){var e=J(),r=ce();t.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){t.exports.WPrefix in R||(R[t.exports.WPrefix]={})},postMessage:function(n,i){R.parent!==R&&R.parent.postMessage(JSON.stringify({windowId:t.exports.currentWindowId,type:n,data:i||""}),"*")},createIframe:function(n,i){var o=R.document.createElement("iframe"),s,a,l=function(){clearTimeout(s);try{o.onload=null}catch{}o.onerror=null},u=function(){o&&(l(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),e.unloadDel(a))},c=function(f){o&&(u(),i(f))},h=function(f,w){setTimeout(function(){try{o&&o.contentWindow&&o.contentWindow.postMessage(f,w)}catch{}},0)};return o.src=n,o.style.display="none",o.style.position="absolute",o.onerror=function(){c("onerror")},o.onload=function(){clearTimeout(s),s=setTimeout(function(){c("onload timeout")},2e3)},R.document.body.appendChild(o),s=setTimeout(function(){c("timeout")},15e3),a=e.unloadAdd(u),{post:h,cleanup:u,loaded:l}},createHtmlfile:function(n,i){var o=["Active"].concat("Object").join("X"),s=new R[o]("htmlfile"),a,l,u,c=function(){clearTimeout(a),u.onerror=null},h=function(){s&&(c(),e.unloadDel(l),u.parentNode.removeChild(u),u=s=null,CollectGarbage())},f=function(x){s&&(h(),i(x))},w=function(x,C){try{setTimeout(function(){u&&u.contentWindow&&u.contentWindow.postMessage(x,C)},0)}catch{}};s.open(),s.write('<html><script>document.domain="'+R.document.domain+'";<\/script></html>'),s.close(),s.parentWindow[t.exports.WPrefix]=R[t.exports.WPrefix];var b=s.createElement("div");return s.body.appendChild(b),u=s.createElement("iframe"),b.appendChild(u),u.src=n,u.onerror=function(){f("onerror")},a=setTimeout(function(){f("timeout")},15e3),l=e.unloadAdd(h),{post:w,cleanup:h,loaded:c}}},t.exports.iframeEnabled=!1,R.document&&(t.exports.iframeEnabled=(typeof R.postMessage=="function"||typeof R.postMessage=="object")&&!r.isKonqueror())}(tt)),tt.exports}var rt,xr;function Rn(){if(xr)return rt;xr=1;var t=L(),e=U().EventEmitter,r=Cn(),n=j(),i=he(),o=J(),s=Z(),a=function(){};function l(u,c,h){if(!l.enabled())throw new Error("Transport created when disabled");e.call(this);var f=this;this.origin=n.getOrigin(h),this.baseUrl=h,this.transUrl=c,this.transport=u,this.windowId=s.string(8);var w=n.addPath(h,"/iframe.html")+"#"+this.windowId;this.iframeObj=i.createIframe(w,function(b){f.emit("close",1006,"Unable to load an iframe ("+b+")"),f.close()}),this.onmessageCallback=this._message.bind(this),o.attachEvent("message",this.onmessageCallback)}return t(l,e),l.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){o.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},l.prototype._message=function(u){if(a("message",u.data),!n.isOriginEqual(u.origin,this.origin)){a("not same origin",u.origin,this.origin);return}var c;try{c=JSON.parse(u.data)}catch{a("bad json",u.data);return}if(c.windowId!==this.windowId){a("mismatched window id",c.windowId,this.windowId);return}switch(c.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([r,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",c.data);break;case"c":var h;try{h=JSON.parse(c.data)}catch{a("bad json",c.data);return}this.emit("close",h[0],h[1]),this.close();break}},l.prototype.postMessage=function(u,c){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:u,data:c||""}),this.origin)},l.prototype.send=function(u){this.postMessage("m",u)},l.enabled=function(){return i.iframeEnabled},l.transportName="iframe",l.roundTrips=2,rt=l,rt}var nt,Sr;function jt(){return Sr||(Sr=1,nt={isObject:function(t){var e=typeof t;return e==="function"||e==="object"&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,r,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}}),nt}var it,Cr;function ot(){if(Cr)return it;Cr=1;var t=L(),e=Rn(),r=jt();return it=function(n){function i(o,s){e.call(this,n.transportName,o,s)}return t(i,e),i.enabled=function(o,s){if(!R.document)return!1;var a=r.extend({},s);return a.sameOrigin=!0,n.enabled(a)&&e.enabled()},i.transportName="iframe-"+n.transportName,i.needBody=!0,i.roundTrips=e.roundTrips+n.roundTrips-1,i.facadeTransport=n,i},it}var st,Rr;function fo(){if(Rr)return st;Rr=1;var t=L(),e=he(),r=j(),n=U().EventEmitter,i=Z(),o=function(){};function s(l){n.call(this);var u=this;e.polluteGlobalNamespace(),this.id="a"+i.string(6),l=r.addQuery(l,"c="+decodeURIComponent(e.WPrefix+"."+this.id)),o("using htmlfile",s.htmlfileEnabled);var c=s.htmlfileEnabled?e.createHtmlfile:e.createIframe;R[e.WPrefix][this.id]={start:function(){u.iframeObj.loaded()},message:function(h){u.emit("message",h)},stop:function(){u._cleanup(),u._close("network")}},this.iframeObj=c(l,function(){u._cleanup(),u._close("permanent")})}t(s,n),s.prototype.abort=function(){this._cleanup(),this._close("user")},s.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete R[e.WPrefix][this.id]},s.prototype._close=function(l){this.emit("close",null,l),this.removeAllListeners()},s.htmlfileEnabled=!1;var a=["Active"].concat("Object").join("X");if(a in R)try{s.htmlfileEnabled=!!new R[a]("htmlfile")}catch{}return s.enabled=s.htmlfileEnabled||e.iframeEnabled,st=s,st}var at,kr;function Tr(){if(kr)return at;kr=1;var t=L(),e=fo(),r=ue(),n=ee();function i(o){if(!e.enabled)throw new Error("Transport created when disabled");n.call(this,o,"/htmlfile",e,r)}return t(i,n),i.enabled=function(o){return e.enabled&&o.sameOrigin},i.transportName="htmlfile",i.roundTrips=2,at=i,at}var lt,Ir;function Or(){if(Ir)return lt;Ir=1;var t=L(),e=ee(),r=ke(),n=Te(),i=ue();function o(s){if(!i.enabled&&!n.enabled)throw new Error("Transport created when disabled");e.call(this,s,"/xhr",r,n)}return t(o,e),o.enabled=function(s){return s.nullOrigin?!1:i.enabled&&s.sameOrigin?!0:n.enabled},o.transportName="xhr-polling",o.roundTrips=2,lt=o,lt}var ut,Lr;function po(){if(Lr)return ut;Lr=1;var t=L(),e=ee(),r=xn(),n=ke(),i=Ut();function o(s){if(!i.enabled)throw new Error("Transport created when disabled");e.call(this,s,"/xhr",n,i)}return t(o,e),o.enabled=r.enabled,o.transportName="xdr-polling",o.roundTrips=2,ut=o,ut}var ct,Nr;function mo(){if(Nr)return ct;Nr=1;var t=he(),e=Z(),r=ce(),n=j(),i=L(),o=U().EventEmitter,s=function(){};function a(l){var u=this;o.call(this),t.polluteGlobalNamespace(),this.id="a"+e.string(6);var c=n.addQuery(l,"c="+encodeURIComponent(t.WPrefix+"."+this.id));R[t.WPrefix][this.id]=this._callback.bind(this),this._createScript(c),this.timeoutId=setTimeout(function(){u._abort(new Error("JSONP script loaded abnormally (timeout)"))},a.timeout)}return i(a,o),a.prototype.abort=function(){if(R[t.WPrefix][this.id]){var l=new Error("JSONP user aborted read");l.code=1e3,this._abort(l)}},a.timeout=35e3,a.scriptErrorTimeout=1e3,a.prototype._callback=function(l){this._cleanup(),!this.aborting&&(l&&this.emit("message",l),this.emit("close",null,"network"),this.removeAllListeners())},a.prototype._abort=function(l){this._cleanup(),this.aborting=!0,this.emit("close",l.code,l.message),this.removeAllListeners()},a.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var l=this.script;l.parentNode.removeChild(l),l.onreadystatechange=l.onerror=l.onload=l.onclick=null,this.script=null}delete R[t.WPrefix][this.id]},a.prototype._scriptError=function(){var l=this;this.errorTimer||(this.errorTimer=setTimeout(function(){l.loadedOkay||l._abort(new Error("JSONP script loaded abnormally (onerror)"))},a.scriptErrorTimeout))},a.prototype._createScript=function(l){var u=this,c=this.script=R.document.createElement("script"),h;if(c.id="a"+e.string(8),c.src=l,c.type="text/javascript",c.charset="UTF-8",c.onerror=this._scriptError.bind(this),c.onload=function(){u._abort(new Error("JSONP script loaded abnormally (onload)"))},c.onreadystatechange=function(){if(s("onreadystatechange",c.readyState),/loaded|closed/.test(c.readyState)){if(c&&c.htmlFor&&c.onclick){u.loadedOkay=!0;try{c.onclick()}catch{}}c&&u._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof c.async>"u"&&R.document.attachEvent)if(r.isOpera())h=this.script2=R.document.createElement("script"),h.text="try{var a = document.getElementById('"+c.id+"'); if(a)a.onerror();}catch(x){};",c.async=h.async=!1;else{try{c.htmlFor=c.id,c.event="onclick"}catch{}c.async=!0}typeof c.async<"u"&&(c.async=!0);var f=R.document.getElementsByTagName("head")[0];f.insertBefore(c,f.firstChild),h&&f.insertBefore(h,f.firstChild)},ct=a,ct}var ht,Pr;function vo(){if(Pr)return ht;Pr=1;var t=Z(),e=j(),r=function(){},n,i;function o(a){try{return R.document.createElement('<iframe name="'+a+'">')}catch{var l=R.document.createElement("iframe");return l.name=a,l}}function s(){n=R.document.createElement("form"),n.style.display="none",n.style.position="absolute",n.method="POST",n.enctype="application/x-www-form-urlencoded",n.acceptCharset="UTF-8",i=R.document.createElement("textarea"),i.name="d",n.appendChild(i),R.document.body.appendChild(n)}return ht=function(a,l,u){n||s();var c="a"+t.string(8);n.target=c,n.action=e.addQuery(e.addPath(a,"/jsonp_send"),"i="+c);var h=o(c);h.id=c,h.style.display="none",n.appendChild(h);try{i.value=l}catch{}n.submit();var f=function(w){h.onerror&&(h.onreadystatechange=h.onerror=h.onload=null,setTimeout(function(){h.parentNode.removeChild(h),h=null},500),i.value="",u(w))};return h.onerror=function(){f()},h.onload=function(){f()},h.onreadystatechange=function(w){r("onreadystatechange",c,h.readyState),h.readyState==="complete"&&f()},function(){f(new Error("Aborted"))}},ht}var ft,Ar;function go(){if(Ar)return ft;Ar=1;var t=L(),e=_n(),r=mo(),n=vo();function i(o){if(!i.enabled())throw new Error("Transport created when disabled");e.call(this,o,"/jsonp",n,r)}return t(i,e),i.enabled=function(){return!!R.document},i.transportName="jsonp-polling",i.roundTrips=1,i.needBody=!0,ft=i,ft}var dt,qr;function yo(){return qr||(qr=1,dt=[ao(),co(),xn(),wr(),ot()(wr()),Tr(),ot()(Tr()),Or(),po(),ot()(Or()),go()]),dt}var Br={},Ur;function bo(){if(Ur)return Br;Ur=1;var t=Array.prototype,e=Object.prototype,r=Function.prototype,n=String.prototype,i=t.slice,o=e.toString,s=function(E){return e.toString.call(E)==="[object Function]"},a=function(v){return o.call(v)==="[object Array]"},l=function(v){return o.call(v)==="[object String]"},u=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),c;u?c=function(E,v,S,I){!I&&v in E||Object.defineProperty(E,v,{configurable:!0,enumerable:!1,writable:!0,value:S})}:c=function(E,v,S,I){!I&&v in E||(E[v]=S)};var h=function(E,v,S){for(var I in v)e.hasOwnProperty.call(v,I)&&c(E,I,v[I],S)},f=function(E){if(E==null)throw new TypeError("can't convert "+E+" to object");return Object(E)};function w(E){var v=+E;return v!==v?v=0:v!==0&&v!==1/0&&v!==-1/0&&(v=(v>0||-1)*Math.floor(Math.abs(v))),v}function b(E){return E>>>0}function x(){}h(r,{bind:function(v){var S=this;if(!s(S))throw new TypeError("Function.prototype.bind called on incompatible "+S);for(var I=i.call(arguments,1),O=function(){if(this instanceof q){var G=S.apply(this,I.concat(i.call(arguments)));return Object(G)===G?G:this}else return S.apply(v,I.concat(i.call(arguments)))},A=Math.max(0,S.length-I.length),k=[],H=0;H<A;H++)k.push("$"+H);var q=Function("binder","return function ("+k.join(",")+"){ return binder.apply(this, arguments); }")(O);return S.prototype&&(x.prototype=S.prototype,q.prototype=new x,x.prototype=null),q}}),h(Array,{isArray:a});var C=Object("a"),_=C[0]!=="a"||!(0 in C),d=function(v){var S=!0,I=!0;return v&&(v.call("foo",function(O,A,k){typeof k!="object"&&(S=!1)}),v.call([1],function(){I=typeof this=="string"},"x")),!!v&&S&&I};h(t,{forEach:function(v){var S=f(this),I=_&&l(this)?this.split(""):S,O=arguments[1],A=-1,k=I.length>>>0;if(!s(v))throw new TypeError;for(;++A<k;)A in I&&v.call(O,I[A],A,S)}},!d(t.forEach));var m=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;h(t,{indexOf:function(v){var S=_&&l(this)?this.split(""):f(this),I=S.length>>>0;if(!I)return-1;var O=0;for(arguments.length>1&&(O=w(arguments[1])),O=O>=0?O:Math.max(0,I+O);O<I;O++)if(O in S&&S[O]===v)return O;return-1}},m);var p=n.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var E=/()??/.exec("")[1]===void 0;n.split=function(v,S){var I=this;if(v===void 0&&S===0)return[];if(o.call(v)!=="[object RegExp]")return p.call(this,v,S);var O=[],A=(v.ignoreCase?"i":"")+(v.multiline?"m":"")+(v.extended?"x":"")+(v.sticky?"y":""),k=0,H,q,G,Ht;for(v=new RegExp(v.source,A+"g"),I+="",E||(H=new RegExp("^"+v.source+"$(?!\\s)",A)),S=S===void 0?-1>>>0:b(S);(q=v.exec(I))&&(G=q.index+q[0].length,!(G>k&&(O.push(I.slice(k,q.index)),!E&&q.length>1&&q[0].replace(H,function(){for(var fe=1;fe<arguments.length-2;fe++)arguments[fe]===void 0&&(q[fe]=void 0)}),q.length>1&&q.index<I.length&&t.push.apply(O,q.slice(1)),Ht=q[0].length,k=G,O.length>=S)));)v.lastIndex===q.index&&v.lastIndex++;return k===I.length?(Ht||!v.test(""))&&O.push(""):O.push(I.slice(k)),O.length>S?O.slice(0,S):O}}():"0".split(void 0,0).length&&(n.split=function(v,S){return v===void 0&&S===0?[]:p.call(this,v,S)});var g=n.substr,T="".substr&&"0b".substr(-1)!=="b";return h(n,{substr:function(v,S){return g.call(this,v<0&&(v=this.length+v)<0?0:v,S)}},T),Br}var pt,jr;function wo(){if(jr)return pt;jr=1;var t=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,e,r=function(n){var i,o={},s=[];for(i=0;i<65536;i++)s.push(String.fromCharCode(i));return n.lastIndex=0,s.join("").replace(n,function(a){return o[a]="\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4),""}),n.lastIndex=0,o};return pt={quote:function(n){var i=JSON.stringify(n);return t.lastIndex=0,t.test(i)?(e||(e=r(t)),i.replace(t,function(o){return e[o]})):i}},pt}var mt,Dr;function _o(){if(Dr)return mt;Dr=1;var t=function(){};return mt=function(e){return{filterToEnabled:function(r,n){var i={main:[],facade:[]};return r?typeof r=="string"&&(r=[r]):r=[],e.forEach(function(o){if(o&&!(o.transportName==="websocket"&&n.websocket===!1)){if(r.length&&r.indexOf(o.transportName)===-1){t("not in whitelist",o.transportName);return}o.enabled(n)?(t("enabled",o.transportName),i.main.push(o),o.facadeTransport&&i.facade.push(o.facadeTransport)):t("disabled",o.transportName)}}),i}}},mt}var vt,Hr;function Eo(){if(Hr)return vt;Hr=1;var t={};return["log","debug","warn"].forEach(function(e){var r;try{r=R.console&&R.console[e]&&R.console[e].apply}catch{}t[e]=r?function(){return R.console[e].apply(R.console,arguments)}:e==="log"?function(){}:t.log}),vt=t,vt}var gt,$r;function Dt(){if($r)return gt;$r=1;function t(e){this.type=e}return t.prototype.initEvent=function(e,r,n){return this.type=e,this.bubbles=r,this.cancelable=n,this.timeStamp=+new Date,this},t.prototype.stopPropagation=function(){},t.prototype.preventDefault=function(){},t.CAPTURING_PHASE=1,t.AT_TARGET=2,t.BUBBLING_PHASE=3,gt=t,gt}var yt,Wr;function kn(){return Wr||(Wr=1,yt=R.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}),yt}var bt,Fr;function xo(){if(Fr)return bt;Fr=1;var t=L(),e=Dt();function r(){e.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}return t(r,e),bt=r,bt}var wt,Mr;function So(){if(Mr)return wt;Mr=1;var t=L(),e=Dt();function r(n){e.call(this),this.initEvent("message",!1,!1),this.data=n}return t(r,e),wt=r,wt}var _t,Vr;function Co(){if(Vr)return _t;Vr=1;var t=U().EventEmitter,e=L();function r(){var n=this;t.call(this),this.to=setTimeout(function(){n.emit("finish",200,"{}")},r.timeout)}return e(r,t),r.prototype.close=function(){clearTimeout(this.to)},r.timeout=2e3,_t=r,_t}var Et,Xr;function Tn(){if(Xr)return Et;Xr=1;var t=U().EventEmitter,e=L(),r=jt();function n(i,o){t.call(this);var s=this,a=+new Date;this.xo=new o("GET",i),this.xo.once("finish",function(l,u){var c,h;if(l===200){if(h=+new Date-a,u)try{c=JSON.parse(u)}catch{}r.isObject(c)||(c={})}s.emit("finish",c,h),s.removeAllListeners()})}return e(n,t),n.prototype.close=function(){this.removeAllListeners(),this.xo.close()},Et=n,Et}var xt,zr;function In(){if(zr)return xt;zr=1;var t=L(),e=U().EventEmitter,r=ue(),n=Tn();function i(o){var s=this;e.call(this),this.ir=new n(o,r),this.ir.once("finish",function(a,l){s.ir=null,s.emit("message",JSON.stringify([a,l]))})}return t(i,e),i.transportName="iframe-info-receiver",i.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},xt=i,xt}var St,Jr;function Ro(){if(Jr)return St;Jr=1;var t=U().EventEmitter,e=L(),r=J(),n=Rn(),i=In();function o(s,a){var l=this;t.call(this);var u=function(){var c=l.ifr=new n(i.transportName,a,s);c.once("message",function(h){if(h){var f;try{f=JSON.parse(h)}catch{l.emit("finish"),l.close();return}var w=f[0],b=f[1];l.emit("finish",w,b)}l.close()}),c.once("close",function(){l.emit("finish"),l.close()})};R.document.body?u():r.attachEvent("load",u)}return e(o,t),o.enabled=function(){return n.enabled()},o.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},St=o,St}var Ct,Gr;function ko(){if(Gr)return Ct;Gr=1;var t=U().EventEmitter,e=L(),r=j(),n=Ut(),i=Te(),o=ue(),s=Co(),a=Ro(),l=Tn();function u(c,h){var f=this;t.call(this),setTimeout(function(){f.doXhr(c,h)},0)}return e(u,t),u._getReceiver=function(c,h,f){return f.sameOrigin?new l(h,o):i.enabled?new l(h,i):n.enabled&&f.sameScheme?new l(h,n):a.enabled()?new a(c,h):new l(h,s)},u.prototype.doXhr=function(c,h){var f=this,w=r.addPath(c,"/info");this.xo=u._getReceiver(c,w,h),this.timeoutRef=setTimeout(function(){f._cleanup(!1),f.emit("finish")},u.timeout),this.xo.once("finish",function(b,x){f._cleanup(!0),f.emit("finish",b,x)})},u.prototype._cleanup=function(c){clearTimeout(this.timeoutRef),this.timeoutRef=null,!c&&this.xo&&this.xo.close(),this.xo=null},u.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},u.timeout=8e3,Ct=u,Ct}var Rt,Kr;function To(){if(Kr)return Rt;Kr=1;var t=he();function e(r){this._transport=r,r.on("message",this._transportMessage.bind(this)),r.on("close",this._transportClose.bind(this))}return e.prototype._transportClose=function(r,n){t.postMessage("c",JSON.stringify([r,n]))},e.prototype._transportMessage=function(r){t.postMessage("t",r)},e.prototype._send=function(r){this._transport.send(r)},e.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},Rt=e,Rt}var kt,Yr;function Io(){if(Yr)return kt;Yr=1;var t=j(),e=J(),r=To(),n=In(),i=he(),o=kn(),s=function(){};return kt=function(a,l){var u={};l.forEach(function(h){h.facadeTransport&&(u[h.facadeTransport.transportName]=h.facadeTransport)}),u[n.transportName]=n;var c;a.bootstrap_iframe=function(){var h;i.currentWindowId=o.hash.slice(1);var f=function(w){if(w.source===parent&&(typeof c>"u"&&(c=w.origin),w.origin===c)){var b;try{b=JSON.parse(w.data)}catch{s("bad json",w.data);return}if(b.windowId===i.currentWindowId)switch(b.type){case"s":var x;try{x=JSON.parse(b.data)}catch{s("bad json",b.data);break}var C=x[0],_=x[1],d=x[2],m=x[3];if(C!==a.version)throw new Error('Incompatible SockJS! Main site uses: "'+C+'", the iframe: "'+a.version+'".');if(!t.isOriginEqual(d,o.href)||!t.isOriginEqual(m,o.href))throw new Error("Can't connect to different domain from within an iframe. ("+o.href+", "+d+", "+m+")");h=new r(new u[_](d,m));break;case"m":h._send(b.data);break;case"c":h&&h._close(),h=null;break}}};e.attachEvent("message",f),i.postMessage("s")}},kt}var Tt,Qr;function Oo(){if(Qr)return Tt;Qr=1,bo();var t=bn(),e=L(),r=Z(),n=wo(),i=j(),o=J(),s=_o(),a=jt(),l=ce(),u=Eo(),c=Dt(),h=wn(),f=kn(),w=xo(),b=So(),x=ko(),C=function(){},_;function d(p,g,T){if(!(this instanceof d))return new d(p,g,T);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");h.call(this),this.readyState=d.CONNECTING,this.extensions="",this.protocol="",T=T||{},T.protocols_whitelist&&u.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=T.transports,this._transportOptions=T.transportOptions||{},this._timeout=T.timeout||0;var E=T.sessionId||8;if(typeof E=="function")this._generateSessionId=E;else if(typeof E=="number")this._generateSessionId=function(){return r.string(E)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=T.server||r.numberString(1e3);var v=new t(p);if(!v.host||!v.protocol)throw new SyntaxError("The URL '"+p+"' is invalid");if(v.hash)throw new SyntaxError("The URL must not contain a fragment");if(v.protocol!=="http:"&&v.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+v.protocol+"' is not allowed.");var S=v.protocol==="https:";if(f.protocol==="https:"&&!S&&!i.isLoopbackAddr(v.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");g?Array.isArray(g)||(g=[g]):g=[];var I=g.sort();I.forEach(function(A,k){if(!A)throw new SyntaxError("The protocols entry '"+A+"' is invalid.");if(k<I.length-1&&A===I[k+1])throw new SyntaxError("The protocols entry '"+A+"' is duplicated.")});var O=i.getOrigin(f.href);this._origin=O?O.toLowerCase():null,v.set("pathname",v.pathname.replace(/\/+$/,"")),this.url=v.href,C("using url",this.url),this._urlInfo={nullOrigin:!l.hasDomain(),sameOrigin:i.isOriginEqual(this.url,f.href),sameScheme:i.isSchemeEqual(this.url,f.href)},this._ir=new x(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}e(d,h);function m(p){return p===1e3||p>=3e3&&p<=4999}return d.prototype.close=function(p,g){if(p&&!m(p))throw new Error("InvalidAccessError: Invalid code");if(g&&g.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===d.CLOSING||this.readyState===d.CLOSED)){var T=!0;this._close(p||1e3,g||"Normal closure",T)}},d.prototype.send=function(p){if(typeof p!="string"&&(p=""+p),this.readyState===d.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===d.OPEN&&this._transport.send(n.quote(p))},d.version=Cn(),d.CONNECTING=0,d.OPEN=1,d.CLOSING=2,d.CLOSED=3,d.prototype._receiveInfo=function(p,g){if(this._ir=null,!p){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(g),this._transUrl=p.base_url?p.base_url:this.url,p=a.extend(p,this._urlInfo);var T=_.filterToEnabled(this._transportsWhitelist,p);this._transports=T.main,C(this._transports.length+" enabled transports"),this._connect()},d.prototype._connect=function(){for(var p=this._transports.shift();p;p=this._transports.shift()){if(C("attempt",p.transportName),p.needBody&&(!R.document.body||typeof R.document.readyState<"u"&&R.document.readyState!=="complete"&&R.document.readyState!=="interactive")){this._transports.unshift(p),o.attachEvent("load",this._connect.bind(this));return}var g=Math.max(this._timeout,this._rto*p.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),g);var T=i.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),E=this._transportOptions[p.transportName],v=new p(T,this._transUrl,E);v.on("message",this._transportMessage.bind(this)),v.once("close",this._transportClose.bind(this)),v.transportName=p.transportName,this._transport=v;return}this._close(2e3,"All transports failed",!1)},d.prototype._transportTimeout=function(){this.readyState===d.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},d.prototype._transportMessage=function(p){var g=this,T=p.slice(0,1),E=p.slice(1),v;switch(T){case"o":this._open();return;case"h":this.dispatchEvent(new c("heartbeat")),C("heartbeat",this.transport);return}if(E)try{v=JSON.parse(E)}catch{}if(!(typeof v>"u"))switch(T){case"a":Array.isArray(v)&&v.forEach(function(S){C("message",g.transport),g.dispatchEvent(new b(S))});break;case"m":C("message",this.transport),this.dispatchEvent(new b(v));break;case"c":Array.isArray(v)&&v.length===2&&this._close(v[0],v[1],!0);break}},d.prototype._transportClose=function(p,g){if(C("_transportClose",this.transport),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!m(p)&&p!==2e3&&this.readyState===d.CONNECTING){this._connect();return}this._close(p,g)},d.prototype._open=function(){C("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===d.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=d.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new c("open")),C("connected",this.transport)):this._close(1006,"Server lost session")},d.prototype._close=function(p,g,T){C("_close",this.transport,p,g,T,this.readyState);var E=!1;if(this._ir&&(E=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===d.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=d.CLOSING,setTimeout((function(){this.readyState=d.CLOSED,E&&this.dispatchEvent(new c("error"));var v=new w("close");v.wasClean=T||!1,v.code=p||1e3,v.reason=g,this.dispatchEvent(v),this.onmessage=this.onclose=this.onerror=null}).bind(this),0)},d.prototype.countRTO=function(p){return p>100?4*p:300+p},Tt=function(p){return _=s(p),Io()(d,p),d},Tt}var It,Zr;function Lo(){if(Zr)return It;Zr=1;var t=yo();return It=Oo()(t),"_sockjs_onload"in R&&setTimeout(R._sockjs_onload,1),It}var No=Lo();const Po=On(No);function Ao(t,e){t.terminate=function(){const r=()=>{};this.onerror=r,this.onmessage=r,this.onopen=r;const n=new Date,i=Math.random().toString().substring(2,8),o=this.onclose;this.onclose=s=>{const a=new Date().getTime()-n.getTime();e(`Discarded socket (#${i})  closed after ${a}ms, with code/reason: ${s.code}/${s.reason}`)},this.close(),o==null||o.call(t,{code:4001,reason:`Quick discarding socket (#${i}) without waiting for the shutdown sequence.`,wasClean:!1})}}const ne={LF:`
`,NULL:"\0"};class X{get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}constructor(e){const{command:r,headers:n,body:i,binaryBody:o,escapeHeaderValues:s,skipContentLengthHeader:a}=e;this.command=r,this.headers=Object.assign({},n||{}),o?(this._binaryBody=o,this.isBinaryBody=!0):(this._body=i||"",this.isBinaryBody=!1),this.escapeHeaderValues=s||!1,this.skipContentLengthHeader=a||!1}static fromRawFrame(e,r){const n={},i=o=>o.replace(/^\s+|\s+$/g,"");for(const o of e.headers.reverse()){o.indexOf(":");const s=i(o[0]);let a=i(o[1]);r&&e.command!=="CONNECT"&&e.command!=="CONNECTED"&&(a=X.hdrValueUnEscape(a)),n[s]=a}return new X({command:e.command,headers:n,binaryBody:e.binaryBody,escapeHeaderValues:r})}toString(){return this.serializeCmdAndHeaders()}serialize(){const e=this.serializeCmdAndHeaders();return this.isBinaryBody?X.toUnit8Array(e,this._binaryBody).buffer:e+this._body+ne.NULL}serializeCmdAndHeaders(){const e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const r of Object.keys(this.headers||{})){const n=this.headers[r];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?e.push(`${r}:${X.hdrValueEscape(`${n}`)}`):e.push(`${r}:${n}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&e.push(`content-length:${this.bodyLength()}`),e.join(ne.LF)+ne.LF+ne.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const e=this.binaryBody;return e?e.length:0}static sizeOfUTF8(e){return e?new TextEncoder().encode(e).length:0}static toUnit8Array(e,r){const n=new TextEncoder().encode(e),i=new Uint8Array([0]),o=new Uint8Array(n.length+r.length+i.length);return o.set(n),o.set(r,n.length),o.set(i,n.length+r.length),o}static marshall(e){return new X(e).serialize()}static hdrValueEscape(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const en=0,ye=10,be=13,qo=58;class Bo{constructor(e,r){this.onFrame=e,this.onIncomingPing=r,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(e,r=!1){let n;if(typeof e=="string"?n=this._encoder.encode(e):n=new Uint8Array(e),r&&n[n.length-1]!==0){const i=new Uint8Array(n.length+1);i.set(n,0),i[n.length]=0,n=i}for(let i=0;i<n.length;i++){const o=n[i];this._onByte(o)}}_collectFrame(e){if(e!==en&&e!==be){if(e===ye){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(e)}}_collectCommand(e){if(e!==be){if(e===ye){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_collectHeaders(e){if(e!==be){if(e===ye){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(e)}}_reinjectByte(e){this._onByte(e)}_collectHeaderKey(e){if(e===qo){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(e)}_collectHeaderValue(e){if(e!==be){if(e===ye){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_setupCollectBody(){const e=this._results.headers.filter(r=>r[0]==="content-length")[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(e){if(e===en){this._retrievedBody();return}this._consumeByte(e)}_collectBodyFixedSize(e){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(e)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(e){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",e)}this._initState()}_consumeByte(e){this._token.push(e)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const e=new Uint8Array(this._token);return this._token=[],e}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var z;(function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSING=2]="CLOSING",t[t.CLOSED=3]="CLOSED"})(z||(z={}));var D;(function(t){t[t.ACTIVE=0]="ACTIVE",t[t.DEACTIVATING=1]="DEACTIVATING",t[t.INACTIVE=2]="INACTIVE"})(D||(D={}));var Se;(function(t){t[t.LINEAR=0]="LINEAR",t[t.EXPONENTIAL=1]="EXPONENTIAL"})(Se||(Se={}));var oe;(function(t){t.Interval="interval",t.Worker="worker"})(oe||(oe={}));class Uo{constructor(e,r=oe.Interval,n){this._interval=e,this._strategy=r,this._debug=n,this._workerScript=`
    var startTime = Date.now();
    setInterval(function() {
        self.postMessage(Date.now() - startTime);
    }, ${this._interval});
  `}start(e){this.stop(),this.shouldUseWorker()?this.runWorker(e):this.runInterval(e)}stop(){this.disposeWorker(),this.disposeInterval()}shouldUseWorker(){return typeof Worker<"u"&&this._strategy===oe.Worker}runWorker(e){this._debug("Using runWorker for outgoing pings"),this._worker||(this._worker=new Worker(URL.createObjectURL(new Blob([this._workerScript],{type:"text/javascript"}))),this._worker.onmessage=r=>e(r.data))}runInterval(e){if(this._debug("Using runInterval for outgoing pings"),!this._timer){const r=Date.now();this._timer=setInterval(()=>{e(Date.now()-r)},this._interval)}}disposeWorker(){this._worker&&(this._worker.terminate(),delete this._worker,this._debug("Outgoing ping disposeWorker"))}disposeInterval(){this._timer&&(clearInterval(this._timer),delete this._timer,this._debug("Outgoing ping disposeInterval"))}}class B{constructor(e){this.versions=e}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(e=>`v${e.replace(".","")}.stomp`)}}B.V1_0="1.0";B.V1_1="1.1";B.V1_2="1.2";B.default=new B([B.V1_2,B.V1_1,B.V1_0]);class jo{get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}constructor(e,r,n){this._client=e,this._webSocket=r,this._connected=!1,this._serverFrameHandlers={CONNECTED:i=>{this.debug(`connected to server ${i.headers.server}`),this._connected=!0,this._connectedVersion=i.headers.version,this._connectedVersion===B.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(i.headers),this.onConnect(i)},MESSAGE:i=>{const o=i.headers.subscription,s=this._subscriptions[o]||this.onUnhandledMessage,a=i,l=this,u=this._connectedVersion===B.V1_2?a.headers.ack:a.headers["message-id"];a.ack=(c={})=>l.ack(u,o,c),a.nack=(c={})=>l.nack(u,o,c),s(a)},RECEIPT:i=>{const o=this._receiptWatchers[i.headers["receipt-id"]];o?(o(i),delete this._receiptWatchers[i.headers["receipt-id"]]):this.onUnhandledReceipt(i)},ERROR:i=>{this.onStompError(i)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=n.debug,this.stompVersions=n.stompVersions,this.connectHeaders=n.connectHeaders,this.disconnectHeaders=n.disconnectHeaders,this.heartbeatIncoming=n.heartbeatIncoming,this.heartbeatOutgoing=n.heartbeatOutgoing,this.splitLargeFrames=n.splitLargeFrames,this.maxWebSocketChunkSize=n.maxWebSocketChunkSize,this.forceBinaryWSFrames=n.forceBinaryWSFrames,this.logRawCommunication=n.logRawCommunication,this.appendMissingNULLonIncoming=n.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=n.discardWebsocketOnCommFailure,this.onConnect=n.onConnect,this.onDisconnect=n.onDisconnect,this.onStompError=n.onStompError,this.onWebSocketClose=n.onWebSocketClose,this.onWebSocketError=n.onWebSocketError,this.onUnhandledMessage=n.onUnhandledMessage,this.onUnhandledReceipt=n.onUnhandledReceipt,this.onUnhandledFrame=n.onUnhandledFrame}start(){const e=new Bo(r=>{const n=X.fromRawFrame(r,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${n}`),(this._serverFrameHandlers[n.command]||this.onUnhandledFrame)(n)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=r=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const n=r.data instanceof ArrayBuffer?new TextDecoder().decode(r.data):r.data;this.debug(`<<< ${n}`)}e.parseChunk(r.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=r=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(r)},this._webSocket.onerror=r=>{this.onWebSocketError(r)},this._webSocket.onopen=()=>{const r=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),r["accept-version"]=this.stompVersions.supportedVersions(),r["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:r})}}_setupHeartbeat(e){if(e.version!==B.V1_1&&e.version!==B.V1_2||!e["heart-beat"])return;const[r,n]=e["heart-beat"].split(",").map(i=>parseInt(i,10));if(this.heartbeatOutgoing!==0&&n!==0){const i=Math.max(this.heartbeatOutgoing,n);this.debug(`send PING every ${i}ms`),this._pinger=new Uo(i,this._client.heartbeatStrategy,this.debug),this._pinger.start(()=>{this._webSocket.readyState===z.OPEN&&(this._webSocket.send(ne.LF),this.debug(">>> PING"))})}if(this.heartbeatIncoming!==0&&r!==0){const i=Math.max(this.heartbeatIncoming,r);this.debug(`check PONG every ${i}ms`),this._ponger=setInterval(()=>{const o=Date.now()-this._lastServerActivityTS;o>i*2&&(this.debug(`did not receive server activity for the last ${o}ms`),this._closeOrDiscardWebsocket())},i)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===z.CONNECTING||this._webSocket.readyState===z.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&Ao(this._webSocket,e=>this.debug(e)),this._webSocket.terminate()}_transmit(e){const{command:r,headers:n,body:i,binaryBody:o,skipContentLengthHeader:s}=e,a=new X({command:r,headers:n,body:i,binaryBody:o,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:s});let l=a.serialize();if(this.logRawCommunication?this.debug(`>>> ${l}`):this.debug(`>>> ${a}`),this.forceBinaryWSFrames&&typeof l=="string"&&(l=new TextEncoder().encode(l)),typeof l!="string"||!this.splitLargeFrames)this._webSocket.send(l);else{let u=l;for(;u.length>0;){const c=u.substring(0,this.maxWebSocketChunkSize);u=u.substring(this.maxWebSocketChunkSize),this._webSocket.send(c),this.debug(`chunk sent = ${c.length}, remaining = ${u.length}`)}}}dispose(){if(this.connected)try{const e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt=`close-${this._counter++}`),this.watchForReceipt(e.receipt,r=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(r)}),this._transmit({command:"DISCONNECT",headers:e})}catch(e){this.debug(`Ignoring error during disconnect ${e}`)}else(this._webSocket.readyState===z.CONNECTING||this._webSocket.readyState===z.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(this._pinger.stop(),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(e){const{destination:r,headers:n,body:i,binaryBody:o,skipContentLengthHeader:s}=e,a=Object.assign({destination:r},n);this._transmit({command:"SEND",headers:a,body:i,binaryBody:o,skipContentLengthHeader:s})}watchForReceipt(e,r){this._receiptWatchers[e]=r}subscribe(e,r,n={}){n=Object.assign({},n),n.id||(n.id=`sub-${this._counter++}`),n.destination=e,this._subscriptions[n.id]=r,this._transmit({command:"SUBSCRIBE",headers:n});const i=this;return{id:n.id,unsubscribe(o){return i.unsubscribe(n.id,o)}}}unsubscribe(e,r={}){r=Object.assign({},r),delete this._subscriptions[e],r.id=e,this._transmit({command:"UNSUBSCRIBE",headers:r})}begin(e){const r=e||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:r}});const n=this;return{id:r,commit(){n.commit(r)},abort(){n.abort(r)}}}commit(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}abort(e){this._transmit({command:"ABORT",headers:{transaction:e}})}ack(e,r,n={}){n=Object.assign({},n),this._connectedVersion===B.V1_2?n.id=e:n["message-id"]=e,n.subscription=r,this._transmit({command:"ACK",headers:n})}nack(e,r,n={}){return n=Object.assign({},n),this._connectedVersion===B.V1_2?n.id=e:n["message-id"]=e,n.subscription=r,this._transmit({command:"NACK",headers:n})}}class Do{get webSocket(){var e;return(e=this._stompHandler)==null?void 0:e._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===D.ACTIVE}_changeState(e){this.state=e,this.onChangeState(e)}constructor(e={}){this.stompVersions=B.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this._nextReconnectDelay=0,this.maxReconnectDelay=15*60*1e3,this.reconnectTimeMode=Se.LINEAR,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.heartbeatStrategy=oe.Interval,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=D.INACTIVE;const r=()=>{};this.debug=r,this.beforeConnect=r,this.onConnect=r,this.onDisconnect=r,this.onUnhandledMessage=r,this.onUnhandledReceipt=r,this.onUnhandledFrame=r,this.onStompError=r,this.onWebSocketClose=r,this.onWebSocketError=r,this.logRawCommunication=!1,this.onChangeState=r,this.connectHeaders={},this._disconnectHeaders={},this.configure(e)}configure(e){Object.assign(this,e),this.maxReconnectDelay>0&&this.maxReconnectDelay<this.reconnectDelay&&(this.debug(`Warning: maxReconnectDelay (${this.maxReconnectDelay}ms) is less than reconnectDelay (${this.reconnectDelay}ms). Using reconnectDelay as the maxReconnectDelay delay.`),this.maxReconnectDelay=this.reconnectDelay)}activate(){const e=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(D.ACTIVE),this._nextReconnectDelay=this.reconnectDelay,this._connect()};this.state===D.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{e()})):e()}async _connect(){if(await this.beforeConnect(this),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const e=this._createWebSocket();this._stompHandler=new jo(this,e,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,heartbeatStrategy:this.heartbeatStrategy,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:r=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(r)},onDisconnect:r=>{this.onDisconnect(r)},onStompError:r=>{this.onStompError(r)},onWebSocketClose:r=>{this._stompHandler=void 0,this.state===D.DEACTIVATING&&this._changeState(D.INACTIVE),this.onWebSocketClose(r),this.active&&this._schedule_reconnect()},onWebSocketError:r=>{this.onWebSocketError(r)},onUnhandledMessage:r=>{this.onUnhandledMessage(r)},onUnhandledReceipt:r=>{this.onUnhandledReceipt(r)},onUnhandledFrame:r=>{this.onUnhandledFrame(r)}}),this._stompHandler.start()}_createWebSocket(){let e;if(this.webSocketFactory)e=this.webSocketFactory();else if(this.brokerURL)e=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return e.binaryType="arraybuffer",e}_schedule_reconnect(){this._nextReconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this._nextReconnectDelay}ms`),this._reconnector=setTimeout(()=>{this.reconnectTimeMode===Se.EXPONENTIAL&&(this._nextReconnectDelay=this._nextReconnectDelay*2,this.maxReconnectDelay!==0&&(this._nextReconnectDelay=Math.min(this._nextReconnectDelay,this.maxReconnectDelay))),this._connect()},this._nextReconnectDelay))}async deactivate(e={}){var o;const r=e.force||!1,n=this.active;let i;if(this.state===D.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(D.DEACTIVATING),this._nextReconnectDelay=0,this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==z.CLOSED){const s=this._stompHandler.onWebSocketClose;i=new Promise((a,l)=>{this._stompHandler.onWebSocketClose=u=>{s(u),a()}})}else return this._changeState(D.INACTIVE),Promise.resolve();return r?(o=this._stompHandler)==null||o.discardWebsocket():n&&this._disposeStompHandler(),i}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(e){this._checkConnection(),this._stompHandler.publish(e)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(e,r){this._checkConnection(),this._stompHandler.watchForReceipt(e,r)}subscribe(e,r,n={}){return this._checkConnection(),this._stompHandler.subscribe(e,r,n)}unsubscribe(e,r={}){this._checkConnection(),this._stompHandler.unsubscribe(e,r)}begin(e){return this._checkConnection(),this._stompHandler.begin(e)}commit(e){this._checkConnection(),this._stompHandler.commit(e)}abort(e){this._checkConnection(),this._stompHandler.abort(e)}ack(e,r,n={}){this._checkConnection(),this._stompHandler.ack(e,r,n)}nack(e,r,n={}){this._checkConnection(),this._stompHandler.nack(e,r,n)}}const Ho=({username:t,groupId:e})=>{const[r,n]=y.useState([]),[i,o]=y.useState(""),s=y.useRef(null);y.useEffect(()=>{const l=new Po("http://localhost:8081/ws"),u=new Do({webSocketFactory:()=>l,reconnectDelay:5e3,onConnect:()=>{console.log("Connected to WebSocket"),u.subscribe(`/topic/group/${e}`,c=>{const h=JSON.parse(c.body);n(f=>[...f,h])})},onStompError:c=>{console.error("WebSocket error:",c)}});return u.activate(),s.current=u,()=>{u&&u.deactivate()}},[e]);const a=()=>{var l;if(i.trim()&&((l=s.current)!=null&&l.connected)){const u={sender:t,content:i,type:"CHAT",timestamp:new Date().toISOString()};s.current.publish({destination:`/app/chat/${e}`,body:JSON.stringify(u)}),o("")}};return P.jsxs("div",{style:{maxWidth:"600px",margin:"20px auto"},children:[P.jsxs("h2",{children:["Group Chat - ",e]}),P.jsx("div",{style:{border:"1px solid #ccc",padding:"10px",height:"300px",overflowY:"auto"},children:r.map((l,u)=>P.jsxs("div",{children:[P.jsx("strong",{children:l.sender}),": ",l.content]},u))}),P.jsxs("div",{style:{marginTop:"10px"},children:[P.jsx("input",{type:"text",value:i,onChange:l=>o(l.target.value),onKeyDown:l=>l.key==="Enter"&&a(),placeholder:"Type a message...",style:{width:"80%"}}),P.jsx("button",{onClick:a,style:{width:"18%",marginLeft:"2%"},children:"Send"})]})]})};function $o(){return P.jsx(P.Fragment,{children:P.jsx(zi,{children:P.jsxs(Si,{children:[P.jsx(we,{path:"/",element:P.jsx(Ho,{})}),P.jsx(we,{path:"/dashboard",element:P.jsx(Pn,{})}),P.jsx(we,{path:"/editor",element:P.jsx(Nn,{})})]})})})}Ln.createRoot(document.getElementById("root")).render(P.jsx(y.StrictMode,{children:P.jsx($o,{})}));
